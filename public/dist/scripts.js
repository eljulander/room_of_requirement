"use strict";var config={apiKey:"AIzaSyCRfRp20kEkpwO1Bs30sDyBkC4Qf-rsuNM",authDomain:"course-file-auditor.firebaseapp.com",databaseURL:"https://course-file-auditor.firebaseio.com",storageBucket:"course-file-auditor.appspot.com"};firebase.initializeApp(config);var database=firebase.database(),provider=new firebase.auth.GoogleAuthProvider;
"use strict";function toggleSignIn(){if(firebase.auth().currentUser)firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/plus.login"),e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)}document.getElementById("quickstart-sign-in").disabled=!0}function initApp(){firebase.auth().getRedirectResult().then(function(e){if(e.credential){var i=e.credential.accessToken;console.log(i)}else console.log("token null");e.user})["catch"](function(e){var i=e.code;e.message,e.email,e.credential;"auth/account-exists-with-different-credential"===i?alert("You have already signed up with a different auth provider for that email."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){e?(displayName=e.displayName,email=e.email,emailVerified=e.emailVerified,photoURL=e.photoURL,isAnonymous=e.isAnonymous,uid=e.uid,refreshToken=e.refreshToken,providerData=e.providerData,document.getElementById("quickstart-sign-in").textContent="Sign out",database.ref("users/"+uid).update({displayName:displayName,email:email,emailVerified:emailVerified,photoURL:photoURL,isAnonymous:isAnonymous,uid:uid,refreshToken:refreshToken,providerData:providerData})):document.getElementById("quickstart-sign-in").textContent="Sign in with Google",document.getElementById("quickstart-sign-in").disabled=!1}),document.getElementById("quickstart-sign-in").addEventListener("click",toggleSignIn,!1)}var displayName,email,emailVerified,photoURL,isAnonymous,uid,refreshToken,providerData;window.onload=function(){initApp()};
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t,e){t.wand=e()}("undefined"!=typeof window?window:void 0,function(){var t={apndr:function(t,e){if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||"object"!==("undefined"==typeof e?"undefined":_typeof(e))||Array.isArray(e))if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))console.error("First parameter passed is not an object element.");else if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))"string"!=typeof e&&"number"!=typeof e||t.appendChild(this.txt(e));else if(Array.isArray(e))for(var r=e,n=0;n<r.length;n++)this.apndr(t,r[n]);else console.error("Parameters are not compatible in the lib.apndr function.  Hit the arrow on the left for call stack.");else t.appendChild(e)},querApndr:function(t,e,r){var n=document.querySelector(t);if(null!=n){if(Array.isArray(e))for(var o=e,i=0;i<o.length;i++)this.apndr(n,this.crtElm(o[i]));else r?this.apndr(n,this.crtElm(e,r)):this.apndr(n,e);return n}console.error("No tag exists in the DOM. Hit the arrow on the left for call stack.")},querAttr:function(t,e,r){var n=document.querySelector(t);null==n?console.error("No tag exists in the DOM. Hit the arrow on the left for call stack."):e&&n.setAttribute(e,r)},txt:function(t){return"string"==typeof t?document.createTextNode(t):"number"==typeof t?document.createTextNode(t.toString()):void console.error("Parameter passed to lib.txt is not a string nor a number.  Hit the arrow on the left for call stack.")},crtElm:function(t,e){var r,n=document.createElement(t);return e&&("string"==typeof e?(r=this.txt(e),this.apndr(n,r)):console.error("Must pass a string as the second param in lib.crtElm function.  Hit the arrow on the left for call stack.")),n}};return t});
"use strict";!function(){function e(){wand.querApndr("article","h1","Profile want to be seen?  Not yet!")}function n(){wand.querApndr("article","h1","Stats want to be seen?  Not yet!")}function t(e){for(var n in e)console.log(e[n]),wand.querApndr("article","p",n)}function o(e){"There is nothing here!"===e&&wand.querApndr("article","h1",e)}function r(e){wand.querApndr("article","h1",e)}function i(e){console.log(e),r(e.Link),o(e.Quizzes),t(e["Content Pages"])}function a(){l.innerHTML=""}function c(e){var n,t=e.target.innerText.split("Project Number ")[1];database.ref("Mark's Tool/"+t).once("value",function(e){n=e.val(),i(n)})}var l=wand.querApndr("article");document.onclick=function(t){var o=t.target.innerText.indexOf("Project")>-1,r="h2"===t.target.localName,i="button"===t.target.localName,l=t.target.innerText.indexOf("Home")>-1,u=t.target.innerText.indexOf("Profile")>-1,d=t.target.innerText.indexOf("Stats")>-1;if(o&&r)console.log("Project Clicked!"),a(),c(t);else if(l&&i)console.log("Home Clicked!"),a(),window.startCourseLoad();else if(u&&i)console.log("Profile clicked!"),a(),e();else{if(!d||!i)return;console.log("Stats clicked!"),a(),n()}}}();
"use strict";!function(a){function n(a,n){var r=wand.crtElm("section"),o=wand.crtElm("h2","Project Number "+a);o.className="courseTitle",wand.apndr(r,o),wand.querApndr("main article",r)}var r,o;a.startCourseLoad=function(){database.ref("Mark's Tool").once("child_added",function(a){o=a.val(),r=a.key,n(r,o)})},a.onload=a.startCourseLoad}(window);
"use strict";!function(){var t={home:"Home",profile:"My Profile",stats:"Stats"};for(var r in t)wand.querApndr("nav","button",t[r])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyIsImxvZ2luLmpzIiwid2FuZC5qcyIsImNsaWNraGFuZGxlci5qcyIsIm1haW4uanMiLCJuYXYuanMiXSwibmFtZXMiOlsiY29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsImRhdGFiYXNlVVJMIiwic3RvcmFnZUJ1Y2tldCIsImZpcmViYXNlIiwiaW5pdGlhbGl6ZUFwcCIsImRhdGFiYXNlIiwicHJvdmlkZXIiLCJhdXRoIiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwidG9nZ2xlU2lnbkluIiwiY3VycmVudFVzZXIiLCJzaWduT3V0IiwiYWRkU2NvcGUiLCJzaWduSW5XaXRoUmVkaXJlY3QiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGlzYWJsZWQiLCJpbml0QXBwIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsInRva2VuIiwiYWNjZXNzVG9rZW4iLCJjb25zb2xlIiwibG9nIiwidXNlciIsImVycm9yIiwiZXJyb3JDb2RlIiwiY29kZSIsIm1lc3NhZ2UiLCJlbWFpbCIsImFsZXJ0Iiwib25BdXRoU3RhdGVDaGFuZ2VkIiwiZGlzcGxheU5hbWUiLCJlbWFpbFZlcmlmaWVkIiwicGhvdG9VUkwiLCJpc0Fub255bW91cyIsInVpZCIsInJlZnJlc2hUb2tlbiIsInByb3ZpZGVyRGF0YSIsInRleHRDb250ZW50IiwicmVmIiwidXBkYXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsIm9ubG9hZCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwiZ2xvIiwibGliIiwid2FuZCIsInVuZGVmaW5lZCIsImFwbmRyIiwiYSIsImIiLCJBcnJheSIsImlzQXJyYXkiLCJhcHBlbmRDaGlsZCIsInRoaXMiLCJ0eHQiLCJhcnIiLCJpIiwibGVuZ3RoIiwicXVlckFwbmRyIiwiYyIsImVsZSIsInF1ZXJ5U2VsZWN0b3IiLCJjcnRFbG0iLCJxdWVyQXR0ciIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZVRleHROb2RlIiwidG9TdHJpbmciLCJjcmVhdGVFbGVtZW50IiwibG9hZFByb2ZpbGUiLCJsb2FkU3RhdHMiLCJsb2FkQ29udGVudFRvZG8iLCJjcCIsInF1aXpMb2FkIiwicSIsImRpc0xpbmsiLCJsIiwiZGlzcGxheURldGFpbHMiLCJjZCIsIkxpbmsiLCJRdWl6emVzIiwiY2xlYXJBcnRpY2xlIiwiYXJ0aWNsZSIsImlubmVySFRNTCIsImxvYWRDb3Vyc2VEZXRhaWxzIiwiZSIsImNvdXJzZURldGFpbHMiLCJjb3Vyc2VOdW0iLCJ0YXJnZXQiLCJpbm5lclRleHQiLCJzcGxpdCIsIm9uY2UiLCJzbmFwIiwidmFsIiwib25jbGljayIsInByb2plY3QiLCJpbmRleE9mIiwiaDJsb2NhbCIsImxvY2FsTmFtZSIsImJ1dHRvbmxvY2FsIiwiaG9tZSIsInByb2ZpbGUiLCJzdGF0cyIsInN0YXJ0Q291cnNlTG9hZCIsImdlbmVyYXRlQ291cnNlUHJldmlldyIsImlkIiwiZGV0YWlscyIsInNlY3Rpb24iLCJoZWFkZXIiLCJjbGFzc05hbWUiLCJjb3Vyc2VfaWQiLCJjb3Vyc2VfZGV0YWlscyIsImtleSIsIm5hdmlnIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFBLElBQUlBLFNBQ0FDLE9BQVEsMENBQ1JDLFdBQVksc0NBQ1pDLFlBQWEsNkNBQ2JDLGNBQWUsa0NBRW5CQyxVQUFTQyxjQUFjTixPQUV2QixJQUFJTyxVQUFXRixTQUFTRSxXQUNwQkMsU0FBVyxHQUFJSCxVQUFTSSxLQUFLQztBQ1RqQyxZQUFJLFNBQVNDLGdCQUNMLEdBQUtOLFNBQVNJLE9BQU9HLFlBU2pCUCxTQUFTSSxPQUFPSSxjQVRjLENBQzlCLEdBQUlMLEdBQVcsR0FBSUgsVUFBU0ksS0FBS0Msa0JBRWpDRixHQUFTTSxTQUFTLDhDQUNsQk4sRUFBU00sU0FBUyxXQUNsQk4sRUFBU00sU0FBUyxTQUNsQlQsU0FBU0ksT0FBT00sbUJBQW1CUCxHQUt2Q1EsU0FBU0MsZUFBZSxzQkFBc0JD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RUFBWWxCLEVBQUtvQixJQUVqQlIsRUFBc0JNLEVBQVdDLE1BSXpDMUUsRUFBT0MsT0FBU0QsRUFBT2tFLGlCQUN6QmxFO0FDekJGLGNBQUMsV0FHRyxHQUFJNEUsSUFDQWIsS0FBTSxPQUNOQyxRQUFTLGFBQ1RDLE1BQU8sUUFHWCxLQUFLLEdBQUk3QyxLQUFLd0QsR0FDVm5FLEtBQUthLFVBQVUsTUFBTyxTQUFVc0QsRUFBTXhEIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29uZmlnID0ge1xyXG4gICAgYXBpS2V5OiBcIkFJemFTeUNSZlJwMjBrRWtwd08xQnMzMHNEeUJrQzRRZi1yc3VOTVwiLFxuICAgIGF1dGhEb21haW46IFwiY291cnNlLWZpbGUtYXVkaXRvci5maXJlYmFzZWFwcC5jb21cIixcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL2NvdXJzZS1maWxlLWF1ZGl0b3IuZmlyZWJhc2Vpby5jb21cIixcbiAgICBzdG9yYWdlQnVja2V0OiBcImNvdXJzZS1maWxlLWF1ZGl0b3IuYXBwc3BvdC5jb21cIixcbn07XG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XHJcblxyXG52YXIgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpO1xyXG52YXIgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcbiIsIiAgICBmdW5jdGlvbiB0b2dnbGVTaWduSW4oKSB7XG4gICAgICAgIGlmICghZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcblxuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvcGx1cy5sb2dpbicpO1xuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ3Byb2ZpbGUnKTtcbiAgICAgICAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdlbWFpbCcpO1xuICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhSZWRpcmVjdChwcm92aWRlcik7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgZGlzcGxheU5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBlbWFpbFZlcmlmaWVkLFxuICAgICAgICBwaG90b1VSTCxcbiAgICAgICAgaXNBbm9ueW1vdXMsXG4gICAgICAgIHVpZCxcbiAgICAgICAgcmVmcmVzaFRva2VuLFxuICAgICAgICBwcm92aWRlckRhdGE7XG5cbiAgICBmdW5jdGlvbiBpbml0QXBwKCkge1xuICAgICAgICBmaXJlYmFzZS5hdXRoKCkuZ2V0UmVkaXJlY3RSZXN1bHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuY3JlZGVudGlhbCkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgR29vZ2xlIEFjY2VzcyBUb2tlbi4gWW91IGNhbiB1c2UgaXQgdG8gYWNjZXNzIHRoZSBHb29nbGUgQVBJLlxuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdC5jcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codG9rZW4pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG9rZW4gbnVsbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHVzZXIgPSByZXN1bHQudXNlcjtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcbiAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgdmFyIGVtYWlsID0gZXJyb3IuZW1haWw7XG4gICAgICAgICAgICB2YXIgY3JlZGVudGlhbCA9IGVycm9yLmNyZWRlbnRpYWw7XG4gICAgICAgICAgICBpZiAoZXJyb3JDb2RlID09PSAnYXV0aC9hY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsJykge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdZb3UgaGF2ZSBhbHJlYWR5IHNpZ25lZCB1cCB3aXRoIGEgZGlmZmVyZW50IGF1dGggcHJvdmlkZXIgZm9yIHRoYXQgZW1haWwuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZSA9IHVzZXIuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICAgICAgZW1haWwgPSB1c2VyLmVtYWlsO1xuICAgICAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQgPSB1c2VyLmVtYWlsVmVyaWZpZWQ7XG4gICAgICAgICAgICAgICAgcGhvdG9VUkwgPSB1c2VyLnBob3RvVVJMO1xuICAgICAgICAgICAgICAgIGlzQW5vbnltb3VzID0gdXNlci5pc0Fub255bW91cztcbiAgICAgICAgICAgICAgICB1aWQgPSB1c2VyLnVpZDtcbiAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW4gPSB1c2VyLnJlZnJlc2hUb2tlbjtcbiAgICAgICAgICAgICAgICBwcm92aWRlckRhdGEgPSB1c2VyLnByb3ZpZGVyRGF0YTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS50ZXh0Q29udGVudCA9ICdTaWduIG91dCc7XG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGB1c2Vycy8ke3VpZH1gKS51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogZW1haWxWZXJpZmllZCxcbiAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IHBob3RvVVJMLFxuICAgICAgICAgICAgICAgICAgICBpc0Fub255bW91czogaXNBbm9ueW1vdXMsXG4gICAgICAgICAgICAgICAgICAgIHVpZDogdWlkLFxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHJlZnJlc2hUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiBwcm92aWRlckRhdGFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLnRleHRDb250ZW50ID0gJ1NpZ24gaW4gd2l0aCBHb29nbGUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaWduSW4sIGZhbHNlKTtcbiAgICB9XG5cbiAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpbml0QXBwKCk7XG4gICAgfTtcbiIsIihmdW5jdGlvbiAoZ2xvLCBsaWIpIHtcbiAgICBnbG8ud2FuZCA9IGxpYigpO1xufSh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBsaWIgPSB7XG4gICAgICAgIGFwbmRyOiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBiID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgICAgICAgICAgYS5hcHBlbmRDaGlsZChiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGEgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmlyc3QgcGFyYW1ldGVyIHBhc3NlZCBpcyBub3QgYW4gb2JqZWN0IGVsZW1lbnQuXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgYiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICBhLmFwcGVuZENoaWxkKHRoaXMudHh0KGIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gYjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwbmRyKGEsIGFycltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGFyYW1ldGVycyBhcmUgbm90IGNvbXBhdGlibGUgaW4gdGhlIGxpYi5hcG5kciBmdW5jdGlvbi4gIEhpdCB0aGUgYXJyb3cgb24gdGhlIGxlZnQgZm9yIGNhbGwgc3RhY2suXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBxdWVyQXBuZHI6IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgICAgICB2YXIgZWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKTtcbiAgICAgICAgICAgIGlmIChlbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyB0YWcgZXhpc3RzIGluIHRoZSBET00uIEhpdCB0aGUgYXJyb3cgb24gdGhlIGxlZnQgZm9yIGNhbGwgc3RhY2suXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyID0gYjtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBuZHIoZWxlLCB0aGlzLmNydEVsbShhcnJbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwbmRyKGVsZSwgdGhpcy5jcnRFbG0oYiwgYykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBuZHIoZWxlLCBiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBxdWVyQXR0cjogZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEpO1xuICAgICAgICAgICAgaWYgKGVsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIHRhZyBleGlzdHMgaW4gdGhlIERPTS4gSGl0IHRoZSBhcnJvdyBvbiB0aGUgbGVmdCBmb3IgY2FsbCBzdGFjay5cIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoYiwgYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0eHQ6IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQYXJhbWV0ZXIgcGFzc2VkIHRvIGxpYi50eHQgaXMgbm90IGEgc3RyaW5nIG5vciBhIG51bWJlci4gIEhpdCB0aGUgYXJyb3cgb24gdGhlIGxlZnQgZm9yIGNhbGwgc3RhY2suXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjcnRFbG06IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgZWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxcbiAgICAgICAgICAgICAgICB0eHQ7XG4gICAgICAgICAgICBpZiAoYikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB0eHQgPSB0aGlzLnR4dChiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcG5kcihlbGUsIHR4dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk11c3QgcGFzcyBhIHN0cmluZyBhcyB0aGUgc2Vjb25kIHBhcmFtIGluIGxpYi5jcnRFbG0gZnVuY3Rpb24uICBIaXQgdGhlIGFycm93IG9uIHRoZSBsZWZ0IGZvciBjYWxsIHN0YWNrLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaWI7XG59KSk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgYXJ0aWNsZSA9IHdhbmQucXVlckFwbmRyKFwiYXJ0aWNsZVwiKTtcblxuICAgIGZ1bmN0aW9uIGxvYWRQcm9maWxlKCkge1xuICAgICAgICB3YW5kLnF1ZXJBcG5kcihcImFydGljbGVcIiwgXCJoMVwiLCBcIlByb2ZpbGUgd2FudCB0byBiZSBzZWVuPyAgTm90IHlldCFcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZFN0YXRzKCkge1xuICAgICAgICB3YW5kLnF1ZXJBcG5kcihcImFydGljbGVcIiwgXCJoMVwiLCBcIlN0YXRzIHdhbnQgdG8gYmUgc2Vlbj8gIE5vdCB5ZXQhXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRDb250ZW50VG9kbyhjcCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIGNwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjcFtpXSk7XG4gICAgICAgICAgICB3YW5kLnF1ZXJBcG5kcihcImFydGljbGVcIiwgXCJwXCIsIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcXVpekxvYWQocSkge1xuICAgICAgICBpZiAocSA9PT0gXCJUaGVyZSBpcyBub3RoaW5nIGhlcmUhXCIpIHtcbiAgICAgICAgICAgIHdhbmQucXVlckFwbmRyKFwiYXJ0aWNsZVwiLCBcImgxXCIsIHEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNMaW5rKGwpIHtcbiAgICAgICAgd2FuZC5xdWVyQXBuZHIoXCJhcnRpY2xlXCIsIFwiaDFcIiwgbClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNwbGF5RGV0YWlscyhjZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhjZCk7XG4gICAgICAgIGRpc0xpbmsoY2QuTGluayk7XG4gICAgICAgIHF1aXpMb2FkKGNkLlF1aXp6ZXMpO1xuICAgICAgICBsb2FkQ29udGVudFRvZG8oY2RbXCJDb250ZW50IFBhZ2VzXCJdKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckFydGljbGUoKSB7XG4gICAgICAgIGFydGljbGUuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkQ291cnNlRGV0YWlscyhlKSB7XG4gICAgICAgIHZhciBjb3Vyc2VOdW0gPSBlLnRhcmdldC5pbm5lclRleHQuc3BsaXQoXCJQcm9qZWN0IE51bWJlciBcIilbMV0sXG4gICAgICAgICAgICBjb3Vyc2VEZXRhaWxzO1xuXG4gICAgICAgIGRhdGFiYXNlLnJlZihgTWFyaydzIFRvb2wvJHtjb3Vyc2VOdW19YCkub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICAgICAgICBjb3Vyc2VEZXRhaWxzID0gc25hcC52YWwoKTtcbiAgICAgICAgICAgIGRpc3BsYXlEZXRhaWxzKGNvdXJzZURldGFpbHMpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGRvY3VtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcHJvamVjdCA9IGUudGFyZ2V0LmlubmVyVGV4dC5pbmRleE9mKFwiUHJvamVjdFwiKSA+IC0xLFxuICAgICAgICAgICAgaDJsb2NhbCA9IGUudGFyZ2V0LmxvY2FsTmFtZSA9PT0gXCJoMlwiLFxuICAgICAgICAgICAgYnV0dG9ubG9jYWwgPSBlLnRhcmdldC5sb2NhbE5hbWUgPT09IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICBob21lID0gZS50YXJnZXQuaW5uZXJUZXh0LmluZGV4T2YoXCJIb21lXCIpID4gLTEsXG4gICAgICAgICAgICBwcm9maWxlID0gZS50YXJnZXQuaW5uZXJUZXh0LmluZGV4T2YoXCJQcm9maWxlXCIpID4gLTEsXG4gICAgICAgICAgICBzdGF0cyA9IGUudGFyZ2V0LmlubmVyVGV4dC5pbmRleE9mKFwiU3RhdHNcIikgPiAtMTtcblxuICAgICAgICBpZiAocHJvamVjdCAmJiBoMmxvY2FsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlByb2plY3QgQ2xpY2tlZCFcIik7XG4gICAgICAgICAgICBjbGVhckFydGljbGUoKTtcbiAgICAgICAgICAgIGxvYWRDb3Vyc2VEZXRhaWxzKGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGhvbWUgJiYgYnV0dG9ubG9jYWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSG9tZSBDbGlja2VkIVwiKTtcbiAgICAgICAgICAgIGNsZWFyQXJ0aWNsZSgpO1xuICAgICAgICAgICAgd2luZG93LnN0YXJ0Q291cnNlTG9hZCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2ZpbGUgJiYgYnV0dG9ubG9jYWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUHJvZmlsZSBjbGlja2VkIVwiKTtcbiAgICAgICAgICAgIGNsZWFyQXJ0aWNsZSgpO1xuICAgICAgICAgICAgbG9hZFByb2ZpbGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0cyAmJiBidXR0b25sb2NhbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdGF0cyBjbGlja2VkIVwiKTtcbiAgICAgICAgICAgIGNsZWFyQXJ0aWNsZSgpO1xuICAgICAgICAgICAgbG9hZFN0YXRzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xufSgpKTtcbiIsIihmdW5jdGlvbiAod2luZG93KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNvdXJzZV9pZCxcbiAgICAgICAgY291cnNlX2RldGFpbHM7XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUNvdXJzZVByZXZpZXcoaWQsIGRldGFpbHMpIHtcbiAgICAgICAgdmFyIHNlY3Rpb24gPSB3YW5kLmNydEVsbShcInNlY3Rpb25cIik7XG4gICAgICAgIHZhciBoZWFkZXIgPSB3YW5kLmNydEVsbShcImgyXCIsIGBQcm9qZWN0IE51bWJlciAke2lkfWApO1xuICAgICAgICAgICAgaGVhZGVyLmNsYXNzTmFtZSA9IFwiY291cnNlVGl0bGVcIjtcbiAgICAgICAgd2FuZC5hcG5kcihzZWN0aW9uLCBoZWFkZXIpO1xuXG4gICAgICAgIHdhbmQucXVlckFwbmRyKFwibWFpbiBhcnRpY2xlXCIsIHNlY3Rpb24pO1xuICAgIH1cblxuICAgIHdpbmRvdy5zdGFydENvdXJzZUxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcImNoaWxkX2FkZGVkXCIsIGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICAgICAgICBjb3Vyc2VfZGV0YWlscyA9IHNuYXAudmFsKCk7XG4gICAgICAgICAgICBjb3Vyc2VfaWQgPSBzbmFwLmtleTtcblxuICAgICAgICAgICAgZ2VuZXJhdGVDb3Vyc2VQcmV2aWV3KGNvdXJzZV9pZCwgY291cnNlX2RldGFpbHMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB3aW5kb3cub25sb2FkID0gd2luZG93LnN0YXJ0Q291cnNlTG9hZDtcbn0od2luZG93KSk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBuYXZpZyA9IHtcbiAgICAgICAgaG9tZTogXCJIb21lXCIsXG4gICAgICAgIHByb2ZpbGU6IFwiTXkgUHJvZmlsZVwiLFxuICAgICAgICBzdGF0czogXCJTdGF0c1wiXG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSBpbiBuYXZpZykge1xuICAgICAgICB3YW5kLnF1ZXJBcG5kcihcIm5hdlwiLCBcImJ1dHRvblwiLCBuYXZpZ1tpXSk7XG4gICAgfVxuXG59KCkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
