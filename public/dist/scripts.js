"use strict";var config={apiKey:"AIzaSyCRfRp20kEkpwO1Bs30sDyBkC4Qf-rsuNM",authDomain:"course-file-auditor.firebaseapp.com",databaseURL:"https://course-file-auditor.firebaseio.com",storageBucket:"course-file-auditor.appspot.com"};firebase.initializeApp(config);var database=firebase.database(),provider=new firebase.auth.GoogleAuthProvider;
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t,e){t.wand=e()}("undefined"!=typeof window?window:void 0,function(){var t={apndr:function(t,e){if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||"object"!==("undefined"==typeof e?"undefined":_typeof(e))||Array.isArray(e))if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))console.error("First parameter passed is not an object element.");else if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))"string"!=typeof e&&"number"!=typeof e||t.appendChild(this.txt(e));else if(Array.isArray(e))for(var r=e,n=0;n<r.length;n++)this.apndr(t,r[n]);else console.error("Parameters are not compatible in the lib.apndr function.  Hit the arrow on the left for call stack.");else t.appendChild(e)},querApndr:function(t,e,r){var n=document.querySelector(t);if(null!=n){if(Array.isArray(e))for(var o=e,i=0;i<o.length;i++)this.apndr(n,this.crtElm(o[i]));else r?this.apndr(n,this.crtElm(e,r)):this.apndr(n,e);return n}console.error("No tag exists in the DOM. Hit the arrow on the left for call stack.")},querAttr:function(t,e,r){var n=document.querySelector(t);null==n?console.error("No tag exists in the DOM. Hit the arrow on the left for call stack."):e&&n.setAttribute(e,r)},txt:function(t){return"string"==typeof t?document.createTextNode(t):"number"==typeof t?document.createTextNode(t.toString()):void console.error("Parameter passed to lib.txt is not a string nor a number.  Hit the arrow on the left for call stack.")},crtElm:function(t,e){var r,n=document.createElement(t);return e&&("string"==typeof e?(r=this.txt(e),this.apndr(n,r)):console.error("Must pass a string as the second param in lib.crtElm function.  Hit the arrow on the left for call stack.")),n}};return t});
"use strict";!function(){wand.querApndr("nav")}();
"use strict";function toggleSignIn(){if(firebase.auth().currentUser)firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/plus.login"),e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)}document.getElementById("quickstart-sign-in").disabled=!0}function initApp(){firebase.auth().getRedirectResult().then(function(e){if(e.credential){var i=e.credential.accessToken;console.log(i)}else console.log("token null");e.user})["catch"](function(e){var i=e.code;e.message,e.email,e.credential;"auth/account-exists-with-different-credential"===i?alert("You have already signed up with a different auth provider for that email."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){e?(displayName=e.displayName,email=e.email,emailVerified=e.emailVerified,photoURL=e.photoURL,isAnonymous=e.isAnonymous,uid=e.uid,refreshToken=e.refreshToken,providerData=e.providerData,document.getElementById("quickstart-sign-in").textContent="Sign out",database.ref("users/"+uid).update({displayName:displayName,email:email,emailVerified:emailVerified,photoURL:photoURL,isAnonymous:isAnonymous,uid:uid,refreshToken:refreshToken,providerData:providerData})):document.getElementById("quickstart-sign-in").textContent="Sign in with Google",document.getElementById("quickstart-sign-in").disabled=!1}),document.getElementById("quickstart-sign-in").addEventListener("click",toggleSignIn,!1)}var displayName,email,emailVerified,photoURL,isAnonymous,uid,refreshToken,providerData;window.onload=function(){initApp()};
"use strict";!function(){function a(a,n){var r=wand.crtElm("section"),d=wand.crtElm("h2","Project Number "+a);wand.apndr(r,d),wand.querApndr("main article",r)}var n,r;database.ref("Mark's Tool").on("child_added",function(d){r=d.val(),n=d.key,a(n,r)})}();
"use strict";!function(){var n={home:"Home",profile:"My Profile"};wand.querApndr("nav","button",n.home),wand.querApndr("nav","button",n.profile)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyIsIndhbmQuanMiLCJjbGlja2hhbmRsZXIuanMiLCJsb2dpbi5qcyIsIm1haW4uanMiLCJuYXYuanMiXSwibmFtZXMiOlsiY29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsImRhdGFiYXNlVVJMIiwic3RvcmFnZUJ1Y2tldCIsImZpcmViYXNlIiwiaW5pdGlhbGl6ZUFwcCIsImRhdGFiYXNlIiwicHJvdmlkZXIiLCJhdXRoIiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJnbG8iLCJsaWIiLCJ3YW5kIiwid2luZG93IiwidW5kZWZpbmVkIiwiYXBuZHIiLCJhIiwiYiIsIkFycmF5IiwiaXNBcnJheSIsImNvbnNvbGUiLCJlcnJvciIsImFwcGVuZENoaWxkIiwidGhpcyIsInR4dCIsImFyciIsImkiLCJsZW5ndGgiLCJxdWVyQXBuZHIiLCJjIiwiZWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3J0RWxtIiwicXVlckF0dHIiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVUZXh0Tm9kZSIsInRvU3RyaW5nIiwiY3JlYXRlRWxlbWVudCIsInRvZ2dsZVNpZ25JbiIsImN1cnJlbnRVc2VyIiwic2lnbk91dCIsImFkZFNjb3BlIiwic2lnbkluV2l0aFJlZGlyZWN0IiwiZ2V0RWxlbWVudEJ5SWQiLCJkaXNhYmxlZCIsImluaXRBcHAiLCJnZXRSZWRpcmVjdFJlc3VsdCIsInRoZW4iLCJyZXN1bHQiLCJjcmVkZW50aWFsIiwidG9rZW4iLCJhY2Nlc3NUb2tlbiIsImxvZyIsInVzZXIiLCJlcnJvckNvZGUiLCJjb2RlIiwibWVzc2FnZSIsImVtYWlsIiwiYWxlcnQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJkaXNwbGF5TmFtZSIsImVtYWlsVmVyaWZpZWQiLCJwaG90b1VSTCIsImlzQW5vbnltb3VzIiwidWlkIiwicmVmcmVzaFRva2VuIiwicHJvdmlkZXJEYXRhIiwidGV4dENvbnRlbnQiLCJyZWYiLCJ1cGRhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwib25sb2FkIiwiZ2VuZXJhdGVDb3Vyc2VQcmV2aWV3IiwiaWQiLCJkZXRhaWxzIiwic2VjdGlvbiIsImhlYWRlciIsImNvdXJzZV9pZCIsImNvdXJzZV9kZXRhaWxzIiwib24iLCJzbmFwIiwidmFsIiwia2V5IiwibmF2aWciLCJob21lIiwicHJvZmlsZSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBQSxJQUFJQSxTQUNBQyxPQUFRLDBDQUNSQyxXQUFZLHNDQUNaQyxZQUFhLDZDQUNiQyxjQUFlLGtDQUVuQkMsVUFBU0MsY0FBY04sT0FFdkIsSUFBSU8sVUFBV0YsU0FBU0UsV0FDcEJDLFNBQVcsR0FBSUgsVUFBU0ksS0FBS0M7QUNUakMsWUFFQSxJQUFJQyxTQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFVQyxHQUFPLGFBQWNBLElBQVMsU0FBVUEsR0FBTyxNQUFPQSxJQUF5QixrQkFBWEYsU0FBeUJFLEVBQUlDLGNBQWdCSCxPQUFTLGVBQWtCRSxLQUZ6TyxTQUFVRSxFQUFLQyxHQUNaRCxFQUFJRSxLQUFPRCxLQUNLLG1CQUFYRSxRQUF5QkEsT0FBaENDLE9BQStDLFdBQzdDLEdBQUlILElBQ0FJLE1BQU8sU0FBVUMsRUFBR0MsR0FDaEIsR0FBaUIsWUFBYixtQkFBT0QsR0FBUCxZQUFBWCxRQUFPVyxLQUErQixZQUFiLG1CQUFPQyxHQUFQLFlBQUFaLFFBQU9ZLEtBQW1CQyxNQUFNQyxRQUFRRixHQUU5RCxHQUFpQixZQUFiLG1CQUFPRCxHQUFQLFlBQUFYLFFBQU9XLElBQ2RJLFFBQVFDLE1BQU0sd0RBQ1gsSUFBaUIsWUFBYixtQkFBT0osR0FBUCxZQUFBWixRQUFPWSxJQUNHLGdCQUFOQSxJQUErQixnQkFBTkEsSUFDaENELEVBQUVNLFlBQVlDLEtBQUtDLElBQUlQLFFBRXhCLElBQUlDLE1BQU1DLFFBQVFGLEdBRXJCLElBQUssR0FERFEsR0FBTVIsRUFDRFMsRUFB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QUFzQjJCLGlCQUFpQixRQUFTaEMsY0FBYyxHQTFEMUYsR0FBSXNCLGFBQ0FILE1BQ0FJLGNBQ0FDLFNBQ0FDLFlBQ0FDLElBQ0FDLGFBQ0FDLFlBc0RKdEQsUUFBTzJELE9BQVMsV0FDWjFCO0FDN0VSLGNBQUMsV0FNRyxRQUFTMkIsR0FBc0JDLEVBQUlDLEdBQy9CLEdBQUlDLEdBQVVoRSxLQUFLcUIsT0FBTyxXQUN0QjRDLEVBQVNqRSxLQUFLcUIsT0FBTyxLQUFaLGtCQUFvQ3lDLEVBQ2pEOUQsTUFBS0csTUFBTTZELEVBQVNDLEdBRXBCakUsS0FBS2dCLFVBQVUsZUFBZ0JnRCxHQVJuQyxHQUFJRSxHQUNBQyxDQVVKOUUsVUFBU29FLElBQUksZUFBZVcsR0FBRyxjQUFlLFNBQVVDLEdBQ3BERixFQUFpQkUsRUFBS0MsTUFDdEJKLEVBQVlHLEVBQUtFLElBRWpCVixFQUFzQkssRUFBV0M7QUNsQnpDLGNBQUMsV0FHRyxHQUFJSyxJQUNBQyxLQUFNLE9BQ05DLFFBQUEsYUFHSjFFLE1BQUtnQixVQUFVLE1BQU8sU0FBVXdELEVBQU1DLE1BQ3RDekUsS0FBS2dCLFVBQVUsTUFBTyxTQUFVd0QsRUFBTUUiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBjb25maWcgPSB7XHJcbiAgICBhcGlLZXk6IFwiQUl6YVN5Q1JmUnAyMGtFa3B3TzFCczMwc0R5QmtDNFFmLXJzdU5NXCIsXG4gICAgYXV0aERvbWFpbjogXCJjb3Vyc2UtZmlsZS1hdWRpdG9yLmZpcmViYXNlYXBwLmNvbVwiLFxuICAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vY291cnNlLWZpbGUtYXVkaXRvci5maXJlYmFzZWlvLmNvbVwiLFxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwiY291cnNlLWZpbGUtYXVkaXRvci5hcHBzcG90LmNvbVwiLFxufTtcbmZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcclxuXHJcbnZhciBkYXRhYmFzZSA9IGZpcmViYXNlLmRhdGFiYXNlKCk7XHJcbnZhciBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuIiwiKGZ1bmN0aW9uIChnbG8sIGxpYikge1xuICAgIGdsby53YW5kID0gbGliKCk7XG59KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxpYiA9IHtcbiAgICAgICAgYXBuZHI6IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGIgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgICAgICAgICBhLmFwcGVuZENoaWxkKGIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGaXJzdCBwYXJhbWV0ZXIgcGFzc2VkIGlzIG5vdCBhbiBvYmplY3QgZWxlbWVudC5cIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBiICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBiID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQodGhpcy50eHQoYikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBiO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBuZHIoYSwgYXJyW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQYXJhbWV0ZXJzIGFyZSBub3QgY29tcGF0aWJsZSBpbiB0aGUgbGliLmFwbmRyIGZ1bmN0aW9uLiAgSGl0IHRoZSBhcnJvdyBvbiB0aGUgbGVmdCBmb3IgY2FsbCBzdGFjay5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHF1ZXJBcG5kcjogZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEpO1xuICAgICAgICAgICAgaWYgKGVsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIHRhZyBleGlzdHMgaW4gdGhlIERPTS4gSGl0IHRoZSBhcnJvdyBvbiB0aGUgbGVmdCBmb3IgY2FsbCBzdGFjay5cIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSBiO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcG5kcihlbGUsIHRoaXMuY3J0RWxtKGFycltpXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBuZHIoZWxlLCB0aGlzLmNydEVsbShiLCBjKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcG5kcihlbGUsIGIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHF1ZXJBdHRyOiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICAgICAgdmFyIGVsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYSk7XG4gICAgICAgICAgICBpZiAoZWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTm8gdGFnIGV4aXN0cyBpbiB0aGUgRE9NLiBIaXQgdGhlIGFycm93IG9uIHRoZSBsZWZ0IGZvciBjYWxsIHN0YWNrLlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlLnNldEF0dHJpYnV0ZShiLCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHR4dDogZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGEgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBhcmFtZXRlciBwYXNzZWQgdG8gbGliLnR4dCBpcyBub3QgYSBzdHJpbmcgbm9yIGEgbnVtYmVyLiAgSGl0IHRoZSBhcnJvdyBvbiB0aGUgbGVmdCBmb3IgY2FsbCBzdGFjay5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNydEVsbTogZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLFxuICAgICAgICAgICAgICAgIHR4dDtcbiAgICAgICAgICAgIGlmIChiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHR4dCA9IHRoaXMudHh0KGIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwbmRyKGVsZSwgdHh0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTXVzdCBwYXNzIGEgc3RyaW5nIGFzIHRoZSBzZWNvbmQgcGFyYW0gaW4gbGliLmNydEVsbSBmdW5jdGlvbi4gIEhpdCB0aGUgYXJyb3cgb24gdGhlIGxlZnQgZm9yIGNhbGwgc3RhY2suXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpYjtcbn0pKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5hdiA9IHdhbmQucXVlckFwbmRyKFwibmF2XCIpO1xufSgpKVxuIiwiICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZ25JbigpIHtcbiAgICAgICAgaWYgKCFmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuXG4gICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9wbHVzLmxvZ2luJyk7XG4gICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgncHJvZmlsZScpO1xuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFJlZGlyZWN0KHByb3ZpZGVyKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBkaXNwbGF5TmFtZSxcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGVtYWlsVmVyaWZpZWQsXG4gICAgICAgIHBob3RvVVJMLFxuICAgICAgICBpc0Fub255bW91cyxcbiAgICAgICAgdWlkLFxuICAgICAgICByZWZyZXNoVG9rZW4sXG4gICAgICAgIHByb3ZpZGVyRGF0YTtcblxuICAgIGZ1bmN0aW9uIGluaXRBcHAoKSB7XG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5nZXRSZWRpcmVjdFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5jcmVkZW50aWFsKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBHb29nbGUgQWNjZXNzIFRva2VuLiBZb3UgY2FuIHVzZSBpdCB0byBhY2Nlc3MgdGhlIEdvb2dsZSBBUEkuXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiBudWxsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdXNlciA9IHJlc3VsdC51c2VyO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlO1xuICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICB2YXIgZW1haWwgPSBlcnJvci5lbWFpbDtcbiAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gZXJyb3IuY3JlZGVudGlhbDtcbiAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPT09ICdhdXRoL2FjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWwnKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ1lvdSBoYXZlIGFscmVhZHkgc2lnbmVkIHVwIHdpdGggYSBkaWZmZXJlbnQgYXV0aCBwcm92aWRlciBmb3IgdGhhdCBlbWFpbC4nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gdXNlci5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgICAgICBlbWFpbCA9IHVzZXIuZW1haWw7XG4gICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZCA9IHVzZXIuZW1haWxWZXJpZmllZDtcbiAgICAgICAgICAgICAgICBwaG90b1VSTCA9IHVzZXIucGhvdG9VUkw7XG4gICAgICAgICAgICAgICAgaXNBbm9ueW1vdXMgPSB1c2VyLmlzQW5vbnltb3VzO1xuICAgICAgICAgICAgICAgIHVpZCA9IHVzZXIudWlkO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbiA9IHVzZXIucmVmcmVzaFRva2VuO1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YSA9IHVzZXIucHJvdmlkZXJEYXRhO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLnRleHRDb250ZW50ID0gJ1NpZ24gb3V0JztcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoYHVzZXJzLyR7dWlkfWApLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBlbWFpbFZlcmlmaWVkLFxuICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogcGhvdG9VUkwsXG4gICAgICAgICAgICAgICAgICAgIGlzQW5vbnltb3VzOiBpc0Fub255bW91cyxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiB1aWQsXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IHByb3ZpZGVyRGF0YVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykudGV4dENvbnRlbnQgPSAnU2lnbiBpbiB3aXRoIEdvb2dsZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVNpZ25JbiwgZmFsc2UpO1xuICAgIH1cblxuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluaXRBcHAoKTtcbiAgICB9O1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY291cnNlX2lkLFxuICAgICAgICBjb3Vyc2VfZGV0YWlscztcblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ291cnNlUHJldmlldyhpZCwgZGV0YWlscykge1xuICAgICAgICB2YXIgc2VjdGlvbiA9IHdhbmQuY3J0RWxtKFwic2VjdGlvblwiKTtcbiAgICAgICAgdmFyIGhlYWRlciA9IHdhbmQuY3J0RWxtKFwiaDJcIiwgYFByb2plY3QgTnVtYmVyICR7aWR9YCk7XG4gICAgICAgIHdhbmQuYXBuZHIoc2VjdGlvbiwgaGVhZGVyKTtcblxuICAgICAgICB3YW5kLnF1ZXJBcG5kcihcIm1haW4gYXJ0aWNsZVwiLCBzZWN0aW9uKTtcbiAgICB9XG5cbiAgICBkYXRhYmFzZS5yZWYoXCJNYXJrJ3MgVG9vbFwiKS5vbihcImNoaWxkX2FkZGVkXCIsIGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICAgIGNvdXJzZV9kZXRhaWxzID0gc25hcC52YWwoKTtcbiAgICAgICAgY291cnNlX2lkID0gc25hcC5rZXk7XG5cbiAgICAgICAgZ2VuZXJhdGVDb3Vyc2VQcmV2aWV3KGNvdXJzZV9pZCwgY291cnNlX2RldGFpbHMpO1xuICAgIH0pO1xufSgpKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIG5hdmlnID0ge1xuICAgICAgICBob21lOiBcIkhvbWVcIixcbiAgICAgICAgcHJvZmlsZTogYE15IFByb2ZpbGVgXG4gICAgfVxuXG4gICAgd2FuZC5xdWVyQXBuZHIoXCJuYXZcIiwgXCJidXR0b25cIiwgbmF2aWcuaG9tZSk7XG4gICAgd2FuZC5xdWVyQXBuZHIoXCJuYXZcIiwgXCJidXR0b25cIiwgbmF2aWcucHJvZmlsZSk7XG5cbn0oKSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
