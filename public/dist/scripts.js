"use strict";var config={apiKey:"AIzaSyCRfRp20kEkpwO1Bs30sDyBkC4Qf-rsuNM",authDomain:"course-file-auditor.firebaseapp.com",databaseURL:"https://course-file-auditor.firebaseio.com",storageBucket:"course-file-auditor.appspot.com"};firebase.initializeApp(config);var database=firebase.database();
"use strict";var corrData={16149:"HFED 340",16150:"B 129",16152:"B 380",16153:"B 275",16154:"B 424",16155:"B 101",16156:"B 100",16158:"B 499A",16161:"FHGEN 270",16162:"B 448",16163:"B 201",16164:"FAML 360",16165:"FAML 430",16166:"HFED 101",16167:"ME 201",16170:"B 183",16171:"B 212",16173:"FAML 460",16175:"FHGEN 251D",16176:"FHGEN 112",16177:"B 211",16178:"B 250",16179:"FHGEN 120",16180:"FAML 400",16181:"FHGEN 130",16182:"FHGEN 160",16183:"FHGEN 211",16184:"B 240",16185:"B 283",16187:"FAML 445",16188:"FHGEN 399",16189:"FHGEN 212",16190:"FHGEN 251A",16191:"B 401",16192:"B 341",16193:"FAML 498R",16195:"FHGEN 251B",16196:"FHGEN 251C",16197:"B 301",16198:"B 370",16199:"CHILD 320",16200:"FAML 300",16201:"FHGEN 252B",16202:"B 321",16203:"FDMAT 108",16204:"B 361",16207:"FHGEN 140",16208:"FDMAT 112",16209:"CHILD 300",16211:"B 424D",16212:"CHILD 210",16213:"FAML 100",16214:"ECON 150",16215:"AGBUS 105",16216:"FHGEN 111",16218:"FAML 160",16219:"ECON 151",16221:"B 100",19492:"FDHUM 110",23800:"B 410",23801:"B 428",33923:"CS 313",40664:"FAML 200",42377:"B 499B",50273:"HS 390",50274:"FDWLD 101",50275:"FDWLD 201",50276:"FDINT 211",50277:"ENG 252",50278:"ED 202",50279:"ED 200",50281:"FDSCI 101",50282:"HS 240",50283:"ANTH 101",50284:"AUTO 125",50285:"CIT 360",50286:"CIT 370",50289:"FDSCI 201",50290:"HS 310",57713:"CIT 230",57714:"POLSC 110",58369:"BIO 265L",58370:"BIO 264",58371:"BIO 264L",58372:"COMM 273",59655:"HS 280",59656:"COMM 175",59657:"CIT 160",59658:"HRHP 131",59659:"FDENG 301",61065:"COMM 125",61373:"MA 106",61374:"FDSCI 203",61375:"NUTR 150",61376:"HS 285",61377:"PSYCH 112",61378:"WDD 100",61380:"CIT 110",61381:"CIT 111",61382:"SPED 310",61908:"PSYCH 111",61909:"CIT 336",61910:"ED 312",61911:"FDSCI 205",61920:"HS 391",61928:"CIT 240",61929:"SOC 111",62216:"MATH 221A",62217:"MATH 221B",62218:"MATH 221C",62453:"COMM 130",62586:"B 220",63193:"COMM 102",63194:"CIT 225",63195:"CIT 260",63196:"HS 320",63419:"PSYCH 201",63581:"HS 370",63921:"FAML 220",64185:"COMM 102",67126:"COMM 310",67127:"HS 460",67128:"BIO 221",67129:"HS 401",67130:"HS 425",67131:"HS 465",67132:"PSYCH 302",67133:"PSYCH 311",67134:"CIT 241",67135:"COMM 111",67136:"HS 345",67137:"MA 105",67138:"POLSC 150",67139:"RM 304",67140:"COMM 307",74838:"ED 202",81222:"CHILD 310",81805:"HS 240",99480:"CIT 261",99482:"POLSC 170",99483:"AGBUS 138",99484:"BIO 375",99485:"FDREL 100",99486:"MA 107",99487:"ENG 325",99488:"RM 307",99489:"COMM 352",99530:"RM 471",100806:"BIO 264",100807:"BIO 265",105615:"TA 402",105706:"MA 105",106277:"CIT 262",106278:"CIT 325",106279:"CIT 352",106280:"CIT 381",106281:"COMM 150",106282:"COMM 250",106283:"COMM 289",106284:"COMM 450",106285:"RM 370",106286:"RM 371",106287:"RM 472",106288:"AGBUS 180A",106289:"AGBUS 180B",106290:"SOC 112",106291:"BIO 381",106292:"BIO 475",106293:"RM 373R",106294:"HS 375",106295:"HS 378",106296:"HS 420",106297:"MA 111",106298:"MA 205",106299:"ENG 332",106300:"ENG 335",106301:"ENG 355",106302:"ED 313",106303:"ENG 251",106989:"ENG 332",109633:"ENG 314",109641:"TA 116"};
"use strict";!function(){function e(){if(firebase.auth().currentUser)localStorage.removeItem("ManagementAuthO"),firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/plus.login"),e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)}document.getElementById("quickstart-sign-in").disabled=!0}function t(e,t){database.ref("users").once("value",function(i){i.forEach(function(i){i.key===e&&(i.val().role||t())})})}function i(){firebase.auth().getRedirectResult().then(function(e){if(e.credential){var t=e.credential.accessToken;location.reload(),console.log(t)}e.user})["catch"](function(e){var t=e.code;e.message,e.email,e.credential;"auth/account-exists-with-different-credential"===t?alert("You have already signed up with a different auth provider for that email."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){if(e){var i={displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL,uid:e.uid};document.getElementById("quickstart-sign-in").textContent="Sign out",database.ref("users/"+i.uid).update({displayName:i.displayName,email:i.email,emailVerified:i.emailVerified,photoURL:i.photoURL,uid:i.uid}),t(i.uid,function(){database.ref("users/"+i.uid).update({role:0})}),localStorage.ManagementAuthO=JSON.stringify(i)}else document.getElementById("quickstart-sign-in").textContent="Sign in with Google";document.getElementById("quickstart-sign-in").disabled=!1}),document.getElementById("quickstart-sign-in").addEventListener("click",e,!1)}window.onload=function(){i()}}();
"use strict";!function(){function e(){database.ref("users").once("value",function(e){e.forEach(function(e){var a=e.val().displayName;o.push(a)})})}function a(){var e=$("<input></input>");return e.keyup(function(e){$("#userNames").html("");for(var a=e.target.value.toLowerCase(),t=e.target,n=0;n<o.length;n++){var r=o[n].toLowerCase();if(r.includes(a)){var s=$("<p>"+o[n]+"</p>");s.attr("id","empName").click(function(e){$(t).val(e.target.innerText)}),$("#userNames").append(s)}}}),e}function t(e){var a=e.target,t=$(a).attr("data-courseid");console.log(a,t,a.parentElement),database.ref("Mark's Tool/"+t).update({checker:""}),$(a).css({display:"none"})}function n(e,n,r){console.log(e,n,r);var s,o=$("#"+r),c=$('<label data-courseID="'+n+'"><a target="_blank" href="'+e.Link+'">'+corrData[n]+"</a></label>"),l=$("<p> &times;</p>");""!==e.checker&&"checkedOut"===r&&database.ref("users/"+e.checker).once("value",function(e){var a=e.val().displayName;l.css({cursor:"pointer"}).click(t),c.append("<p>"+a+"</p>").append(l)}),"unassigned"===r&&(s=a()),c.append(s),o.append(c)}function r(e){var a=e.target.parentElement,t=a.getAttribute("data-courseid");database.ref("Mark's Tool/"+t).update({status:"Designer Approved"}),e.target.style.display="none"}function s(){var e=$(".chart");new Chart(e,{type:"line",data:l,options:i})}var o=[];$("a[href='#']").click(function(e){var a=e.target.className;"checked"===a&&$("#namePopup").css({display:"block"}),$("#"+a).css({display:"block"}),$("#shade").css({display:"block"})}),$(".cancel").click(function(e){var a=e.target.parentElement;$("#namePopup").css({display:"none"}),$(a).css({display:"none"}),$("#shade").css({display:"none"})}),$("#assign").click(function(e){var a=$("[data-courseid] > input");$.each(a,function(e,t){var n=t.value,r=t.parentElement.getAttribute("data-courseid");database.ref("users").once("value",function(s){s.val();s.forEach(function(s){var o=s.val();if(n===o.displayName){var c=s.key;database.ref("Mark's Tool/"+r).update({checker:c}),console.log(t.parentElement),t.parentElement.style.display="none"}a[e].value=""})})})});var c={"Student Approved":function(e,a){var t=$('<label data-courseID="'+a+'"><a target="_blank" href="'+e.Link+'">'+corrData[a]+"</a></label>"),n=$("<span>&#x2713;</span>");$(n).css({cursor:"pointer"}).click(r),$(t).append(n),$("#completed").append(t)},"Designer Approved":function(e,a){$("#approved").append('<label data-courseID="'+a+'"><a target="_blank" href="'+e.Link+'">'+corrData[a]+"</a></label>")}},l={datasets:[{label:"Data Saved",backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(33, 98, 98, 0.4)",data:[{x:-10,y:0},{x:0,y:10},{x:10,y:5}]},{label:"Time Spent",backgroundColor:"rgba(23, 56, 234, 0.4)",borderColor:"rgba(0, 11, 72, 0.4)",data:[{x:-10,y:1},{x:4,y:10},{x:9,y:5}]}]},i={responsive:!0,scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Months"}}],yAxes:[{type:"linear",position:"left",scaleLabel:{display:!0,labelString:""}}]}};location.pathname.includes("admin")&&(e(),database.ref("Mark's Tool").on("child_added",function(e){var a=e.val(),t=e.key,r="There is nothing here!";a.status||database.ref("Mark's Tool/"+t).update({status:"Pending",time_spent:0,Completed:"False",data_saved:0,checker:""}),a["Content Pages"]===r&&a.Quizzes===r||"Pending"===a.status&&(a.checker?n(a,t,"checkedOut"):n(a,t,"unassigned"))}),database.ref("Mark's Tool").on("child_changed",function(e){var a=e.val(),t=e.key;console.log("Occuring"),n(a,t,"checkedOut")}),database.ref("Mark's Tool").once("value",function(e){e.forEach(function(e){var a=e.val();"Designer Approved"===a.status?c["Designer Approved"](a,e.key):"True"!==a.Completed&&"Student Approved"!==a.status||c["Student Approved"](a,e.key)})}),s(),a())}();
"use strict";
"use strict";!function(){var n,o,t=JSON.parse(localStorage.ManagementAuthO)||"",i=$("nav"),a=$("<button>Home</button>");a.click(function(n){var o=location.origin;location.assign(o+"/index.html")}),i.append(a),database.ref("users/"+t.uid).once("value",function(t){n=t.val().role,o=$("<button>Admin</button>"),n>=8&&(console.log("User logged in is Administrator"),o.click(function(n){console.log("li");var o=n.target.innerText.toLowerCase(),t=location.origin;location.assign(t+"/"+o+".html")}),i.append(o))})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyIsImNvdXJzZV9uYW1lLmpzIiwibG9naW4uanMiLCJhZG1pbi5qcyIsImRhdGFfbmF2LmpzIiwibmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiZGF0YWJhc2UiLCJjb3JyRGF0YSIsIjE2MTQ5IiwiMTYxNTAiLCIxNjE1MiIsIjE2MTUzIiwiMTYxNTQiLCIxNjE1NSIsIjE2MTU2IiwiMTYxNTgiLCIxNjE2MSIsIjE2MTYyIiwiMTYxNjMiLCIxNjE2NCIsIjE2MTY1IiwiMTYxNjYiLCIxNjE2NyIsIjE2MTcwIiwiMTYxNzEiLCIxNjE3MyIsIjE2MTc1IiwiMTYxNzYiLCIxNjE3NyIsIjE2MTc4IiwiMTYxNzkiLCIxNjE4MCIsIjE2MTgxIiwiMTYxODIiLCIxNjE4MyIsIjE2MTg0IiwiMTYxODUiLCIxNjE4NyIsIjE2MTg4IiwiMTYxODkiLCIxNjE5MCIsIjE2MTkxIiwiMTYxOTIiLCIxNjE5MyIsIjE2MTk1IiwiMTYxOTYiLCIxNjE5NyIsIjE2MTk4IiwiMTYxOTkiLCIxNjIwMCIsIjE2MjAxIiwiMTYyMDIiLCIxNjIwMyIsIjE2MjA0IiwiMTYyMDciLCIxNjIwOCIsIjE2MjA5IiwiMTYyMTEiLCIxNjIxMiIsIjE2MjEzIiwiMTYyMTQiLCIxNjIxNSIsIjE2MjE2IiwiMTYyMTgiLCIxNjIxOSIsIjE2MjIxIiwiMTk0OTIiLCIyMzgwMCIsIjIzODAxIiwiMzM5MjMiLCI0MDY2NCIsIjQyMzc3IiwiNTAyNzMiLCI1MDI3NCIsIjUwMjc1IiwiNTAyNzYiLCI1MDI3NyIsIjUwMjc4IiwiNTAyNzkiLCI1MDI4MSIsIjUwMjgyIiwiNTAyODMiLCI1MDI4NCIsIjUwMjg1IiwiNTAyODYiLCI1MDI4OSIsIjUwMjkwIiwiNTc3MTMiLCI1NzcxNCIsIjU4MzY5IiwiNTgzNzAiLCI1ODM3MSIsIjU4MzcyIiwiNTk2NTUiLCI1OTY1NiIsIjU5NjU3IiwiNTk2NTgiLCI1OTY1OSIsIjYxMDY1IiwiNjEzNzMiLCI2MTM3NCIsIjYxMzc1IiwiNjEzNzYiLCI2MTM3NyIsIjYxMzc4IiwiNjEzODAiLCI2MTM4MSIsIjYxMzgyIiwiNjE5MDgiLCI2MTkwOSIsIjYxOTEwIiwiNjE5MTEiLCI2MTkyMCIsIjYxOTI4IiwiNjE5MjkiLCI2MjIxNiIsIjYyMjE3IiwiNjIyMTgiLCI2MjQ1MyIsIjYyNTg2IiwiNjMxOTMiLCI2MzE5NCIsIjYzMTk1IiwiNjMxOTYiLCI2MzQxOSIsIjYzNTgxIiwiNjM5MjEiLCI2NDE4NSIsIjY3MTI2IiwiNjcxMjciLCI2NzEyOCIsIjY3MTI5IiwiNjcxMzAiLCI2NzEzMSIsIjY3MTMyIiwiNjcxMzMiLCI2NzEzNCIsIjY3MTM1IiwiNjcxMzYiLCI2NzEzNyIsIjY3MTM4IiwiNjcxMzkiLCI2NzE0MCIsIjc0ODM4IiwiODEyMjIiLCI4MTgwNSIsIjk5NDgwIiwiOTk0ODIiLCI5OTQ4MyIsIjk5NDg0IiwiOTk0ODUiLCI5OTQ4NiIsIjk5NDg3IiwiOTk0ODgiLCI5OTQ4OSIsIjk5NTMwIiwiMTAwODA2IiwiMTAwODA3IiwiMTA1NjE1IiwiMTA1NzA2IiwiMTA2Mjc3IiwiMTA2Mjc4IiwiMTA2Mjc5IiwiMTA2MjgwIiwiMTA2MjgxIiwiMTA2MjgyIiwiMTA2MjgzIiwiMTA2Mjg0IiwiMTA2Mjg1IiwiMTA2Mjg2IiwiMTA2Mjg3IiwiMTA2Mjg4IiwiMTA2Mjg5IiwiMTA2MjkwIiwiMTA2MjkxIiwiMTA2MjkyIiwiMTA2MjkzIiwiMTA2Mjk0IiwiMTA2Mjk1IiwiMTA2Mjk2IiwiMTA2Mjk3IiwiMTA2Mjk4IiwiMTA2Mjk5IiwiMTA2MzAwIiwiMTA2MzAxIiwiMTA2MzAyIiwiMTA2MzAzIiwiMTA2OTg5IiwiMTA5NjMzIiwiMTA5NjQxIiwidG9nZ2xlU2lnbkluIiwiYXV0aCIsImN1cnJlbnRVc2VyIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNpZ25PdXQiLCJwcm92aWRlciIsIkdvb2dsZUF1dGhQcm92aWRlciIsImFkZFNjb3BlIiwic2lnbkluV2l0aFJlZGlyZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRpc2FibGVkIiwic2V0Um9sZSIsInVpZCIsImZ1bmMiLCJyZWYiLCJvbmNlIiwic25hcCIsImZvckVhY2giLCJjc25hcCIsImtleSIsInZhbCIsInJvbGUiLCJpbml0QXBwIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsInRva2VuIiwiYWNjZXNzVG9rZW4iLCJsb2NhdGlvbiIsInJlbG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJjb2RlIiwibWVzc2FnZSIsImVtYWlsIiwiYWxlcnQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJhdXRoTyIsImRpc3BsYXlOYW1lIiwiZW1haWxWZXJpZmllZCIsInBob3RvVVJMIiwidGV4dENvbnRlbnQiLCJ1cGRhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsIm9ubG9hZCIsImxvYWRVc2VycyIsIm5hbWUiLCJsb2FkZWRVc2VycyIsInB1c2giLCJ1c2VyU2VsZWN0IiwiaW5wdXQiLCIkIiwia2V5dXAiLCJlIiwiaHRtbCIsImlucHV0VmFsIiwidGFyZ2V0IiwidmFsdWUiLCJ0b0xvd2VyQ2FzZSIsInNlbGVjdGVkSW5wdXQiLCJpIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJwYXJhIiwiYXR0ciIsImNsaWNrIiwiaW5uZXJUZXh0IiwiYXBwZW5kIiwidW5jaGVja291dCIsImNsaWNrZWRFbGVtZW50IiwiY291cnNlSUQiLCJwYXJlbnRFbGVtZW50IiwiY2hlY2tlciIsImNzcyIsImRpc3BsYXkiLCJwb3B1bGF0ZUNoZWNrIiwiY2QiLCJjbiIsInRhciIsInBvcHVsYXRlIiwiY291cnNlTmFtZSIsInRpbWVzIiwiY3Vyc29yIiwiYXBwcm92ZWQiLCJnZXRBdHRyaWJ1dGUiLCJzdGF0dXMiLCJzdHlsZSIsImNoYXJ0cyIsImN0eCIsIkNoYXJ0IiwidHlwZSIsImRhdGEiLCJvcHRpb25zIiwiY2xhc3NJRCIsImNsYXNzTmFtZSIsInBhcmVudCIsImlucHV0QXNzaWduIiwiZWFjaCIsInN0dWRlbnRBc3NpZ25tZW50Iiwic3RhdHVzRnVuY3Rpb25zIiwiU3R1ZGVudCBBcHByb3ZlZCIsImxhYmVsIiwiY2hlY2siLCJEZXNpZ25lciBBcHByb3ZlZCIsImRhdGFzZXRzIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJ4IiwieSIsInJlc3BvbnNpdmUiLCJzY2FsZXMiLCJ4QXhlcyIsInBvc2l0aW9uIiwic2NhbGVMYWJlbCIsImxhYmVsU3RyaW5nIiwieUF4ZXMiLCJwYXRobmFtZSIsIm9uIiwiY291cnNlRGF0YSIsIm5vdGhpbmciLCJ0aW1lX3NwZW50IiwiQ29tcGxldGVkIiwiZGF0YV9zYXZlZCIsImRhdGFOYW1lIiwiYWRtaW5CdXR0b24iLCJhdXRoRGF0YSIsInBhcnNlIiwibmF2IiwiaG9tZUJ1dHRvbiIsInJvb3QiLCJvcmlnaW4iLCJhc3NpZ24iLCJwYWdlIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFBLElBQUlBLFNBQ0FDLE9BQVEsMENBQ1JDLFdBQVksc0NBQ1pDLFlBQWEsNkNBQ2JDLGNBQWUsa0NBRW5CQyxVQUFTQyxjQUFjTixPQUV2QixJQUFJTyxVQUFXRixTQUFTRTtBQ1J4QixZQUFBLElBQUlDLFdBQ0FDLE1BQVMsV0FDVEMsTUFBUyxRQUNUQyxNQUFTLFFBQ1RDLE1BQVMsUUFDVEMsTUFBUyxRQUNUQyxNQUFTLFFBQ1RDLE1BQVMsUUFDVEMsTUFBUyxTQUNUQyxNQUFTLFlBQ1RDLE1BQVMsUUFDVEMsTUFBUyxRQUNUQyxNQUFTLFdBQ1RDLE1BQVMsV0FDVEMsTUFBUyxXQUNUQyxNQUFTLFNBQ1RDLE1BQVMsUUFDVEMsTUFBUyxRQUNUQyxNQUFTLFdBQ1RDLE1BQVMsYUFDVEMsTUFBUyxZQUNUQyxNQUFTLFFBQ1RDLE1BQVMsUUFDVEMsTUFBUyxZQUNUQyxNQUFTLFdBQ1RDLE1BQVMsWUFDVEMsTUFBUyxZQUNUQyxNQUFTLFlBQ1RDLE1BQVMsUUFDVEMsTUFBUyxRQUNUQyxNQUFTLFdBQ1RDLE1BQVMsWUFDVEMsTUFBUyxZQUNUQyxNQUFTLGFBQ1RDLE1BQVMsUUFDVEMsTUFBUyxRQUNUQyxNQUFTLFlBQ1RDLE1BQVMsYUFDVEMsTUFBUyxhQUNUQyxNQUFTLFFBQ1RDLE1BQVMsUUFDVEMsTUFBUyxZQUNUQyxNQUFTLFdBQ1RDLE1BQVMsYUFDVEMsTUFBUyxRQUNUQyxNQUFTLFlBQ1RDLE1BQVMsUUFDVEMsTUFBUyxZQUNUQyxNQUFTLFlBQ1RDLE1BQVMsWUFDVEMsTUFBUyxTQUNUQyxNQUFTLFlBQ1RDLE1BQVMsV0FDVEMsTUFBUyxXQUNUQyxNQUFTLFlBQ1RDLE1BQVMsWUFDVEMsTUFBUyxXQUNUQyxNQUFTLFdBQ1RDLE1BQVMsUUFDVEMsTUFBUyxZQUNUQyxNQUFTLFFBQ1RDLE1BQVMsUUFDVEMsTUFBUyxTQUNUQyxNQUFTLFdBQ1RDLE1BQVMsU0FDVEMsTUFBUyxTQUNUQyxNQUFTLFlBQ1RDLE1BQVMsWUFDVEMsTUFBUyxZQUNUQyxNQUFTLFVBQ1RDLE1BQVMsU0FDVEMsTUFBUyxTQUNUQyxNQUFTLFlBQ1RDLE1BQVMsU0FDVEMsTUFBUyxXQUNUQyxNQUFTLFdBQ1RDLE1BQVMsVUFDVEMsTUFBUyxVQUNUQyxNQUFTLFlBQ1RDLE1BQVMsU0FDVEMsTUFBUyxVQUNUQyxNQUFTLFlBQ1RDLE1BQVMsV0FDVEMsTUFBUyxVQUNUQyxNQUFTLFdBQ1RDLE1BQVMsV0FDVEMsTUFBUyxTQUNUQyxNQUFTLFdBQ1RDLE1BQVMsVUFDVEMsTUFBUyxXQUNUQyxNQUFTLFlBQ1RDLE1BQVMsV0FDVEMsTUFBUyxTQUNUQyxNQUFTLFlBQ1RDLE1BQVMsV0FDVEMsTUFBUyxTQUNUQyxNQUFTLFlBQ1RDLE1BQVMsVUFDVEMsTUFBUyxVQUNUQyxNQUFTLFVBQ1RDLE1BQVMsV0FDVEMsTUFBUyxZQUNUQyxNQUFTLFVBQ1RDLE1BQVMsU0FDVEMsTUFBUyxZQUNUQyxNQUFTLFNBQ1RDLE1BQVMsVUFDVEMsTUFBUyxVQUNUQyxNQUFTLFlBQ1RDLE1BQVMsWUFDVEMsTUFBUyxZQUNUQyxNQUFTLFdBQ1RDLE1BQVMsUUFDVEMsTUFBUyxXQUNUQyxNQUFTLFVBQ1RDLE1BQVMsVUFDVEMsTUFBUyxTQUNUQyxNQUFTLFlBQ1RDLE1BQVMsU0FDVEMsTUFBUyxXQUNUQyxNQUFTLFdBQ1RDLE1BQVMsV0FDVEMsTUFBUyxTQUNUQyxNQUFTLFVBQ1RDLE1BQVMsU0FDVEMsTUFBUyxTQUNUQyxNQUFTLFNBQ1RDLE1BQVMsWUFDVEMsTUFBUyxZQUNUQyxNQUFTLFVBQ1RDLE1BQVMsV0FDVEMsTUFBUyxTQUNUQyxNQUFTLFNBQ1RDLE1BQVMsWUFDVEMsTUFBUyxTQUNUQyxNQUFTLFdBQ1RDLE1BQVMsU0FDVEMsTUFBUyxZQUNUQyxNQUFTLFNBQ1RDLE1BQVMsVUFDVEMsTUFBUyxZQUNUQyxNQUFTLFlBQ1RDLE1BQVMsVUFDVEMsTUFBUyxZQUNUQyxNQUFTLFNBQ1RDLE1BQVMsVUFDVEMsTUFBUyxTQUNUQyxNQUFTLFdBQ1RDLE1BQVMsU0FDVEMsT0FBVSxVQUNWQyxPQUFVLFVBQ1ZDLE9BQVUsU0FDVkMsT0FBVSxTQUNWQyxPQUFVLFVBQ1ZDLE9BQVUsVUFDVkMsT0FBVSxVQUNWQyxPQUFVLFVBQ1ZDLE9BQVUsV0FDVkMsT0FBVSxXQUNWQyxPQUFVLFdBQ1ZDLE9BQVUsV0FDVkMsT0FBVSxTQUNWQyxPQUFVLFNBQ1ZDLE9BQVUsU0FDVkMsT0FBVSxhQUNWQyxPQUFVLGFBQ1ZDLE9BQVUsVUFDVkMsT0FBVSxVQUNWQyxPQUFVLFVBQ1ZDLE9BQVUsVUFDVkMsT0FBVSxTQUNWQyxPQUFVLFNBQ1ZDLE9BQVUsU0FDVkMsT0FBVSxTQUNWQyxPQUFVLFNBQ1ZDLE9BQVUsVUFDVkMsT0FBVSxVQUNWQyxPQUFVLFVBQ1ZDLE9BQVUsU0FDVkMsT0FBVSxVQUNWQyxPQUFVLFVBQ1ZDLE9BQVUsVUFDVkMsT0FBVTtBQ3RMZCxjQUFDLFdBRUcsUUFBU0MsS0FDTCxHQUFLMUwsU0FBUzJMLE9BQU9DLFlBU2pCQyxhQUFhQyxXQUFX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Q29udGVudCI6WyJ2YXIgY29uZmlnID0ge1xuICAgIGFwaUtleTogXCJBSXphU3lDUmZScDIwa0VrcHdPMUJzMzBzRHlCa0M0UWYtcnN1Tk1cIixcbiAgICBhdXRoRG9tYWluOiBcImNvdXJzZS1maWxlLWF1ZGl0b3IuZmlyZWJhc2VhcHAuY29tXCIsXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9jb3Vyc2UtZmlsZS1hdWRpdG9yLmZpcmViYXNlaW8uY29tXCIsXG4gICAgc3RvcmFnZUJ1Y2tldDogXCJjb3Vyc2UtZmlsZS1hdWRpdG9yLmFwcHNwb3QuY29tXCIsXG59O1xuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcpO1xuXG52YXIgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpO1xuXG5cblxuLypcbkJlbG93IGlzIGEgc2V0IG9mIHF1ZXJ5IHNjcmlwdHMgdG8gbW9kaWZ5IHRoZSBkYXRhYmFzZVxuKi9cblxuLypcbmRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbihzbmFwKXtcbiAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKXtcbiAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NzbmFwLmtleX1gKS51cGRhdGUoe1xuICAgICAgICAgICAgQ29tcGxldGVkOiBcIkZhbHNlXCIsXG4gICAgICAgIH0pXG4gICAgfSlcbn0pXG4qL1xuXG4iLCJ2YXIgY29yckRhdGEgPSB7XG4gICAgXCIxNjE0OVwiOiBcIkhGRUQgMzQwXCIsXG4gICAgXCIxNjE1MFwiOiBcIkIgMTI5XCIsXG4gICAgXCIxNjE1MlwiOiBcIkIgMzgwXCIsXG4gICAgXCIxNjE1M1wiOiBcIkIgMjc1XCIsXG4gICAgXCIxNjE1NFwiOiBcIkIgNDI0XCIsXG4gICAgXCIxNjE1NVwiOiBcIkIgMTAxXCIsXG4gICAgXCIxNjE1NlwiOiBcIkIgMTAwXCIsXG4gICAgXCIxNjE1OFwiOiBcIkIgNDk5QVwiLFxuICAgIFwiMTYxNjFcIjogXCJGSEdFTiAyNzBcIixcbiAgICBcIjE2MTYyXCI6IFwiQiA0NDhcIixcbiAgICBcIjE2MTYzXCI6IFwiQiAyMDFcIixcbiAgICBcIjE2MTY0XCI6IFwiRkFNTCAzNjBcIixcbiAgICBcIjE2MTY1XCI6IFwiRkFNTCA0MzBcIixcbiAgICBcIjE2MTY2XCI6IFwiSEZFRCAxMDFcIixcbiAgICBcIjE2MTY3XCI6IFwiTUUgMjAxXCIsXG4gICAgXCIxNjE3MFwiOiBcIkIgMTgzXCIsXG4gICAgXCIxNjE3MVwiOiBcIkIgMjEyXCIsXG4gICAgXCIxNjE3M1wiOiBcIkZBTUwgNDYwXCIsXG4gICAgXCIxNjE3NVwiOiBcIkZIR0VOIDI1MURcIixcbiAgICBcIjE2MTc2XCI6IFwiRkhHRU4gMTEyXCIsXG4gICAgXCIxNjE3N1wiOiBcIkIgMjExXCIsXG4gICAgXCIxNjE3OFwiOiBcIkIgMjUwXCIsXG4gICAgXCIxNjE3OVwiOiBcIkZIR0VOIDEyMFwiLFxuICAgIFwiMTYxODBcIjogXCJGQU1MIDQwMFwiLFxuICAgIFwiMTYxODFcIjogXCJGSEdFTiAxMzBcIixcbiAgICBcIjE2MTgyXCI6IFwiRkhHRU4gMTYwXCIsXG4gICAgXCIxNjE4M1wiOiBcIkZIR0VOIDIxMVwiLFxuICAgIFwiMTYxODRcIjogXCJCIDI0MFwiLFxuICAgIFwiMTYxODVcIjogXCJCIDI4M1wiLFxuICAgIFwiMTYxODdcIjogXCJGQU1MIDQ0NVwiLFxuICAgIFwiMTYxODhcIjogXCJGSEdFTiAzOTlcIixcbiAgICBcIjE2MTg5XCI6IFwiRkhHRU4gMjEyXCIsXG4gICAgXCIxNjE5MFwiOiBcIkZIR0VOIDI1MUFcIixcbiAgICBcIjE2MTkxXCI6IFwiQiA0MDFcIixcbiAgICBcIjE2MTkyXCI6IFwiQiAzNDFcIixcbiAgICBcIjE2MTkzXCI6IFwiRkFNTCA0OThSXCIsXG4gICAgXCIxNjE5NVwiOiBcIkZIR0VOIDI1MUJcIixcbiAgICBcIjE2MTk2XCI6IFwiRkhHRU4gMjUxQ1wiLFxuICAgIFwiMTYxOTdcIjogXCJCIDMwMVwiLFxuICAgIFwiMTYxOThcIjogXCJCIDM3MFwiLFxuICAgIFwiMTYxOTlcIjogXCJDSElMRCAzMjBcIixcbiAgICBcIjE2MjAwXCI6IFwiRkFNTCAzMDBcIixcbiAgICBcIjE2MjAxXCI6IFwiRkhHRU4gMjUyQlwiLFxuICAgIFwiMTYyMDJcIjogXCJCIDMyMVwiLFxuICAgIFwiMTYyMDNcIjogXCJGRE1BVCAxMDhcIixcbiAgICBcIjE2MjA0XCI6IFwiQiAzNjFcIixcbiAgICBcIjE2MjA3XCI6IFwiRkhHRU4gMTQwXCIsXG4gICAgXCIxNjIwOFwiOiBcIkZETUFUIDExMlwiLFxuICAgIFwiMTYyMDlcIjogXCJDSElMRCAzMDBcIixcbiAgICBcIjE2MjExXCI6IFwiQiA0MjREXCIsXG4gICAgXCIxNjIxMlwiOiBcIkNISUxEIDIxMFwiLFxuICAgIFwiMTYyMTNcIjogXCJGQU1MIDEwMFwiLFxuICAgIFwiMTYyMTRcIjogXCJFQ09OIDE1MFwiLFxuICAgIFwiMTYyMTVcIjogXCJBR0JVUyAxMDVcIixcbiAgICBcIjE2MjE2XCI6IFwiRkhHRU4gMTExXCIsXG4gICAgXCIxNjIxOFwiOiBcIkZBTUwgMTYwXCIsXG4gICAgXCIxNjIxOVwiOiBcIkVDT04gMTUxXCIsXG4gICAgXCIxNjIyMVwiOiBcIkIgMTAwXCIsXG4gICAgXCIxOTQ5MlwiOiBcIkZESFVNIDExMFwiLFxuICAgIFwiMjM4MDBcIjogXCJCIDQxMFwiLFxuICAgIFwiMjM4MDFcIjogXCJCIDQyOFwiLFxuICAgIFwiMzM5MjNcIjogXCJDUyAzMTNcIixcbiAgICBcIjQwNjY0XCI6IFwiRkFNTCAyMDBcIixcbiAgICBcIjQyMzc3XCI6IFwiQiA0OTlCXCIsXG4gICAgXCI1MDI3M1wiOiBcIkhTIDM5MFwiLFxuICAgIFwiNTAyNzRcIjogXCJGRFdMRCAxMDFcIixcbiAgICBcIjUwMjc1XCI6IFwiRkRXTEQgMjAxXCIsXG4gICAgXCI1MDI3NlwiOiBcIkZESU5UIDIxMVwiLFxuICAgIFwiNTAyNzdcIjogXCJFTkcgMjUyXCIsXG4gICAgXCI1MDI3OFwiOiBcIkVEIDIwMlwiLFxuICAgIFwiNTAyNzlcIjogXCJFRCAyMDBcIixcbiAgICBcIjUwMjgxXCI6IFwiRkRTQ0kgMTAxXCIsXG4gICAgXCI1MDI4MlwiOiBcIkhTIDI0MFwiLFxuICAgIFwiNTAyODNcIjogXCJBTlRIIDEwMVwiLFxuICAgIFwiNTAyODRcIjogXCJBVVRPIDEyNVwiLFxuICAgIFwiNTAyODVcIjogXCJDSVQgMzYwXCIsXG4gICAgXCI1MDI4NlwiOiBcIkNJVCAzNzBcIixcbiAgICBcIjUwMjg5XCI6IFwiRkRTQ0kgMjAxXCIsXG4gICAgXCI1MDI5MFwiOiBcIkhTIDMxMFwiLFxuICAgIFwiNTc3MTNcIjogXCJDSVQgMjMwXCIsXG4gICAgXCI1NzcxNFwiOiBcIlBPTFNDIDExMFwiLFxuICAgIFwiNTgzNjlcIjogXCJCSU8gMjY1TFwiLFxuICAgIFwiNTgzNzBcIjogXCJCSU8gMjY0XCIsXG4gICAgXCI1ODM3MVwiOiBcIkJJTyAyNjRMXCIsXG4gICAgXCI1ODM3MlwiOiBcIkNPTU0gMjczXCIsXG4gICAgXCI1OTY1NVwiOiBcIkhTIDI4MFwiLFxuICAgIFwiNTk2NTZcIjogXCJDT01NIDE3NVwiLFxuICAgIFwiNTk2NTdcIjogXCJDSVQgMTYwXCIsXG4gICAgXCI1OTY1OFwiOiBcIkhSSFAgMTMxXCIsXG4gICAgXCI1OTY1OVwiOiBcIkZERU5HIDMwMVwiLFxuICAgIFwiNjEwNjVcIjogXCJDT01NIDEyNVwiLFxuICAgIFwiNjEzNzNcIjogXCJNQSAxMDZcIixcbiAgICBcIjYxMzc0XCI6IFwiRkRTQ0kgMjAzXCIsXG4gICAgXCI2MTM3NVwiOiBcIk5VVFIgMTUwXCIsXG4gICAgXCI2MTM3NlwiOiBcIkhTIDI4NVwiLFxuICAgIFwiNjEzNzdcIjogXCJQU1lDSCAxMTJcIixcbiAgICBcIjYxMzc4XCI6IFwiV0REIDEwMFwiLFxuICAgIFwiNjEzODBcIjogXCJDSVQgMTEwXCIsXG4gICAgXCI2MTM4MVwiOiBcIkNJVCAxMTFcIixcbiAgICBcIjYxMzgyXCI6IFwiU1BFRCAzMTBcIixcbiAgICBcIjYxOTA4XCI6IFwiUFNZQ0ggMTExXCIsXG4gICAgXCI2MTkwOVwiOiBcIkNJVCAzMzZcIixcbiAgICBcIjYxOTEwXCI6IFwiRUQgMzEyXCIsXG4gICAgXCI2MTkxMVwiOiBcIkZEU0NJIDIwNVwiLFxuICAgIFwiNjE5MjBcIjogXCJIUyAzOTFcIixcbiAgICBcIjYxOTI4XCI6IFwiQ0lUIDI0MFwiLFxuICAgIFwiNjE5MjlcIjogXCJTT0MgMTExXCIsXG4gICAgXCI2MjIxNlwiOiBcIk1BVEggMjIxQVwiLFxuICAgIFwiNjIyMTdcIjogXCJNQVRIIDIyMUJcIixcbiAgICBcIjYyMjE4XCI6IFwiTUFUSCAyMjFDXCIsXG4gICAgXCI2MjQ1M1wiOiBcIkNPTU0gMTMwXCIsXG4gICAgXCI2MjU4NlwiOiBcIkIgMjIwXCIsXG4gICAgXCI2MzE5M1wiOiBcIkNPTU0gMTAyXCIsXG4gICAgXCI2MzE5NFwiOiBcIkNJVCAyMjVcIixcbiAgICBcIjYzMTk1XCI6IFwiQ0lUIDI2MFwiLFxuICAgIFwiNjMxOTZcIjogXCJIUyAzMjBcIixcbiAgICBcIjYzNDE5XCI6IFwiUFNZQ0ggMjAxXCIsXG4gICAgXCI2MzU4MVwiOiBcIkhTIDM3MFwiLFxuICAgIFwiNjM5MjFcIjogXCJGQU1MIDIyMFwiLFxuICAgIFwiNjQxODVcIjogXCJDT01NIDEwMlwiLFxuICAgIFwiNjcxMjZcIjogXCJDT01NIDMxMFwiLFxuICAgIFwiNjcxMjdcIjogXCJIUyA0NjBcIixcbiAgICBcIjY3MTI4XCI6IFwiQklPIDIyMVwiLFxuICAgIFwiNjcxMjlcIjogXCJIUyA0MDFcIixcbiAgICBcIjY3MTMwXCI6IFwiSFMgNDI1XCIsXG4gICAgXCI2NzEzMVwiOiBcIkhTIDQ2NVwiLFxuICAgIFwiNjcxMzJcIjogXCJQU1lDSCAzMDJcIixcbiAgICBcIjY3MTMzXCI6IFwiUFNZQ0ggMzExXCIsXG4gICAgXCI2NzEzNFwiOiBcIkNJVCAyNDFcIixcbiAgICBcIjY3MTM1XCI6IFwiQ09NTSAxMTFcIixcbiAgICBcIjY3MTM2XCI6IFwiSFMgMzQ1XCIsXG4gICAgXCI2NzEzN1wiOiBcIk1BIDEwNVwiLFxuICAgIFwiNjcxMzhcIjogXCJQT0xTQyAxNTBcIixcbiAgICBcIjY3MTM5XCI6IFwiUk0gMzA0XCIsXG4gICAgXCI2NzE0MFwiOiBcIkNPTU0gMzA3XCIsXG4gICAgXCI3NDgzOFwiOiBcIkVEIDIwMlwiLFxuICAgIFwiODEyMjJcIjogXCJDSElMRCAzMTBcIixcbiAgICBcIjgxODA1XCI6IFwiSFMgMjQwXCIsXG4gICAgXCI5OTQ4MFwiOiBcIkNJVCAyNjFcIixcbiAgICBcIjk5NDgyXCI6IFwiUE9MU0MgMTcwXCIsXG4gICAgXCI5OTQ4M1wiOiBcIkFHQlVTIDEzOFwiLFxuICAgIFwiOTk0ODRcIjogXCJCSU8gMzc1XCIsXG4gICAgXCI5OTQ4NVwiOiBcIkZEUkVMIDEwMFwiLFxuICAgIFwiOTk0ODZcIjogXCJNQSAxMDdcIixcbiAgICBcIjk5NDg3XCI6IFwiRU5HIDMyNVwiLFxuICAgIFwiOTk0ODhcIjogXCJSTSAzMDdcIixcbiAgICBcIjk5NDg5XCI6IFwiQ09NTSAzNTJcIixcbiAgICBcIjk5NTMwXCI6IFwiUk0gNDcxXCIsXG4gICAgXCIxMDA4MDZcIjogXCJCSU8gMjY0XCIsXG4gICAgXCIxMDA4MDdcIjogXCJCSU8gMjY1XCIsXG4gICAgXCIxMDU2MTVcIjogXCJUQSA0MDJcIixcbiAgICBcIjEwNTcwNlwiOiBcIk1BIDEwNVwiLFxuICAgIFwiMTA2Mjc3XCI6IFwiQ0lUIDI2MlwiLFxuICAgIFwiMTA2Mjc4XCI6IFwiQ0lUIDMyNVwiLFxuICAgIFwiMTA2Mjc5XCI6IFwiQ0lUIDM1MlwiLFxuICAgIFwiMTA2MjgwXCI6IFwiQ0lUIDM4MVwiLFxuICAgIFwiMTA2MjgxXCI6IFwiQ09NTSAxNTBcIixcbiAgICBcIjEwNjI4MlwiOiBcIkNPTU0gMjUwXCIsXG4gICAgXCIxMDYyODNcIjogXCJDT01NIDI4OVwiLFxuICAgIFwiMTA2Mjg0XCI6IFwiQ09NTSA0NTBcIixcbiAgICBcIjEwNjI4NVwiOiBcIlJNIDM3MFwiLFxuICAgIFwiMTA2Mjg2XCI6IFwiUk0gMzcxXCIsXG4gICAgXCIxMDYyODdcIjogXCJSTSA0NzJcIixcbiAgICBcIjEwNjI4OFwiOiBcIkFHQlVTIDE4MEFcIixcbiAgICBcIjEwNjI4OVwiOiBcIkFHQlVTIDE4MEJcIixcbiAgICBcIjEwNjI5MFwiOiBcIlNPQyAxMTJcIixcbiAgICBcIjEwNjI5MVwiOiBcIkJJTyAzODFcIixcbiAgICBcIjEwNjI5MlwiOiBcIkJJTyA0NzVcIixcbiAgICBcIjEwNjI5M1wiOiBcIlJNIDM3M1JcIixcbiAgICBcIjEwNjI5NFwiOiBcIkhTIDM3NVwiLFxuICAgIFwiMTA2Mjk1XCI6IFwiSFMgMzc4XCIsXG4gICAgXCIxMDYyOTZcIjogXCJIUyA0MjBcIixcbiAgICBcIjEwNjI5N1wiOiBcIk1BIDExMVwiLFxuICAgIFwiMTA2Mjk4XCI6IFwiTUEgMjA1XCIsXG4gICAgXCIxMDYyOTlcIjogXCJFTkcgMzMyXCIsXG4gICAgXCIxMDYzMDBcIjogXCJFTkcgMzM1XCIsXG4gICAgXCIxMDYzMDFcIjogXCJFTkcgMzU1XCIsXG4gICAgXCIxMDYzMDJcIjogXCJFRCAzMTNcIixcbiAgICBcIjEwNjMwM1wiOiBcIkVORyAyNTFcIixcbiAgICBcIjEwNjk4OVwiOiBcIkVORyAzMzJcIixcbiAgICBcIjEwOTYzM1wiOiBcIkVORyAzMTRcIixcbiAgICBcIjEwOTY0MVwiOiBcIlRBIDExNlwiXG59O1xuIiwiKGZ1bmN0aW9uICgpIHtcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZ25JbigpIHtcbiAgICAgICAgaWYgKCFmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuXG4gICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9wbHVzLmxvZ2luJyk7XG4gICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgncHJvZmlsZScpO1xuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFJlZGlyZWN0KHByb3ZpZGVyKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ01hbmFnZW1lbnRBdXRoTycpO1xuICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFJvbGUodWlkLCBmdW5jKSB7XG4gICAgICAgIGRhdGFiYXNlLnJlZihcInVzZXJzXCIpLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xuICAgICAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCkge1xuICAgICAgICAgICAgICAgIGlmIChjc25hcC5rZXkgPT09IHVpZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNzbmFwLnZhbCgpLnJvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRBcHAoKSB7XG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5nZXRSZWRpcmVjdFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5jcmVkZW50aWFsKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBHb29nbGUgQWNjZXNzIFRva2VuLiBZb3UgY2FuIHVzZSBpdCB0byBhY2Nlc3MgdGhlIEdvb2dsZSBBUEkuXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codG9rZW4pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiBudWxsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdXNlciA9IHJlc3VsdC51c2VyO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZW1haWwgPSBlcnJvci5lbWFpbCxcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsID0gZXJyb3IuY3JlZGVudGlhbDtcblxuICAgICAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gJ2F1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCcpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnWW91IGhhdmUgYWxyZWFkeSBzaWduZWQgdXAgd2l0aCBhIGRpZmZlcmVudCBhdXRoIHByb3ZpZGVyIGZvciB0aGF0IGVtYWlsLicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYXV0aE8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogdXNlci5lbWFpbFZlcmlmaWVkLFxuICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogdXNlci5waG90b1VSTCxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiB1c2VyLnVpZFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS50ZXh0Q29udGVudCA9ICdTaWduIG91dCc7XG5cbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoYHVzZXJzLyR7YXV0aE8udWlkfWApLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBhdXRoTy5kaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhPLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBhdXRoTy5lbWFpbFZlcmlmaWVkLFxuICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogYXV0aE8ucGhvdG9VUkwsXG4gICAgICAgICAgICAgICAgICAgIHVpZDogYXV0aE8udWlkLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc2V0Um9sZShhdXRoTy51aWQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoYHVzZXJzLyR7YXV0aE8udWlkfWApLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAwLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVtcIk1hbmFnZW1lbnRBdXRoT1wiXSA9IEpTT04uc3RyaW5naWZ5KGF1dGhPKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykudGV4dENvbnRlbnQgPSAnU2lnbiBpbiB3aXRoIEdvb2dsZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVNpZ25JbiwgZmFsc2UpO1xuICAgIH1cblxuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluaXRBcHAoKTtcbiAgICB9XG5cbn0oKSlcbiIsIi8qXG5kYXRhYmFzZSBpcyBhIGdsb2JhbCB2YXJpYWJsZVxuKi9cbihmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgbG9hZGVkVXNlcnMgPSBbXSxcbiAgICAgICAgdGltZVNwZW50ID0gW10sXG4gICAgICAgIGRhdGFTYXZlZDtcblxuICAgIC8qXG4gICAgRXZlbnRzIHRvIGhhbmRsZSBtb2RhbHNcbiAgICAqL1xuICAgICQoXCJhW2hyZWY9JyMnXVwiKS5jbGljaygoZSkgPT4ge1xuICAgICAgICB2YXIgY2xhc3NJRCA9IGUudGFyZ2V0LmNsYXNzTmFtZTtcblxuICAgICAgICBpZiAoY2xhc3NJRCA9PT0gXCJjaGVja2VkXCIpIHtcbiAgICAgICAgICAgICQoYCNuYW1lUG9wdXBgKS5jc3Moe1xuICAgICAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcImJsb2NrXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAkKGAjJHtjbGFzc0lEfWApLmNzcyh7XG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJibG9ja1wiXG4gICAgICAgIH0pXG4gICAgICAgICQoYCNzaGFkZWApLmNzcyh7XG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJibG9ja1wiXG4gICAgICAgIH0pXG4gICAgfSk7XG5cbiAgICAkKFwiLmNhbmNlbFwiKS5jbGljaygoZSkgPT4ge1xuICAgICAgICB2YXIgcGFyZW50ID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcblxuICAgICAgICAkKGAjbmFtZVBvcHVwYCkuY3NzKHtcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcIm5vbmVcIlxuICAgICAgICB9KVxuXG4gICAgICAgICQocGFyZW50KS5jc3Moe1xuICAgICAgICAgICAgXCJkaXNwbGF5XCI6IFwibm9uZVwiLFxuICAgICAgICB9KVxuICAgICAgICAkKCcjc2hhZGUnKS5jc3Moe1xuICAgICAgICAgICAgXCJkaXNwbGF5XCI6IFwibm9uZVwiLFxuICAgICAgICB9KVxuICAgIH0pO1xuXG4gICAgJChcIiNhc3NpZ25cIikuY2xpY2soKGUpID0+IHtcbiAgICAgICAgdmFyIGlucHV0QXNzaWduID0gJChcIltkYXRhLWNvdXJzZWlkXSA+IGlucHV0XCIpO1xuXG4gICAgICAgICQuZWFjaChpbnB1dEFzc2lnbiwgKGksIHZhbCkgPT4ge1xuICAgICAgICAgICAgdmFyIHN0dWRlbnRBc3NpZ25tZW50ID0gdmFsLnZhbHVlLFxuICAgICAgICAgICAgICAgIGNvdXJzZUlEID0gdmFsLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb3Vyc2VpZFwiKTtcblxuICAgICAgICAgICAgZGF0YWJhc2UucmVmKGB1c2Vyc2ApLm9uY2UoXCJ2YWx1ZVwiLCAoc25hcCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB1c2VycyA9IHNuYXAudmFsKCk7XG5cbiAgICAgICAgICAgICAgICBzbmFwLmZvckVhY2goKGNzbmFwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gY3NuYXAudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHVkZW50QXNzaWdubWVudCA9PT0gdXNlci5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVpZCA9IGNzbmFwLmtleTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NvdXJzZUlEfWApLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2VyXCI6IHVpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsLnBhcmVudEVsZW1lbnQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbnB1dEFzc2lnbltpXS52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGxvYWRVc2VycygpIHtcbiAgICAgICAgLypMb2FkIGFsbCB0aGUgdXNlcnMgZnJvbSB0aGUgZGF0YWJhc2UqL1xuICAgICAgICBkYXRhYmFzZS5yZWYoXCJ1c2Vyc1wiKS5vbmNlKFwidmFsdWVcIiwgKHNuYXApID0+IHtcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaCgoY3NuYXApID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGNzbmFwLnZhbCgpLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgICAgIGxvYWRlZFVzZXJzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgIFRoZSB1c2VyU2VsZWN0LCB1bmNoZWNrb3V0LCBwb3B1bGF0ZUNoZWNrLCBhbmQgY2hlY2tlZFxuICAgIGFyZSBhbGwgdXNlZCBmb3IgdGhlIGNoZWNrb3V0IGZlYXR1cmUuXG4gICAgKi9cbiAgICBmdW5jdGlvbiB1c2VyU2VsZWN0KCkge1xuICAgICAgICB2YXIgaW5wdXQgPSAkKFwiPGlucHV0PjwvaW5wdXQ+XCIpO1xuXG4gICAgICAgIGlucHV0LmtleXVwKChlKSA9PiB7XG4gICAgICAgICAgICAkKFwiI3VzZXJOYW1lc1wiKS5odG1sKFwiXCIpO1xuXG4gICAgICAgICAgICB2YXIgaW5wdXRWYWwgPSBlLnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5wdXQgPSBlLnRhcmdldFxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvYWRlZFVzZXJzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdXNlciA9IGxvYWRlZFVzZXJzW2ldLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlci5pbmNsdWRlcyhpbnB1dFZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmEgPSAkKGA8cD4ke2xvYWRlZFVzZXJzW2ldfTwvcD5gKTtcblxuICAgICAgICAgICAgICAgICAgICBwYXJhLmF0dHIoXCJpZFwiLCBcImVtcE5hbWVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoc2VsZWN0ZWRJbnB1dCkudmFsKGUudGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgICQoXCIjdXNlck5hbWVzXCIpLmFwcGVuZChwYXJhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuY2hlY2tvdXQoZSkge1xuICAgICAgICB2YXIgY2xpY2tlZEVsZW1lbnQgPSBlLnRhcmdldCxcbiAgICAgICAgICAgIGNvdXJzZUlEID0gJChjbGlja2VkRWxlbWVudCkuYXR0cihcImRhdGEtY291cnNlaWRcIik7XG5cbiAgICAgICAgY29uc29sZS5sb2coY2xpY2tlZEVsZW1lbnQsIGNvdXJzZUlELCBjbGlja2VkRWxlbWVudC5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7Y291cnNlSUR9YCkudXBkYXRlKHtcbiAgICAgICAgICAgIGNoZWNrZXI6IFwiXCJcbiAgICAgICAgfSlcblxuICAgICAgICAkKGNsaWNrZWRFbGVtZW50KS5jc3Moe1xuICAgICAgICAgICAgXCJkaXNwbGF5XCI6IFwibm9uZVwiLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qXG4gICAgUnVucyB0aGUgZGF0YSBmb3IgdGhlIGNoZWNrZWQgTW9kYWxcbiAgICAqL1xuICAgIGZ1bmN0aW9uIHBvcHVsYXRlQ2hlY2soY2QsIGNuLCB0YXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coY2QsIGNuLCB0YXIpO1xuXG4gICAgICAgIHZhciBwb3B1bGF0ZSA9ICQoYCMke3Rhcn1gKSxcbiAgICAgICAgICAgIGNvdXJzZU5hbWUgPSAkKGA8bGFiZWwgZGF0YS1jb3Vyc2VJRD1cIiR7Y259XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7Y2RbJ0xpbmsnXX1cIj4ke2NvcnJEYXRhW2NuXX08L2E+PC9sYWJlbD5gKSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgdGltZXMgPSAkKFwiPHA+ICZ0aW1lczs8L3A+XCIpO1xuXG4gICAgICAgIGlmIChjZC5jaGVja2VyICE9PSBcIlwiICYmIHRhciA9PT0gXCJjaGVja2VkT3V0XCIpIHtcbiAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHtjZC5jaGVja2VyfWApLm9uY2UoXCJ2YWx1ZVwiLCAoc25hcCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHNuYXAudmFsKCkuZGlzcGxheU5hbWU7XG5cbiAgICAgICAgICAgICAgICB0aW1lc1xuICAgICAgICAgICAgICAgICAgICAuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY3Vyc29yXCI6IFwicG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jbGljayh1bmNoZWNrb3V0KTtcblxuICAgICAgICAgICAgICAgIGNvdXJzZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChgPHA+JHtkaXNwbGF5TmFtZX08L3A+YClcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0aW1lcyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhciA9PT0gXCJ1bmFzc2lnbmVkXCIpIHtcbiAgICAgICAgICAgIGlucHV0ID0gdXNlclNlbGVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY291cnNlTmFtZS5hcHBlbmQoaW5wdXQpO1xuXG4gICAgICAgIHBvcHVsYXRlLmFwcGVuZChjb3Vyc2VOYW1lKTtcbiAgICB9XG5cbiAgICAvKlxuICAgIFJ1bnMgdGhlIGRhdGEgZm9yIHRoZSBmaW5pc2hlZCBtb2RhbC4gIFNlZSB3aGljaCBjb3Vyc2VzXG4gICAgaGF2ZSBhIFwiU3R1ZGVudCBBcHByb3ZlZFwiIGFuZCBhIFwiRGVzaWduZXIgQXBwcm92YWxcIlxuICAgIG9uIHRoZWlyIHN0YXR1cyBub2RlIGluIHRoZSBkYXRhYmFzZS5cbiAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcHJvdmVkKGUpIHtcbiAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LFxuICAgICAgICAgICAgY291cnNlSUQgPSBwYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtY291cnNlaWRcIik7XG5cbiAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NvdXJzZUlEfWApLnVwZGF0ZSh7XG4gICAgICAgICAgICBzdGF0dXM6IFwiRGVzaWduZXIgQXBwcm92ZWRcIlxuICAgICAgICB9KVxuXG4gICAgICAgIGUudGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICB2YXIgc3RhdHVzRnVuY3Rpb25zID0ge1xuICAgICAgICBcIlN0dWRlbnQgQXBwcm92ZWRcIjogKGNkLCBjbikgPT4ge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gJChgPGxhYmVsIGRhdGEtY291cnNlSUQ9XCIke2NufVwiPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke2NkWydMaW5rJ119XCI+JHtjb3JyRGF0YVtjbl19PC9hPjwvbGFiZWw+YCksXG4gICAgICAgICAgICAgICAgY2hlY2sgPSAkKGA8c3Bhbj4mI3gyNzEzOzwvc3Bhbj5gKTtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIFB1c2guY3JlYXRlKCdOZXcgU3R1ZGVudCBBcHByb3ZhbCEnLCB7XG4gICAgICAgICAgICAgICAgXCJib2R5XCI6IGAke2NvcnJEYXRhW2NuXX0gaXMgcmVhZHkuYCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiA3MDAwXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgJChjaGVjaylcbiAgICAgICAgICAgICAgICAuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgXCJjdXJzb3JcIjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jbGljayhhcHByb3ZlZCk7XG5cbiAgICAgICAgICAgICQobGFiZWwpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChjaGVjayk7XG5cbiAgICAgICAgICAgICQoXCIjY29tcGxldGVkXCIpLmFwcGVuZChsYWJlbCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiRGVzaWduZXIgQXBwcm92ZWRcIjogKGNkLCBjbikgPT4ge1xuICAgICAgICAgICAgJChcIiNhcHByb3ZlZFwiKS5hcHBlbmQoYDxsYWJlbCBkYXRhLWNvdXJzZUlEPVwiJHtjbn1cIj48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtjZFsnTGluayddfVwiPiR7Y29yckRhdGFbY25dfTwvYT48L2xhYmVsPmApO1xuICAgICAgICB9LFxuICAgIH1cblxuICAgIC8qXG4gICAgU2NyaXB0IGZvciBjb2RpbmcgdGhlIHJlcG9ydCBncmFwaHMuXG4gICAgKi9cblxuICAgIC8vICAgIGZvciBkZXZlbG9wbWVudCBvZiBjaGFydCBncmFwaHNcbiAgICAvLyAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN0YXRzXCIpLmNsaWNrKCk7XG5cbiAgICAvKkRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoZSB0d28gZ3JhcGhzKi9cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0RhdGEgU2F2ZWQnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSg3NSwxOTIsMTkyLDAuNClcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwicmdiYSgzMywgOTgsIDk4LCAwLjQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiAtMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogNVxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlRpbWUgU3BlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMjMsIDU2LCAyMzQsIDAuNClcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwicmdiYSgwLCAxMSwgNzIsIDAuNClcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IC0xMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IDQsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogOSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICAgICAgeEF4ZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlTGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogJ01vbnRocydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICB5QXhlczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnbGVmdCcsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlTGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogJydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAvKlJldHJpZXZlIHRoZSBkYXRhIGZvciBhbW91bnQgb2YgZGF0YSBzYXZlZCovXG4gICAgZnVuY3Rpb24gY2hhcnRzKCkge1xuICAgICAgICB2YXIgY3R4ID0gJChcIi5jaGFydFwiKSxcbiAgICAgICAgICAgIG15TGluZUNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRDaGFydERhdGEoKSB7XG5cbiAgICAgICAgdmFyIG1vbnRocyA9IFtcbiAgICAgICAgICAgICAgICBcIkphblwiLFxuICAgICAgICAgICAgICAgIFwiRmViXCIsXG4gICAgICAgICAgICAgICAgXCJNYXJcIixcbiAgICAgICAgICAgICAgICBcIkFwclwiLFxuICAgICAgICAgICAgICAgIFwiTWF5XCIsXG4gICAgICAgICAgICAgICAgXCJKdW5cIixcbiAgICAgICAgICAgICAgICBcIkp1bFwiLFxuICAgICAgICAgICAgICAgIFwiQXVnXCIsXG4gICAgICAgICAgICAgICAgXCJTZXB0XCIsXG4gICAgICAgICAgICAgICAgXCJPY3RcIixcbiAgICAgICAgICAgICAgICBcIk5vdlwiLFxuICAgICAgICAgICAgICAgIFwiRGVjXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgICAgICAgIG51bURheSA9IGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgbW9udGhEaWcgPSBkYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICBtb250aCA9IG1vbnRoc1ttb250aERpZ107XG5cblxuICAgICAgICAvKlxuICAgICAgICBUSU1FIEdBVEhFUkVSIERBVEFcbiAgICAgICAge1xuICAgICAgICAgICAgXCI2XCI6IHtcbiAgICAgICAgICAgICAgICBcImxhYmVsXCI6IFwiSnVsXCJcbiAgICAgICAgICAgICAgICBcInRvdGFsXCI6IDQ1NixcbiAgICAgICAgICAgICAgICBcImVudHJpZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBcIlBVU0hfSURcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aW1lXCI6IDI0LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJtaXR0ZXJcIjogXCJBbmRyZXdcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgREFUQSBTQVZFRFxuICAgICAgICB7XG4gICAgICAgICAgICBcImRhdGFfc2F2ZWRcIjoge1xuICAgICAgICAgICAgICAgIFwibW9udGhcIjogXCI2XCIsXG4gICAgICAgICAgICAgICAgXCJhbW91bnRcIjogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICovXG5cbiAgICAgICAgLypEQVRBIFNBVkVEKi9cbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIChzbmFwKSA9PiB7XG4gICAgICAgICAgICBzbmFwLmZvckVhY2goKGNzbmFwKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGNvdXJzZURhdGEgPSBjc25hcC52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNhdmVkID0gY291cnNlRGF0YVtcImRhdGFfc2F2ZWRcIl07XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGRhdGFTYXZlZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSArZGF0YVNhdmVkW2ldLm1vbnRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50ID0gK2RhdGFTYXZlZFtpXS5hbW91bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieFwiOiBtb250aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInlcIjogYW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGRhdGFTYXZlZC5wdXNoKGNvb3IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuXG4gICAgICAgIC8qVElNRSBHQVRIRVJFUiovXG4gICAgICAgIGRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uY2UoXCJ2YWx1ZVwiLCAoc25hcCkgPT4ge1xuICAgICAgICAgICAgc25hcC5mb3JFYWNoKChjc25hcCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBjb3Vyc2VEYXRhID0gY3NuYXAudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIHRpbWVEYXRhID0gY291cnNlRGF0YVtcInRpbWVfc3BlbnRcIl07XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHRpbWVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGF0YSA9ICt0aW1lRGF0YVtpXS50b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bU1vbnRoID0gK2ksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieFwiOiBudW1Nb250aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInlcIjogdGltZURhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdGltZVNwZW50LnB1c2goY29vcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKlxuICAgIERldGVybWluZSB0aGF0IHRoZSBsb2NhdGlvbiBpcyB0aGUgYWRtaW4gcGFnZSBhbmQgbG9hZFxuICAgIGFsbCBvZiB0aGUgZGF0YSB3aXRoIHRoZSBhZG1pbmlzdHJhdG9yIHJvbGUuXG4gICAgKi9cbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoXCJhZG1pblwiKSkge1xuXG4gICAgICAgIGxvYWRVc2VycygpO1xuICAgICAgICAvLyAgICAgICAgbG9hZENoYXJ0RGF0YSgpO1xuXG4gICAgICAgIC8qTG9hZCB0aGUgY2hlY2tlZCBvdXQgZGF0YSovXG4gICAgICAgIGRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uKFwiY2hpbGRfYWRkZWRcIiwgKGNzbmFwKSA9PiB7XG4gICAgICAgICAgICB2YXIgY291cnNlRGF0YSA9IGNzbmFwLnZhbCgpLFxuICAgICAgICAgICAgICAgIGNvdXJzZU5hbWUgPSBjc25hcC5rZXksXG4gICAgICAgICAgICAgICAgbm90aGluZyA9IFwiVGhlcmUgaXMgbm90aGluZyBoZXJlIVwiO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWNvdXJzZURhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NvdXJzZU5hbWV9YCkudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcIlBlbmRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgdGltZV9zcGVudDogMCxcbiAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVkOiBcIkZhbHNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFfc2F2ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZXI6IFwiXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvdXJzZURhdGFbXCJDb250ZW50IFBhZ2VzXCJdICE9PSBub3RoaW5nIHx8IGNvdXJzZURhdGFbXCJRdWl6emVzXCJdICE9PSBub3RoaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdXJzZURhdGEuc3RhdHVzID09PSBcIlBlbmRpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VEYXRhLmNoZWNrZXIgPyBwb3B1bGF0ZUNoZWNrKGNvdXJzZURhdGEsIGNvdXJzZU5hbWUsIFwiY2hlY2tlZE91dFwiKSA6IHBvcHVsYXRlQ2hlY2soY291cnNlRGF0YSwgY291cnNlTmFtZSwgXCJ1bmFzc2lnbmVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvKkxvYWQgY291cnNlIGRhdGEgaW50byBjaGVja2VkIG91dCB3aGVuIGNoaWxkIGNoYW5nZWQqL1xuICAgICAgICBkYXRhYmFzZS5yZWYoXCJNYXJrJ3MgVG9vbFwiKS5vbihcImNoaWxkX2NoYW5nZWRcIiwgKHNuYXApID0+IHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gc25hcC52YWwoKSxcbiAgICAgICAgICAgICAgICBkYXRhTmFtZSA9IHNuYXAua2V5O1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJPY2N1cmluZ1wiKTtcblxuICAgICAgICAgICAgcG9wdWxhdGVDaGVjayhkYXRhLCBkYXRhTmFtZSwgXCJjaGVja2VkT3V0XCIpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLypMb2FkIGFueSBmaW5pc2hlZCBvciBhcHByb3ZlZCBjb3Vyc2VzKi9cbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIChzbmFwKSA9PiB7XG4gICAgICAgICAgICBzbmFwLmZvckVhY2goKGNzbmFwKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGNvdXJzZURhdGEgPSBjc25hcC52YWwoKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb3Vyc2VEYXRhLnN0YXR1cyA9PT0gXCJEZXNpZ25lciBBcHByb3ZlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0Z1bmN0aW9uc1tcIkRlc2lnbmVyIEFwcHJvdmVkXCJdKGNvdXJzZURhdGEsIGNzbmFwLmtleSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3Vyc2VEYXRhLkNvbXBsZXRlZCA9PT0gXCJUcnVlXCIgfHwgY291cnNlRGF0YS5zdGF0dXMgPT09IFwiU3R1ZGVudCBBcHByb3ZlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0Z1bmN0aW9uc1tcIlN0dWRlbnQgQXBwcm92ZWRcIl0oY291cnNlRGF0YSwgY3NuYXAua2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIGNoYXJ0cygpO1xuXG4gICAgICAgIHVzZXJTZWxlY3QoKTtcbiAgICB9XG5cbn0oKSk7XG4iLCJcInVzZSBzdHJpY3RcIjsiLCIoZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGF1dGhEYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbJ01hbmFnZW1lbnRBdXRoTyddKSB8fCBcIlwiLFxuICAgICAgICByb2xlLFxuICAgICAgICBuYXYgPSAkKFwibmF2XCIpLFxuICAgICAgICBob21lQnV0dG9uID0gJChcIjxidXR0b24+SG9tZTwvYnV0dG9uPlwiKSxcbiAgICAgICAgYWRtaW5CdXR0b247XG5cbiAgICBob21lQnV0dG9uLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciByb290ID0gbG9jYXRpb24ub3JpZ2luO1xuICAgICAgICBsb2NhdGlvbi5hc3NpZ24oYCR7cm9vdH0vaW5kZXguaHRtbGApO1xuICAgIH0pO1xuXG4gICAgbmF2LmFwcGVuZChob21lQnV0dG9uKTtcblxuICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHthdXRoRGF0YS51aWR9YCkub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICAgIHJvbGUgPSBzbmFwLnZhbCgpLnJvbGUsXG4gICAgICAgIGFkbWluQnV0dG9uID0gJChcIjxidXR0b24+QWRtaW48L2J1dHRvbj5cIik7XG5cbiAgICAgICAgaWYgKHJvbGUgPj0gOCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGxvZ2dlZCBpbiBpcyBBZG1pbmlzdHJhdG9yXCIpO1xuXG4gICAgICAgICAgICBhZG1pbkJ1dHRvbi5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibGlcIilcblxuICAgICAgICAgICAgICAgIHZhciBwYWdlID0gZS50YXJnZXQuaW5uZXJUZXh0LnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBsb2NhdGlvbi5vcmlnaW47XG5cbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5hc3NpZ24oYCR7cm9vdH0vJHtwYWdlfS5odG1sYCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbmF2LmFwcGVuZChhZG1pbkJ1dHRvbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0oKSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
