"use strict";var config={apiKey:"AIzaSyCRfRp20kEkpwO1Bs30sDyBkC4Qf-rsuNM",authDomain:"course-file-auditor.firebaseapp.com",databaseURL:"https://course-file-auditor.firebaseio.com",storageBucket:"course-file-auditor.appspot.com"};firebase.initializeApp(config);var database=firebase.database();
"use strict";var corrData={16149:"HFED 340",16150:"B 275",16152:"B 101",16153:"B 424",16154:"B 380",16155:"B 129",16156:"B 100",16158:"B 499A",16161:"B 448",16162:"FHGEN 270",16164:"FAML 360",16165:"FAML 430",16166:"HFED 101",16167:"ME 201",16170:"B 183",16173:"FHGEN 251D",16175:"FHGEN 112",16176:"B 211",16177:"FAML 460",16178:"FHGEN 120",16179:"B 250",16180:"FAML 400",16181:"FHGEN 160",16182:"FHGEN 211",16183:"FAML 445",16185:"B 283",16187:"FHGEN 130",16188:"FHGEN 399",16189:"B 401",16190:"FHGEN 251A",16191:"FAML 498R",16192:"B 341",16193:"FHGEN 251B",16195:"FHGEN 251C",16196:"B 370",16197:"CHILD 320",16198:"FHGEN 252B",16199:"B 301",16200:"FAML 300",16201:"FHGEN 212",16202:"B 321",16203:"oops",16204:"FHGEN 140",16205:"B 361",16207:"FDMAT 112",16208:"CHILD 300",16209:"FAML 100",16211:"CHILD 210",16212:"B 424D",16213:"ECON 150",16214:"AGBUS 105",16215:"FHGEN 111",16216:"FAML 160",16218:"B 100",16219:"ECON 151",16221:"B 410",19492:"B 428",23800:"CS 313",23801:"FDHUM 110",33923:"B 499B",40664:"FAML 200",42377:"FDMAT 108",50273:"HS 390",50274:"FDWLD 201",50275:"ENG 252",50276:"FDINT 211",50277:"FDWLD 101",50279:"ANTH 101",50281:"CIT 370",50283:"FDSCI 101",50284:"ED 200",50286:"FDSCI 201",50289:"AUTO 125",50290:"HS 310",57713:"POLSC 110",57714:"CIT 230",58369:"BIO 265L",58371:"COMM 273",58372:"BIO 264L",59655:"HS 280",59656:"COMM 175",59657:"CIT 160",59658:"FDENG 301",59659:"COMM 125",61065:"FDSCI 203",61373:"NUTR 150",61374:"MA 106",61375:"HS 285",61376:"PSYCH 112",61377:"CIT 110",61378:"WDD 100",61380:"CIT 111",61381:"CIT 336",61908:"PSYCH 111",61909:"ED 312",61910:"FDSCI 205",61911:"CIT 240",61920:"HS 391",61928:"SOC 111",61929:"MATH 221A",62216:"HRHP 131",62217:"MATH 221C",62218:"COMM 130",62453:"COMM 102",62586:"MATH 221B",63193:"B 220",63194:"CIT 260",63195:"HS 320",63196:"HS 370",63419:"CIT 225",63581:"FAML 220",63921:"PSYCH 201",67126:"HS 460",67127:"BIO 221",67128:"HS 465",67129:"COMM 310",67130:"HS 401",67131:"HS 425",67132:"CIT 241",67133:"PSYCH 302",67134:"COMM 111",67135:"PSYCH 311",67136:"POLSC 150",67138:"HS 345",67139:"ED 202",67140:"RM 304",74838:"COMM 307",81222:"CHILD 310",81805:"CIT 261",99480:"HS 240",99482:"AGBUS 138",99483:"BIO 375",99484:"FDREL 100",99485:"POLSC 170",99486:"RM 307",99487:"ENG 325",99488:"COMM 352",99489:"RM 471",99530:"BIO 265",100806:"MA 107",100807:"BIO 264",105615:"TA 402",105706:"CIT 262",106277:"CIT 381",106278:"MA 105",106279:"COMM 150",106280:"CIT 325",106281:"CIT 352",106282:"COMM 250",106283:"RM 371",106284:"COMM 289",106285:"COMM 450",106286:"RM 370",106287:"SOC 112",106288:"AGBUS 180A",106290:"BIO 475",106291:"BIO 381",106292:"HS 375",106293:"RM 373R",106294:"RM 472",106295:"MA 205",106296:"HS 420",106297:"HS 378",106298:"ENG 355",106300:"MA 111",106301:"ENG 335",106303:"oops",106989:"ENG 251",108133:"B 101",108134:"FAML 100",108135:"FAML 220",108136:"FDENG 301",108137:"FDREL 121",108138:"FDREL 122",108139:"FDSCI 203",108140:"ENG 332",108142:"CIT 110",108143:"FDHUM 110",108144:"FDSCI 201",108599:"TA 116",109633:"FDSCI 101",109641:"ENG 314"};
"use strict";!function(){function e(){if(firebase.auth().currentUser)localStorage.removeItem("ManagementAuthO"),firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/plus.login"),e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)}document.getElementById("quickstart-sign-in").disabled=!0}function t(e,t){database.ref("users").once("value",function(i){i.forEach(function(i){i.key===e&&(i.val().role||t())})})}function i(){firebase.auth().getRedirectResult().then(function(e){if(e.credential){var t=e.credential.accessToken;location.reload(),console.log(t)}e.user})["catch"](function(e){var t=e.code;e.message,e.email,e.credential;"auth/account-exists-with-different-credential"===t?alert("You have already signed up with a different auth provider for that email."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){if(e){var i={displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL,uid:e.uid};document.getElementById("quickstart-sign-in").textContent="Sign out",database.ref("users/"+i.uid).update({displayName:i.displayName,email:i.email,emailVerified:i.emailVerified,photoURL:i.photoURL,uid:i.uid}),t(i.uid,function(){database.ref("users/"+i.uid).update({role:0})}),localStorage.ManagementAuthO=JSON.stringify(i)}else document.getElementById("quickstart-sign-in").textContent="Sign in with Google";document.getElementById("quickstart-sign-in").disabled=!1}),document.getElementById("quickstart-sign-in").addEventListener("click",e,!1)}window.onload=function(){i()}}();
"use strict";!function(){function e(){var e=$("<input></input>");return e.keyup(function(e){$("#userNames").html("");for(var a=e.target.value,t=e.target,n=0;n<o.length;n++)if(o[n].includes(a)){var r=$("<p>"+o[n]+"</p>");r.attr("id","empName").click(function(e){$(t).val(e.target.innerText)}),$("#userNames").append(r)}}),e}function a(e){var a=e.target,t=$(a).attr("data-courseid");console.log(a,t,a.parentElement),database.ref("Mark's Tool/"+t).update({checker:""}),$(a).css({display:"none"})}function t(t,n,r){var s,o=$("#"+r),c=$('<label data-courseID="'+n+'"><a target="_blank" href="'+t.Link+'">'+corrData[n]+"</a></label>");""!==t.checker&&"checkedOut"===r&&database.ref("users/"+t.checker).once("value",function(e){var t=e.val().displayName;c.append("<p>"+t+"</p>").append(" &times;").css({cursor:"pointer"}).click(a)}),"unassigned"===r&&(s=e()),c.append(s),o.append(c)}function n(e){var a=e.target.parentElement,t=a.getAttribute("data-courseid");database.ref("Mark's Tool/"+t).update({status:"Designer Approved"}),e.target.style.display="none"}function r(){var e=$(".chart");new Chart(e,{type:"line",data:l,options:i})}function s(){database.ref("users").once("value",function(e){e.forEach(function(e){var a=e.val().displayName;o.push(a)})})}var o=[];$("a").click(function(e){var a=e.target.className;"checked"===a&&$("#namePopup").css({display:"block"}),$("#"+a).css({display:"block"}),$("#shade").css({display:"block"})}),$(".cancel").click(function(e){var a=e.target.parentElement;$("#namePopup").css({display:"none"}),$(a).css({display:"none"}),$("#shade").css({display:"none"})}),$("#assign").click(function(e){var a=$("[data-courseid] > input");$.each(a,function(e,t){var n=t.value,r=t.parentElement.getAttribute("data-courseid");database.ref("users").once("value",function(s){s.val();s.forEach(function(s){var o=s.val();if(n===o.displayName){var c=s.key;database.ref("Mark's Tool/"+r).update({checker:c}),console.log(t.parentElement),t.parentElement.style.display="none"}a[e].value=""})})})});var c={"Student Approved":function(e,a){var t=$('<label data-courseID="'+a+'"><a target="_blank" href="'+e.Link+'">'+corrData[a]+"</a></label>"),r=$("<span>&#x2713;</span>");$(r).css({cursor:"pointer"}).click(n),$(t).append(r),$("#completed").append(t)},"Designer Approved":function(e,a){$("#approved").append('<label data-courseID="'+a+'"><a target="_blank" href="'+e.Link+'">'+corrData[a]+"</a></label>")}},l={datasets:[{label:"Data Saved",backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(33, 98, 98, 0.4)",data:[{x:-10,y:0},{x:0,y:10},{x:10,y:5}]},{label:"Time Spent",backgroundColor:"rgba(23, 56, 234, 0.4)",borderColor:"rgba(0, 11, 72, 0.4)",data:[{x:-10,y:1},{x:4,y:10},{x:9,y:5}]}]},i={responsive:!0,scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Months"}}],yAxes:[{type:"linear",position:"left",scaleLabel:{display:!0,labelString:""}}]}};location.pathname.includes("admin")&&(s(),database.ref("Mark's Tool").on("child_added",function(e){var a=e.val(),n=e.key,r="There is nothing here!";a["Content Pages"]===r&&a.Quizzes===r||"Pending"===a.status&&(a.checker?t(a,n,"checkedOut"):t(a,n,"unassigned"))}),database.ref("Mark's Tool").on("child_changed",function(e){var a=e.val(),n=e.key;console.log("Occuring"),t(a,n,"checkedOut")}),database.ref("Mark's Tool").once("value",function(e){e.forEach(function(e){var a=e.val();"Designer Approved"===a.status?c["Designer Approved"](a,e.key):"True"!==a.Completed&&"Student Approved"!==a.status||c["Student Approved"](a,e.key)})}),r(),e())}();
"use strict";
"use strict";!function(){var n,o,t=JSON.parse(localStorage.ManagementAuthO)||"",i=$("nav"),a=$("<button>Home</button>");a.click(function(n){var o=location.origin;location.assign(o+"/index.html")}),i.append(a),database.ref("users/"+t.uid).once("value",function(t){n=t.val().role,o=$("<button>Admin</button>"),n>=8&&(console.log("User logged in is Administrator"),o.click(function(n){console.log("li");var o=n.target.innerText.toLowerCase(),t=location.origin;location.assign(t+"/"+o+".html")}),i.append(o))})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyIsImNvdXJzZV9uYW1lLmpzIiwibG9naW4uanMiLCJhZG1pbi5qcyIsImRhdGFfbmF2LmpzIiwibmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiZGF0YWJhc2UiLCJjb3JyRGF0YSIsIjE2MTQ5IiwiMTYxNTAiLCIxNjE1MiIsIjE2MTUzIiwiMTYxNTQiLCIxNjE1NSIsIjE2MTU2IiwiMTYxNTgiLCIxNjE2MSIsIjE2MTYyIiwiMTYxNjQiLCIxNjE2NSIsIjE2MTY2IiwiMTYxNjciLCIxNjE3MCIsIjE2MTczIiwiMTYxNzUiLCIxNjE3NiIsIjE2MTc3IiwiMTYxNzgiLCIxNjE3OSIsIjE2MTgwIiwiMTYxODEiLCIxNjE4MiIsIjE2MTgzIiwiMTYxODUiLCIxNjE4NyIsIjE2MTg4IiwiMTYxODkiLCIxNjE5MCIsIjE2MTkxIiwiMTYxOTIiLCIxNjE5MyIsIjE2MTk1IiwiMTYxOTYiLCIxNjE5NyIsIjE2MTk4IiwiMTYxOTkiLCIxNjIwMCIsIjE2MjAxIiwiMTYyMDIiLCIxNjIwMyIsIjE2MjA0IiwiMTYyMDUiLCIxNjIwNyIsIjE2MjA4IiwiMTYyMDkiLCIxNjIxMSIsIjE2MjEyIiwiMTYyMTMiLCIxNjIxNCIsIjE2MjE1IiwiMTYyMTYiLCIxNjIxOCIsIjE2MjE5IiwiMTYyMjEiLCIxOTQ5MiIsIjIzODAwIiwiMjM4MDEiLCIzMzkyMyIsIjQwNjY0IiwiNDIzNzciLCI1MDI3MyIsIjUwMjc0IiwiNTAyNzUiLCI1MDI3NiIsIjUwMjc3IiwiNTAyNzkiLCI1MDI4MSIsIjUwMjgzIiwiNTAyODQiLCI1MDI4NiIsIjUwMjg5IiwiNTAyOTAiLCI1NzcxMyIsIjU3NzE0IiwiNTgzNjkiLCI1ODM3MSIsIjU4MzcyIiwiNTk2NTUiLCI1OTY1NiIsIjU5NjU3IiwiNTk2NTgiLCI1OTY1OSIsIjYxMDY1IiwiNjEzNzMiLCI2MTM3NCIsIjYxMzc1IiwiNjEzNzYiLCI2MTM3NyIsIjYxMzc4IiwiNjEzODAiLCI2MTM4MSIsIjYxOTA4IiwiNjE5MDkiLCI2MTkxMCIsIjYxOTExIiwiNjE5MjAiLCI2MTkyOCIsIjYxOTI5IiwiNjIyMTYiLCI2MjIxNyIsIjYyMjE4IiwiNjI0NTMiLCI2MjU4NiIsIjYzMTkzIiwiNjMxOTQiLCI2MzE5NSIsIjYzMTk2IiwiNjM0MTkiLCI2MzU4MSIsIjYzOTIxIiwiNjcxMjYiLCI2NzEyNyIsIjY3MTI4IiwiNjcxMjkiLCI2NzEzMCIsIjY3MTMxIiwiNjcxMzIiLCI2NzEzMyIsIjY3MTM0IiwiNjcxMzUiLCI2NzEzNiIsIjY3MTM4IiwiNjcxMzkiLCI2NzE0MCIsIjc0ODM4IiwiODEyMjIiLCI4MTgwNSIsIjk5NDgwIiwiOTk0ODIiLCI5OTQ4MyIsIjk5NDg0IiwiOTk0ODUiLCI5OTQ4NiIsIjk5NDg3IiwiOTk0ODgiLCI5OTQ4OSIsIjk5NTMwIiwiMTAwODA2IiwiMTAwODA3IiwiMTA1NjE1IiwiMTA1NzA2IiwiMTA2Mjc3IiwiMTA2Mjc4IiwiMTA2Mjc5IiwiMTA2MjgwIiwiMTA2MjgxIiwiMTA2MjgyIiwiMTA2MjgzIiwiMTA2Mjg0IiwiMTA2Mjg1IiwiMTA2Mjg2IiwiMTA2Mjg3IiwiMTA2Mjg4IiwiMTA2MjkwIiwiMTA2MjkxIiwiMTA2MjkyIiwiMTA2MjkzIiwiMTA2Mjk0IiwiMTA2Mjk1IiwiMTA2Mjk2IiwiMTA2Mjk3IiwiMTA2Mjk4IiwiMTA2MzAwIiwiMTA2MzAxIiwiMTA2MzAzIiwiMTA2OTg5IiwiMTA4MTMzIiwiMTA4MTM0IiwiMTA4MTM1IiwiMTA4MTM2IiwiMTA4MTM3IiwiMTA4MTM4IiwiMTA4MTM5IiwiMTA4MTQwIiwiMTA4MTQyIiwiMTA4MTQzIiwiMTA4MTQ0IiwiMTA4NTk5IiwiMTA5NjMzIiwiMTA5NjQxIiwidG9nZ2xlU2lnbkluIiwiYXV0aCIsImN1cnJlbnRVc2VyIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNpZ25PdXQiLCJwcm92aWRlciIsIkdvb2dsZUF1dGhQcm92aWRlciIsImFkZFNjb3BlIiwic2lnbkluV2l0aFJlZGlyZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRpc2FibGVkIiwic2V0Um9sZSIsInVpZCIsImZ1bmMiLCJyZWYiLCJvbmNlIiwic25hcCIsImZvckVhY2giLCJjc25hcCIsImtleSIsInZhbCIsInJvbGUiLCJpbml0QXBwIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsInRva2VuIiwiYWNjZXNzVG9rZW4iLCJsb2NhdGlvbiIsInJlbG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJjb2RlIiwibWVzc2FnZSIsImVtYWlsIiwiYWxlcnQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJhdXRoTyIsImRpc3BsYXlOYW1lIiwiZW1haWxWZXJpZmllZCIsInBob3RvVVJMIiwidGV4dENvbnRlbnQiLCJ1cGRhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsIm9ubG9hZCIsInVzZXJTZWxlY3QiLCJpbnB1dCIsIiQiLCJrZXl1cCIsImUiLCJodG1sIiwiaW5wdXRWYWwiLCJ0YXJnZXQiLCJ2YWx1ZSIsInNlbGVjdGVkSW5wdXQiLCJpIiwibG9hZGVkVXNlcnMiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInBhcmEiLCJhdHRyIiwiY2xpY2siLCJpbm5lclRleHQiLCJhcHBlbmQiLCJ1bmNoZWNrb3V0IiwiY2xpY2tlZEVsZW1lbnQiLCJjb3Vyc2VJRCIsInBhcmVudEVsZW1lbnQiLCJjaGVja2VyIiwiY3NzIiwiZGlzcGxheSIsInBvcHVsYXRlQ2hlY2siLCJjZCIsImNuIiwidGFyIiwicG9wdWxhdGUiLCJjb3Vyc2VOYW1lIiwiY3Vyc29yIiwiYXBwcm92ZWQiLCJnZXRBdHRyaWJ1dGUiLCJzdGF0dXMiLCJzdHlsZSIsImNoYXJ0cyIsImN0eCIsIkNoYXJ0IiwidHlwZSIsImRhdGEiLCJvcHRpb25zIiwibG9hZFVzZXJzIiwibmFtZSIsInB1c2giLCJjbGFzc0lEIiwiY2xhc3NOYW1lIiwicGFyZW50IiwiaW5wdXRBc3NpZ24iLCJlYWNoIiwic3R1ZGVudEFzc2lnbm1lbnQiLCJzdGF0dXNGdW5jdGlvbnMiLCJTdHVkZW50IEFwcHJvdmVkIiwibGFiZWwiLCJjaGVjayIsIkRlc2lnbmVyIEFwcHJvdmVkIiwiZGF0YXNldHMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsIngiLCJ5IiwicmVzcG9uc2l2ZSIsInNjYWxlcyIsInhBeGVzIiwicG9zaXRpb24iLCJzY2FsZUxhYmVsIiwibGFiZWxTdHJpbmciLCJ5QXhlcyIsInBhdGhuYW1lIiwib24iLCJjb3Vyc2VEYXRhIiwibm90aGluZyIsImRhdGFOYW1lIiwiQ29tcGxldGVkIiwiYWRtaW5CdXR0b24iLCJhdXRoRGF0YSIsInBhcnNlIiwibmF2IiwiaG9tZUJ1dHRvbiIsInJvb3QiLCJvcmlnaW4iLCJhc3NpZ24iLCJwYWdlIiwidG9Mb3dlckNhc2UiXSwibWFwcGluZ3MiOiJBQUFBLFlBQUEsSUFBSUEsU0FDQUMsT0FBUSwwQ0FDUkMsV0FBWSxzQ0FDWkMsWUFBYSw2Q0FDYkMsY0FBZSxrQ0FFbkJDLFVBQVNDLGNBQWNOLE9BRXZCLElBQUlPLFVBQVdGLFNBQVNFO0FDUnhCLFlBQUEsSUFBSUMsV0FDQUMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxRQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxRQUNQQyxNQUFPLFNBQ1BDLE1BQU8sUUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sV0FDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sUUFDUEMsTUFBTyxhQUNQQyxNQUFPLFlBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sYUFDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sYUFDUEMsTUFBTyxhQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxhQUNQQyxNQUFPLFFBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sT0FDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxTQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sU0FDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sU0FDUEMsTUFBTyxZQUNQQyxNQUFPLFVBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxVQUNQQyxNQUFPLFdBQ1BDLE1BQU8sV0FDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sV0FDUEMsTUFBTyxVQUNQQyxNQUFPLFlBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sVUFDUEMsTUFBTyxVQUNQQyxNQUFPLFVBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxVQUNQQyxNQUFPLFNBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxRQUNQQyxNQUFPLFVBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFVBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sVUFDUEMsTUFBTyxTQUNQQyxNQUFPLFdBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFVBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sWUFDUEMsTUFBTyxTQUNQQyxNQUFPLFNBQ1BDLE1BQU8sU0FDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sVUFDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFlBQ1BDLE1BQU8sU0FDUEMsTUFBTyxVQUNQQyxNQUFPLFdBQ1BDLE1BQU8sU0FDUEMsTUFBTyxVQUNQQyxPQUFRLFNBQ1JDLE9BQVEsVUFDUkMsT0FBUSxTQUNSQyxPQUFRLFVBQ1JDLE9BQVEsVUFDUkMsT0FBUSxTQUNSQyxPQUFRLFdBQ1JDLE9BQVEsVUFDUkMsT0FBUSxVQUNSQyxPQUFRLFdBQ1JDLE9BQVEsU0FDUkMsT0FBUSxXQUNSQyxPQUFRLFdBQ1JDLE9BQVEsU0FDUkMsT0FBUSxVQUNSQyxPQUFRLGFBQ1JDLE9BQVEsVUFDUkMsT0FBUSxVQUNSQyxPQUFRLFNBQ1JDLE9BQVEsVUFDUkMsT0FBUSxTQUNSQyxPQUFRLFNBQ1JDLE9BQVEsU0FDUkMsT0FBUSxTQUNSQyxPQUFRLFVBQ1JDLE9BQVEsU0FDUkMsT0FBUSxVQUNSQyxPQUFRLE9BQ1JDLE9BQVEsVUFDUkMsT0FBUSxRQUNSQyxPQUFRLFdBQ1JDLE9BQVEsV0FDUkMsT0FBUSxZQUNSQyxPQUFRLFlBQ1JDLE9BQVEsWUFDUkMsT0FBUSxZQUNSQyxPQUFRLFVBQ1JDLE9BQVEsVUFDUkMsT0FBUSxZQUNSQyxPQUFRLFlBQ1JDLE9BQVEsU0FDUkMsT0FBUSxZQUNSQyxPQUFRO0FDdExaLGNBQUMsV0FFRyxRQUFTQyxLQUNMLEdBQUsxTCxTQUFTMkwsT0FBT0MsWUFTakJDLGFBQWFDLFdBQVcsbUJBQ3hCOUwsU0FBUzJMLE9BQU9JLGNB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dEJ1RyxFQUFXcEMsT0FDWGlCLEVBQWdCLHFCQUFxQm1CLEVBQVl6RyxFQUFNQyxLQUN2QixTQUF6QndHLEVBQVdHLFdBQThDLHFCQUF0QkgsRUFBV3BDLFFBQ3JEaUIsRUFBZ0Isb0JBQW9CbUIsRUFBWXpHLEVBQU1DLFNBS2xFc0UsSUFFQXJDO0FDMVpSO0FDQUEsY0FBQyxXQUVHLEdBQ0kvQixHQUdBMEcsRUFKQUMsRUFBV2pGLEtBQUtrRixNQUFNaEksYUFBQSxrQkFBb0MsR0FFMURpSSxFQUFNNUUsRUFBRSxPQUNSNkUsRUFBYTdFLEVBQUUsd0JBR25CNkUsR0FBVy9ELE1BQU0sU0FBVVosR0FDdkIsR0FBSTRFLEdBQU92RyxTQUFTd0csTUFDcEJ4RyxVQUFTeUcsT0FBVUYsRUFBbkIsaUJBR0pGLEVBQUk1RCxPQUFPNkQsR0FFWDdULFNBQVN3TSxJQUFULFNBQXNCa0gsRUFBU3BILEtBQU9HLEtBQUssUUFBUyxTQUFVQyxHQUMxREssRUFBT0wsRUFBS0ksTUFBTUMsS0FDbEIwRyxFQUFjekUsRUFBRSwwQkFFWmpDLEdBQVEsSUFDUlUsUUFBUUMsSUFBSSxtQ0FFWitGLEVBQVkzRCxNQUFNLFNBQVVaLEdBQ3hCekIsUUFBUUMsSUFBSSxLQUVaLElBQUl1RyxHQUFPL0UsRUFBRUcsT0FBT1UsVUFBVW1FLGNBQzFCSixFQUFPdkcsU0FBU3dHLE1BRXBCeEcsVUFBU3lHLE9BQVVGLEVBQW5CLElBQTJCRyxFQUEzQixXQUdKTCxFQUFJNUQsT0FBT3lEIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29uZmlnID0ge1xyXG4gICAgYXBpS2V5OiBcIkFJemFTeUNSZlJwMjBrRWtwd08xQnMzMHNEeUJrQzRRZi1yc3VOTVwiLFxyXG4gICAgYXV0aERvbWFpbjogXCJjb3Vyc2UtZmlsZS1hdWRpdG9yLmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9jb3Vyc2UtZmlsZS1hdWRpdG9yLmZpcmViYXNlaW8uY29tXCIsXHJcbiAgICBzdG9yYWdlQnVja2V0OiBcImNvdXJzZS1maWxlLWF1ZGl0b3IuYXBwc3BvdC5jb21cIixcclxufTtcclxuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcpO1xyXG5cclxudmFyIGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKTtcclxuXHJcblxyXG5cclxuLypcclxuQmVsb3cgaXMgYSBzZXQgb2YgcXVlcnkgc2NyaXB0cyB0byBtb2RpZnkgdGhlIGRhdGFiYXNlXHJcbiovXHJcblxyXG4vKlxyXG5kYXRhYmFzZS5yZWYoXCJNYXJrJ3MgVG9vbFwiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24oc25hcCl7XHJcbiAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKXtcclxuICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7Y3NuYXAua2V5fWApLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIENvbXBsZXRlZDogXCJGYWxzZVwiLFxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59KVxyXG4qL1xyXG5cclxuIiwidmFyIGNvcnJEYXRhID0ge1xyXG4gICAgMTYxNDk6ICdIRkVEIDM0MCcsXHJcbiAgICAxNjE1MDogJ0IgMjc1JyxcclxuICAgIDE2MTUyOiAnQiAxMDEnLFxyXG4gICAgMTYxNTM6ICdCIDQyNCcsXHJcbiAgICAxNjE1NDogJ0IgMzgwJyxcclxuICAgIDE2MTU1OiAnQiAxMjknLFxyXG4gICAgMTYxNTY6ICdCIDEwMCcsXHJcbiAgICAxNjE1ODogJ0IgNDk5QScsXHJcbiAgICAxNjE2MTogJ0IgNDQ4JyxcclxuICAgIDE2MTYyOiAnRkhHRU4gMjcwJyxcclxuICAgIDE2MTY0OiAnRkFNTCAzNjAnLFxyXG4gICAgMTYxNjU6ICdGQU1MIDQzMCcsXHJcbiAgICAxNjE2NjogJ0hGRUQgMTAxJyxcclxuICAgIDE2MTY3OiAnTUUgMjAxJyxcclxuICAgIDE2MTcwOiAnQiAxODMnLFxyXG4gICAgMTYxNzM6ICdGSEdFTiAyNTFEJyxcclxuICAgIDE2MTc1OiAnRkhHRU4gMTEyJyxcclxuICAgIDE2MTc2OiAnQiAyMTEnLFxyXG4gICAgMTYxNzc6ICdGQU1MIDQ2MCcsXHJcbiAgICAxNjE3ODogJ0ZIR0VOIDEyMCcsXHJcbiAgICAxNjE3OTogJ0IgMjUwJyxcclxuICAgIDE2MTgwOiAnRkFNTCA0MDAnLFxyXG4gICAgMTYxODE6ICdGSEdFTiAxNjAnLFxyXG4gICAgMTYxODI6ICdGSEdFTiAyMTEnLFxyXG4gICAgMTYxODM6ICdGQU1MIDQ0NScsXHJcbiAgICAxNjE4NTogJ0IgMjgzJyxcclxuICAgIDE2MTg3OiAnRkhHRU4gMTMwJyxcclxuICAgIDE2MTg4OiAnRkhHRU4gMzk5JyxcclxuICAgIDE2MTg5OiAnQiA0MDEnLFxyXG4gICAgMTYxOTA6ICdGSEdFTiAyNTFBJyxcclxuICAgIDE2MTkxOiAnRkFNTCA0OThSJyxcclxuICAgIDE2MTkyOiAnQiAzNDEnLFxyXG4gICAgMTYxOTM6ICdGSEdFTiAyNTFCJyxcclxuICAgIDE2MTk1OiAnRkhHRU4gMjUxQycsXHJcbiAgICAxNjE5NjogJ0IgMzcwJyxcclxuICAgIDE2MTk3OiAnQ0hJTEQgMzIwJyxcclxuICAgIDE2MTk4OiAnRkhHRU4gMjUyQicsXHJcbiAgICAxNjE5OTogJ0IgMzAxJyxcclxuICAgIDE2MjAwOiAnRkFNTCAzMDAnLFxyXG4gICAgMTYyMDE6ICdGSEdFTiAyMTInLFxyXG4gICAgMTYyMDI6ICdCIDMyMScsXHJcbiAgICAxNjIwMzogJ29vcHMnLFxyXG4gICAgMTYyMDQ6ICdGSEdFTiAxNDAnLFxyXG4gICAgMTYyMDU6ICdCIDM2MScsXHJcbiAgICAxNjIwNzogJ0ZETUFUIDExMicsXHJcbiAgICAxNjIwODogJ0NISUxEIDMwMCcsXHJcbiAgICAxNjIwOTogJ0ZBTUwgMTAwJyxcclxuICAgIDE2MjExOiAnQ0hJTEQgMjEwJyxcclxuICAgIDE2MjEyOiAnQiA0MjREJyxcclxuICAgIDE2MjEzOiAnRUNPTiAxNTAnLFxyXG4gICAgMTYyMTQ6ICdBR0JVUyAxMDUnLFxyXG4gICAgMTYyMTU6ICdGSEdFTiAxMTEnLFxyXG4gICAgMTYyMTY6ICdGQU1MIDE2MCcsXHJcbiAgICAxNjIxODogJ0IgMTAwJyxcclxuICAgIDE2MjE5OiAnRUNPTiAxNTEnLFxyXG4gICAgMTYyMjE6ICdCIDQxMCcsXHJcbiAgICAxOTQ5MjogJ0IgNDI4JyxcclxuICAgIDIzODAwOiAnQ1MgMzEzJyxcclxuICAgIDIzODAxOiAnRkRIVU0gMTEwJyxcclxuICAgIDMzOTIzOiAnQiA0OTlCJyxcclxuICAgIDQwNjY0OiAnRkFNTCAyMDAnLFxyXG4gICAgNDIzNzc6ICdGRE1BVCAxMDgnLFxyXG4gICAgNTAyNzM6ICdIUyAzOTAnLFxyXG4gICAgNTAyNzQ6ICdGRFdMRCAyMDEnLFxyXG4gICAgNTAyNzU6ICdFTkcgMjUyJyxcclxuICAgIDUwMjc2OiAnRkRJTlQgMjExJyxcclxuICAgIDUwMjc3OiAnRkRXTEQgMTAxJyxcclxuICAgIDUwMjc5OiAnQU5USCAxMDEnLFxyXG4gICAgNTAyODE6ICdDSVQgMzcwJyxcclxuICAgIDUwMjgzOiAnRkRTQ0kgMTAxJyxcclxuICAgIDUwMjg0OiAnRUQgMjAwJyxcclxuICAgIDUwMjg2OiAnRkRTQ0kgMjAxJyxcclxuICAgIDUwMjg5OiAnQVVUTyAxMjUnLFxyXG4gICAgNTAyOTA6ICdIUyAzMTAnLFxyXG4gICAgNTc3MTM6ICdQT0xTQyAxMTAnLFxyXG4gICAgNTc3MTQ6ICdDSVQgMjMwJyxcclxuICAgIDU4MzY5OiAnQklPIDI2NUwnLFxyXG4gICAgNTgzNzE6ICdDT01NIDI3MycsXHJcbiAgICA1ODM3MjogJ0JJTyAyNjRMJyxcclxuICAgIDU5NjU1OiAnSFMgMjgwJyxcclxuICAgIDU5NjU2OiAnQ09NTSAxNzUnLFxyXG4gICAgNTk2NTc6ICdDSVQgMTYwJyxcclxuICAgIDU5NjU4OiAnRkRFTkcgMzAxJyxcclxuICAgIDU5NjU5OiAnQ09NTSAxMjUnLFxyXG4gICAgNjEwNjU6ICdGRFNDSSAyMDMnLFxyXG4gICAgNjEzNzM6ICdOVVRSIDE1MCcsXHJcbiAgICA2MTM3NDogJ01BIDEwNicsXHJcbiAgICA2MTM3NTogJ0hTIDI4NScsXHJcbiAgICA2MTM3NjogJ1BTWUNIIDExMicsXHJcbiAgICA2MTM3NzogJ0NJVCAxMTAnLFxyXG4gICAgNjEzNzg6ICdXREQgMTAwJyxcclxuICAgIDYxMzgwOiAnQ0lUIDExMScsXHJcbiAgICA2MTM4MTogJ0NJVCAzMzYnLFxyXG4gICAgNjE5MDg6ICdQU1lDSCAxMTEnLFxyXG4gICAgNjE5MDk6ICdFRCAzMTInLFxyXG4gICAgNjE5MTA6ICdGRFNDSSAyMDUnLFxyXG4gICAgNjE5MTE6ICdDSVQgMjQwJyxcclxuICAgIDYxOTIwOiAnSFMgMzkxJyxcclxuICAgIDYxOTI4OiAnU09DIDExMScsXHJcbiAgICA2MTkyOTogJ01BVEggMjIxQScsXHJcbiAgICA2MjIxNjogJ0hSSFAgMTMxJyxcclxuICAgIDYyMjE3OiAnTUFUSCAyMjFDJyxcclxuICAgIDYyMjE4OiAnQ09NTSAxMzAnLFxyXG4gICAgNjI0NTM6ICdDT01NIDEwMicsXHJcbiAgICA2MjU4NjogJ01BVEggMjIxQicsXHJcbiAgICA2MzE5MzogJ0IgMjIwJyxcclxuICAgIDYzMTk0OiAnQ0lUIDI2MCcsXHJcbiAgICA2MzE5NTogJ0hTIDMyMCcsXHJcbiAgICA2MzE5NjogJ0hTIDM3MCcsXHJcbiAgICA2MzQxOTogJ0NJVCAyMjUnLFxyXG4gICAgNjM1ODE6ICdGQU1MIDIyMCcsXHJcbiAgICA2MzkyMTogJ1BTWUNIIDIwMScsXHJcbiAgICA2NzEyNjogJ0hTIDQ2MCcsXHJcbiAgICA2NzEyNzogJ0JJTyAyMjEnLFxyXG4gICAgNjcxMjg6ICdIUyA0NjUnLFxyXG4gICAgNjcxMjk6ICdDT01NIDMxMCcsXHJcbiAgICA2NzEzMDogJ0hTIDQwMScsXHJcbiAgICA2NzEzMTogJ0hTIDQyNScsXHJcbiAgICA2NzEzMjogJ0NJVCAyNDEnLFxyXG4gICAgNjcxMzM6ICdQU1lDSCAzMDInLFxyXG4gICAgNjcxMzQ6ICdDT01NIDExMScsXHJcbiAgICA2NzEzNTogJ1BTWUNIIDMxMScsXHJcbiAgICA2NzEzNjogJ1BPTFNDIDE1MCcsXHJcbiAgICA2NzEzODogJ0hTIDM0NScsXHJcbiAgICA2NzEzOTogJ0VEIDIwMicsXHJcbiAgICA2NzE0MDogJ1JNIDMwNCcsXHJcbiAgICA3NDgzODogJ0NPTU0gMzA3JyxcclxuICAgIDgxMjIyOiAnQ0hJTEQgMzEwJyxcclxuICAgIDgxODA1OiAnQ0lUIDI2MScsXHJcbiAgICA5OTQ4MDogJ0hTIDI0MCcsXHJcbiAgICA5OTQ4MjogJ0FHQlVTIDEzOCcsXHJcbiAgICA5OTQ4MzogJ0JJTyAzNzUnLFxyXG4gICAgOTk0ODQ6ICdGRFJFTCAxMDAnLFxyXG4gICAgOTk0ODU6ICdQT0xTQyAxNzAnLFxyXG4gICAgOTk0ODY6ICdSTSAzMDcnLFxyXG4gICAgOTk0ODc6ICdFTkcgMzI1JyxcclxuICAgIDk5NDg4OiAnQ09NTSAzNTInLFxyXG4gICAgOTk0ODk6ICdSTSA0NzEnLFxyXG4gICAgOTk1MzA6ICdCSU8gMjY1JyxcclxuICAgIDEwMDgwNjogJ01BIDEwNycsXHJcbiAgICAxMDA4MDc6ICdCSU8gMjY0JyxcclxuICAgIDEwNTYxNTogJ1RBIDQwMicsXHJcbiAgICAxMDU3MDY6ICdDSVQgMjYyJyxcclxuICAgIDEwNjI3NzogJ0NJVCAzODEnLFxyXG4gICAgMTA2Mjc4OiAnTUEgMTA1JyxcclxuICAgIDEwNjI3OTogJ0NPTU0gMTUwJyxcclxuICAgIDEwNjI4MDogJ0NJVCAzMjUnLFxyXG4gICAgMTA2MjgxOiAnQ0lUIDM1MicsXHJcbiAgICAxMDYyODI6ICdDT01NIDI1MCcsXHJcbiAgICAxMDYyODM6ICdSTSAzNzEnLFxyXG4gICAgMTA2Mjg0OiAnQ09NTSAyODknLFxyXG4gICAgMTA2Mjg1OiAnQ09NTSA0NTAnLFxyXG4gICAgMTA2Mjg2OiAnUk0gMzcwJyxcclxuICAgIDEwNjI4NzogJ1NPQyAxMTInLFxyXG4gICAgMTA2Mjg4OiAnQUdCVVMgMTgwQScsXHJcbiAgICAxMDYyOTA6ICdCSU8gNDc1JyxcclxuICAgIDEwNjI5MTogJ0JJTyAzODEnLFxyXG4gICAgMTA2MjkyOiAnSFMgMzc1JyxcclxuICAgIDEwNjI5MzogJ1JNIDM3M1InLFxyXG4gICAgMTA2Mjk0OiAnUk0gNDcyJyxcclxuICAgIDEwNjI5NTogJ01BIDIwNScsXHJcbiAgICAxMDYyOTY6ICdIUyA0MjAnLFxyXG4gICAgMTA2Mjk3OiAnSFMgMzc4JyxcclxuICAgIDEwNjI5ODogJ0VORyAzNTUnLFxyXG4gICAgMTA2MzAwOiAnTUEgMTExJyxcclxuICAgIDEwNjMwMTogJ0VORyAzMzUnLFxyXG4gICAgMTA2MzAzOiAnb29wcycsXHJcbiAgICAxMDY5ODk6ICdFTkcgMjUxJyxcclxuICAgIDEwODEzMzogJ0IgMTAxJyxcclxuICAgIDEwODEzNDogJ0ZBTUwgMTAwJyxcclxuICAgIDEwODEzNTogJ0ZBTUwgMjIwJyxcclxuICAgIDEwODEzNjogJ0ZERU5HIDMwMScsXHJcbiAgICAxMDgxMzc6ICdGRFJFTCAxMjEnLFxyXG4gICAgMTA4MTM4OiAnRkRSRUwgMTIyJyxcclxuICAgIDEwODEzOTogJ0ZEU0NJIDIwMycsXHJcbiAgICAxMDgxNDA6ICdFTkcgMzMyJyxcclxuICAgIDEwODE0MjogJ0NJVCAxMTAnLFxyXG4gICAgMTA4MTQzOiAnRkRIVU0gMTEwJyxcclxuICAgIDEwODE0NDogJ0ZEU0NJIDIwMScsXHJcbiAgICAxMDg1OTk6ICdUQSAxMTYnLFxyXG4gICAgMTA5NjMzOiAnRkRTQ0kgMTAxJyxcclxuICAgIDEwOTY0MTogJ0VORyAzMTQnXHJcbn07XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gdG9nZ2xlU2lnbkluKCkge1xyXG4gICAgICAgIGlmICghZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xyXG5cclxuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvcGx1cy5sb2dpbicpO1xyXG4gICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgncHJvZmlsZScpO1xyXG4gICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgnZW1haWwnKTtcclxuICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhSZWRpcmVjdChwcm92aWRlcik7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdNYW5hZ2VtZW50QXV0aE8nKTtcclxuICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRSb2xlKHVpZCwgZnVuYykge1xyXG4gICAgICAgIGRhdGFiYXNlLnJlZihcInVzZXJzXCIpLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xyXG4gICAgICAgICAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3NuYXAua2V5ID09PSB1aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNzbmFwLnZhbCgpLnJvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRBcHAoKSB7XHJcbiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmdldFJlZGlyZWN0UmVzdWx0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuY3JlZGVudGlhbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBHb29nbGUgQWNjZXNzIFRva2VuLiBZb3UgY2FuIHVzZSBpdCB0byBhY2Nlc3MgdGhlIEdvb2dsZSBBUEkuXHJcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHQuY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codG9rZW4pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG9rZW4gbnVsbCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB1c2VyID0gcmVzdWx0LnVzZXI7XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlLFxyXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsID0gZXJyb3IuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsID0gZXJyb3IuY3JlZGVudGlhbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPT09ICdhdXRoL2FjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWwnKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnWW91IGhhdmUgYWxyZWFkeSBzaWduZWQgdXAgd2l0aCBhIGRpZmZlcmVudCBhdXRoIHByb3ZpZGVyIGZvciB0aGF0IGVtYWlsLicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGF1dGhPID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IHVzZXIuZW1haWxWZXJpZmllZCxcclxuICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogdXNlci5waG90b1VSTCxcclxuICAgICAgICAgICAgICAgICAgICB1aWQ6IHVzZXIudWlkXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLnRleHRDb250ZW50ID0gJ1NpZ24gb3V0JztcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoYHVzZXJzLyR7YXV0aE8udWlkfWApLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGF1dGhPLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhdXRoTy5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBhdXRoTy5lbWFpbFZlcmlmaWVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBhdXRoTy5waG90b1VSTCxcclxuICAgICAgICAgICAgICAgICAgICB1aWQ6IGF1dGhPLnVpZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFJvbGUoYXV0aE8udWlkLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoYHVzZXJzLyR7YXV0aE8udWlkfWApLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VbXCJNYW5hZ2VtZW50QXV0aE9cIl0gPSBKU09OLnN0cmluZ2lmeShhdXRoTyk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLnRleHRDb250ZW50ID0gJ1NpZ24gaW4gd2l0aCBHb29nbGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVNpZ25JbiwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW5pdEFwcCgpO1xyXG4gICAgfVxyXG5cclxufSgpKVxyXG4iLCIvKlxyXG5kYXRhYmFzZSBpcyBhIGdsb2JhbCB2YXJpYWJsZVxyXG4qL1xyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBsb2FkZWRVc2VycyA9IFtdLFxyXG4gICAgICAgIHRpbWVTcGVudCA9IFtdLFxyXG4gICAgICAgIGRhdGFTYXZlZDtcclxuXHJcbiAgICAvKlxyXG4gICAgRXZlbnRzIHRvIGhhbmRsZSBtb2RhbHNcclxuICAgICovXHJcbiAgICAkKFwiYVwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBjbGFzc0lEID0gZS50YXJnZXQuY2xhc3NOYW1lO1xyXG5cclxuICAgICAgICBpZiAoY2xhc3NJRCA9PT0gXCJjaGVja2VkXCIpIHtcclxuICAgICAgICAgICAgJChgI25hbWVQb3B1cGApLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlcIjogXCJibG9ja1wiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKGAjJHtjbGFzc0lEfWApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcImJsb2NrXCJcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoYCNzaGFkZWApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcImJsb2NrXCJcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5jYW5jZWxcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgcGFyZW50ID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgJChgI25hbWVQb3B1cGApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcIm5vbmVcIlxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQocGFyZW50KS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKCcjc2hhZGUnKS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjYXNzaWduXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIGlucHV0QXNzaWduID0gJChcIltkYXRhLWNvdXJzZWlkXSA+IGlucHV0XCIpO1xyXG5cclxuICAgICAgICAkLmVhY2goaW5wdXRBc3NpZ24sIGZ1bmN0aW9uIChpLCB2YWwpIHtcclxuICAgICAgICAgICAgdmFyIHN0dWRlbnRBc3NpZ25tZW50ID0gdmFsLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgY291cnNlSUQgPSB2YWwucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvdXJzZWlkXCIpO1xyXG5cclxuICAgICAgICAgICAgZGF0YWJhc2UucmVmKGB1c2Vyc2ApLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJzID0gc25hcC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBjc25hcC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3R1ZGVudEFzc2lnbm1lbnQgPT09IHVzZXIuZGlzcGxheU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVpZCA9IGNzbmFwLmtleTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgTWFyaydzIFRvb2wvJHtjb3Vyc2VJRH1gKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2VyXCI6IHVpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsLnBhcmVudEVsZW1lbnQpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0QXNzaWduW2ldLnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKlxyXG4gICAgVGhlIHVzZXJTZWxlY3QsIHVuY2hlY2tvdXQsIHBvcHVsYXRlQ2hlY2ssIGFuZCBjaGVja2VkXHJcbiAgICBhcmUgYWxsIHVzZWQgZm9yIHRoZSBjaGVja291dCBmZWF0dXJlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHVzZXJTZWxlY3QoKSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gJChcIjxpbnB1dD48L2lucHV0PlwiKTtcclxuXHJcbiAgICAgICAgaW5wdXQua2V5dXAoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgJChcIiN1c2VyTmFtZXNcIikuaHRtbChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpbnB1dFZhbCA9IGUudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnB1dCA9IGUudGFyZ2V0XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvYWRlZFVzZXJzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZFVzZXJzW2ldLmluY2x1ZGVzKGlucHV0VmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhID0gJChgPHA+JHtsb2FkZWRVc2Vyc1tpXX08L3A+YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmEuYXR0cihcImlkXCIsIFwiZW1wTmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoc2VsZWN0ZWRJbnB1dCkudmFsKGUudGFyZ2V0LmlubmVyVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjdXNlck5hbWVzXCIpLmFwcGVuZChwYXJhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuY2hlY2tvdXQoZSkge1xyXG4gICAgICAgIHZhciBjbGlja2VkRWxlbWVudCA9IGUudGFyZ2V0LFxyXG4gICAgICAgICAgICBjb3Vyc2VJRCA9ICQoY2xpY2tlZEVsZW1lbnQpLmF0dHIoXCJkYXRhLWNvdXJzZWlkXCIpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhjbGlja2VkRWxlbWVudCwgY291cnNlSUQsIGNsaWNrZWRFbGVtZW50LnBhcmVudEVsZW1lbnQpO1xyXG5cclxuICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7Y291cnNlSUR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgY2hlY2tlcjogXCJcIlxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQoY2xpY2tlZEVsZW1lbnQpLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcIm5vbmVcIixcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBSdW5zIHRoZSBkYXRhIGZvciB0aGUgY2hlY2tlZCBNb2RhbFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHBvcHVsYXRlQ2hlY2soY2QsIGNuLCB0YXIpIHtcclxuICAgICAgICB2YXIgcG9wdWxhdGUgPSAkKGAjJHt0YXJ9YCksXHJcbiAgICAgICAgICAgIGNvdXJzZU5hbWUgPSAkKGA8bGFiZWwgZGF0YS1jb3Vyc2VJRD1cIiR7Y259XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7Y2RbJ0xpbmsnXX1cIj4ke2NvcnJEYXRhW2NuXX08L2E+PC9sYWJlbD5gKSxcclxuICAgICAgICAgICAgaW5wdXQ7XHJcblxyXG4gICAgICAgIGlmIChjZC5jaGVja2VyICE9PSBcIlwiICYmIHRhciA9PT0gXCJjaGVja2VkT3V0XCIpIHtcclxuICAgICAgICAgICAgZGF0YWJhc2UucmVmKGB1c2Vycy8ke2NkLmNoZWNrZXJ9YCkub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlzcGxheU5hbWUgPSBzbmFwLnZhbCgpLmRpc3BsYXlOYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvdXJzZU5hbWVcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKGA8cD4ke2Rpc3BsYXlOYW1lfTwvcD5gKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCIgJnRpbWVzO1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImN1cnNvclwiOiBcInBvaW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNsaWNrKHVuY2hlY2tvdXQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRhciA9PT0gXCJ1bmFzc2lnbmVkXCIpIHtcclxuICAgICAgICAgICAgaW5wdXQgPSB1c2VyU2VsZWN0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb3Vyc2VOYW1lLmFwcGVuZChpbnB1dCk7XHJcblxyXG4gICAgICAgIHBvcHVsYXRlLmFwcGVuZChjb3Vyc2VOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgUnVucyB0aGUgZGF0YSBmb3IgdGhlIGZpbmlzaGVkIG1vZGFsLiAgU2VlIHdoaWNoIGNvdXJzZXNcclxuICAgIGhhdmUgYSBcIlN0dWRlbnQgQXBwcm92ZWRcIiBhbmQgYSBcIkRlc2lnbmVyIEFwcHJvdmFsXCJcclxuICAgIG9uIHRoZWlyIHN0YXR1cyBub2RlIGluIHRoZSBkYXRhYmFzZS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhcHByb3ZlZChlKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LFxyXG4gICAgICAgICAgICBjb3Vyc2VJRCA9IHBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb3Vyc2VpZFwiKTtcclxuXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NvdXJzZUlEfWApLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHN0YXR1czogXCJEZXNpZ25lciBBcHByb3ZlZFwiXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZS50YXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzdGF0dXNGdW5jdGlvbnMgPSB7XHJcbiAgICAgICAgXCJTdHVkZW50IEFwcHJvdmVkXCI6IGZ1bmN0aW9uIChjZCwgY24pIHtcclxuICAgICAgICAgICAgdmFyIGxhYmVsID0gJChgPGxhYmVsIGRhdGEtY291cnNlSUQ9XCIke2NufVwiPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke2NkWydMaW5rJ119XCI+JHtjb3JyRGF0YVtjbl19PC9hPjwvbGFiZWw+YCksXHJcbiAgICAgICAgICAgICAgICBjaGVjayA9ICQoYDxzcGFuPiYjeDI3MTM7PC9zcGFuPmApO1xyXG5cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgUHVzaC5jcmVhdGUoJ05ldyBTdHVkZW50IEFwcHJvdmFsIScsIHtcclxuICAgICAgICAgICAgICAgIFwiYm9keVwiOiBgJHtjb3JyRGF0YVtjbl19IGlzIHJlYWR5LmAsXHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiA3MDAwXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICAkKGNoZWNrKVxyXG4gICAgICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjdXJzb3JcIjogXCJwb2ludGVyXCJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soYXBwcm92ZWQpO1xyXG5cclxuICAgICAgICAgICAgJChsYWJlbClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoY2hlY2spO1xyXG5cclxuICAgICAgICAgICAgJChcIiNjb21wbGV0ZWRcIikuYXBwZW5kKGxhYmVsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiRGVzaWduZXIgQXBwcm92ZWRcIjogZnVuY3Rpb24gKGNkLCBjbikge1xyXG4gICAgICAgICAgICAkKFwiI2FwcHJvdmVkXCIpLmFwcGVuZChgPGxhYmVsIGRhdGEtY291cnNlSUQ9XCIke2NufVwiPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke2NkWydMaW5rJ119XCI+JHtjb3JyRGF0YVtjbl19PC9hPjwvbGFiZWw+YCk7XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgU2NyaXB0IGZvciBjb2RpbmcgdGhlIHJlcG9ydCBncmFwaHMuXHJcbiAgICAqL1xyXG5cclxuICAgIC8vICAgIGZvciBkZXZlbG9wbWVudCBvZiBjaGFydCBncmFwaHNcclxuICAgIC8vICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhdHNcIikuY2xpY2soKTtcclxuXHJcbiAgICAvKkRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoZSB0d28gZ3JhcGhzKi9cclxuICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICBkYXRhc2V0czogW3tcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0RhdGEgU2F2ZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDc1LDE5MiwxOTIsMC40KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBcInJnYmEoMzMsIDk4LCA5OCwgMC40KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IC0xMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJUaW1lIFNwZW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMjMsIDU2LCAyMzQsIDAuNClcIixcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogXCJyZ2JhKDAsIDExLCA3MiwgMC40KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IC0xMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogOSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBzY2FsZXM6IHtcclxuICAgICAgICAgICAgICAgIHhBeGVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nOiAnTW9udGhzJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgIHlBeGVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogJydcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAvKlJldHJpZXZlIHRoZSBkYXRhIGZvciBhbW91bnQgb2YgZGF0YSBzYXZlZCovXHJcbiAgICBmdW5jdGlvbiBjaGFydHMoKSB7XHJcbiAgICAgICAgdmFyIGN0eCA9ICQoXCIuY2hhcnRcIiksXHJcbiAgICAgICAgICAgIG15TGluZUNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZFVzZXJzKCkge1xyXG4gICAgICAgIC8qTG9hZCBhbGwgdGhlIHVzZXJzIGZyb20gdGhlIGRhdGFiYXNlKi9cclxuICAgICAgICBkYXRhYmFzZS5yZWYoXCJ1c2Vyc1wiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBjc25hcC52YWwoKS5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgIGxvYWRlZFVzZXJzLnB1c2gobmFtZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZENoYXJ0RGF0YSgpIHtcclxuXHJcbiAgICAgICAgdmFyIG1vbnRocyA9IFtcclxuICAgICAgICAgICAgICAgIFwiSmFuXCIsXHJcbiAgICAgICAgICAgICAgICBcIkZlYlwiLFxyXG4gICAgICAgICAgICAgICAgXCJNYXJcIixcclxuICAgICAgICAgICAgICAgIFwiQXByXCIsXHJcbiAgICAgICAgICAgICAgICBcIk1heVwiLFxyXG4gICAgICAgICAgICAgICAgXCJKdW5cIixcclxuICAgICAgICAgICAgICAgIFwiSnVsXCIsXHJcbiAgICAgICAgICAgICAgICBcIkF1Z1wiLFxyXG4gICAgICAgICAgICAgICAgXCJTZXB0XCIsXHJcbiAgICAgICAgICAgICAgICBcIk9jdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJOb3ZcIixcclxuICAgICAgICAgICAgICAgIFwiRGVjXCJcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIG51bURheSA9IGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICBtb250aERpZyA9IGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgICAgbW9udGggPSBtb250aHNbbW9udGhEaWddO1xyXG5cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBUSU1FIEdBVEhFUkVSIERBVEFcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiNlwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImxhYmVsXCI6IFwiSnVsXCJcclxuICAgICAgICAgICAgICAgIFwidG90YWxcIjogNDU2LFxyXG4gICAgICAgICAgICAgICAgXCJlbnRyaWVzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIlBVU0hfSURcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpbWVcIjogMjQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VibWl0dGVyXCI6IFwiQW5kcmV3XCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIERBVEEgU0FWRURcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiZGF0YV9zYXZlZFwiOiB7XHJcbiAgICAgICAgICAgICAgICBcIm1vbnRoXCI6IFwiNlwiLFxyXG4gICAgICAgICAgICAgICAgXCJhbW91bnRcIjogXCJcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIC8qREFUQSBTQVZFRCovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaChmdW5jdGlvbiAoY3NuYXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb3Vyc2VEYXRhID0gY3NuYXAudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNhdmVkID0gY291cnNlRGF0YVtcImRhdGFfc2F2ZWRcIl07XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhU2F2ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSArZGF0YVNhdmVkW2ldLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSArZGF0YVNhdmVkW2ldLmFtb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29vciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieFwiOiBtb250aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieVwiOiBhbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNhdmVkLnB1c2goY29vcilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgLypUSU1FIEdBVEhFUkVSKi9cclxuICAgICAgICBkYXRhYmFzZS5yZWYoXCJNYXJrJ3MgVG9vbFwiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvdXJzZURhdGEgPSBjc25hcC52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lRGF0YSA9IGNvdXJzZURhdGFbXCJ0aW1lX3NwZW50XCJdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGltZURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURhdGEgPSArdGltZURhdGFbaV0udG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bU1vbnRoID0gK2ksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInhcIjogbnVtTW9udGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInlcIjogdGltZURhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVNwZW50LnB1c2goY29vcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgRGV0ZXJtaW5lIHRoYXQgdGhlIGxvY2F0aW9uIGlzIHRoZSBhZG1pbiBwYWdlIGFuZCBsb2FkXHJcbiAgICBhbGwgb2YgdGhlIGRhdGEgd2l0aCB0aGUgYWRtaW5pc3RyYXRvciByb2xlLlxyXG4gICAgKi9cclxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcyhcImFkbWluXCIpKSB7XHJcblxyXG4gICAgICAgIGxvYWRVc2VycygpO1xyXG4gICAgICAgIC8vICAgICAgICBsb2FkQ2hhcnREYXRhKCk7XHJcblxyXG4gICAgICAgIC8qTG9hZCB0aGUgY2hlY2tlZCBvdXQgZGF0YSovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub24oXCJjaGlsZF9hZGRlZFwiLCBmdW5jdGlvbiAoY3NuYXApIHtcclxuICAgICAgICAgICAgdmFyIGNvdXJzZURhdGEgPSBjc25hcC52YWwoKSxcclxuICAgICAgICAgICAgICAgIGNvdXJzZU5hbWUgPSBjc25hcC5rZXksXHJcbiAgICAgICAgICAgICAgICBub3RoaW5nID0gXCJUaGVyZSBpcyBub3RoaW5nIGhlcmUhXCI7XHJcblxyXG4gICAgICAgICAgICBpZiAoY291cnNlRGF0YVtcIkNvbnRlbnQgUGFnZXNcIl0gIT09IG5vdGhpbmcgfHwgY291cnNlRGF0YVtcIlF1aXp6ZXNcIl0gIT09IG5vdGhpbmcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3Vyc2VEYXRhLnN0YXR1cyA9PT0gXCJQZW5kaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VEYXRhLmNoZWNrZXIgPyBwb3B1bGF0ZUNoZWNrKGNvdXJzZURhdGEsIGNvdXJzZU5hbWUsIFwiY2hlY2tlZE91dFwiKSA6IHBvcHVsYXRlQ2hlY2soY291cnNlRGF0YSwgY291cnNlTmFtZSwgXCJ1bmFzc2lnbmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLypMb2FkIGNvdXJzZSBkYXRhIGludG8gY2hlY2tlZCBvdXQgd2hlbiBjaGlsZCBjaGFuZ2VkKi9cclxuICAgICAgICBkYXRhYmFzZS5yZWYoXCJNYXJrJ3MgVG9vbFwiKS5vbihcImNoaWxkX2NoYW5nZWRcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBzbmFwLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgZGF0YU5hbWUgPSBzbmFwLmtleTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJPY2N1cmluZ1wiKTtcclxuXHJcbiAgICAgICAgICAgIHBvcHVsYXRlQ2hlY2soZGF0YSwgZGF0YU5hbWUsIFwiY2hlY2tlZE91dFwiKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8qTG9hZCBhbnkgZmluaXNoZWQgb3IgYXBwcm92ZWQgY291cnNlcyovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaChmdW5jdGlvbiAoY3NuYXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb3Vyc2VEYXRhID0gY3NuYXAudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvdXJzZURhdGEuc3RhdHVzID09PSBcIkRlc2lnbmVyIEFwcHJvdmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNGdW5jdGlvbnNbXCJEZXNpZ25lciBBcHByb3ZlZFwiXShjb3Vyc2VEYXRhLCBjc25hcC5rZXkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3Vyc2VEYXRhLkNvbXBsZXRlZCA9PT0gXCJUcnVlXCIgfHwgY291cnNlRGF0YS5zdGF0dXMgPT09IFwiU3R1ZGVudCBBcHByb3ZlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzRnVuY3Rpb25zW1wiU3R1ZGVudCBBcHByb3ZlZFwiXShjb3Vyc2VEYXRhLCBjc25hcC5rZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNoYXJ0cygpO1xyXG5cclxuICAgICAgICB1c2VyU2VsZWN0KCk7XHJcbiAgICB9XHJcblxyXG59KCkpO1xyXG4iLCJcInVzZSBzdHJpY3RcIjsiLCIoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBhdXRoRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWydNYW5hZ2VtZW50QXV0aE8nXSkgfHwgXCJcIixcclxuICAgICAgICByb2xlLFxyXG4gICAgICAgIG5hdiA9ICQoXCJuYXZcIiksXHJcbiAgICAgICAgaG9tZUJ1dHRvbiA9ICQoXCI8YnV0dG9uPkhvbWU8L2J1dHRvbj5cIiksXHJcbiAgICAgICAgYWRtaW5CdXR0b247XHJcblxyXG4gICAgaG9tZUJ1dHRvbi5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciByb290ID0gbG9jYXRpb24ub3JpZ2luO1xyXG4gICAgICAgIGxvY2F0aW9uLmFzc2lnbihgJHtyb290fS9pbmRleC5odG1sYCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBuYXYuYXBwZW5kKGhvbWVCdXR0b24pO1xyXG5cclxuICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHthdXRoRGF0YS51aWR9YCkub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgcm9sZSA9IHNuYXAudmFsKCkucm9sZSxcclxuICAgICAgICBhZG1pbkJ1dHRvbiA9ICQoXCI8YnV0dG9uPkFkbWluPC9idXR0b24+XCIpO1xyXG5cclxuICAgICAgICBpZiAocm9sZSA+PSA4KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBsb2dnZWQgaW4gaXMgQWRtaW5pc3RyYXRvclwiKTtcclxuXHJcbiAgICAgICAgICAgIGFkbWluQnV0dG9uLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxpXCIpXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBlLnRhcmdldC5pbm5lclRleHQudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgICAgICAgICByb290ID0gbG9jYXRpb24ub3JpZ2luO1xyXG5cclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbihgJHtyb290fS8ke3BhZ2V9Lmh0bWxgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBuYXYuYXBwZW5kKGFkbWluQnV0dG9uKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSgpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
