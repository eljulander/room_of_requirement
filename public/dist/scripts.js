"use strict";var config={apiKey:"AIzaSyCRfRp20kEkpwO1Bs30sDyBkC4Qf-rsuNM",authDomain:"course-file-auditor.firebaseapp.com",databaseURL:"https://course-file-auditor.firebaseio.com",storageBucket:"course-file-auditor.appspot.com"};firebase.initializeApp(config);var database=firebase.database();
"use strict";var corrData={16149:"HFED 340",16150:"B 275",16152:"B 101",16153:"B 424",16154:"B 380",16155:"B 129",16156:"B 100",16158:"B 499A",16161:"B 448",16162:"FHGEN 270",16164:"FAML 360",16165:"FAML 430",16166:"HFED 101",16167:"ME 201",16170:"B 183",16173:"FHGEN 251D",16175:"FHGEN 112",16176:"B 211",16177:"FAML 460",16178:"FHGEN 120",16179:"B 250",16180:"FAML 400",16181:"FHGEN 160",16182:"FHGEN 211",16183:"FAML 445",16185:"B 283",16187:"FHGEN 130",16188:"FHGEN 399",16189:"B 401",16190:"FHGEN 251A",16191:"FAML 498R",16192:"B 341",16193:"FHGEN 251B",16195:"FHGEN 251C",16196:"B 370",16197:"CHILD 320",16198:"FHGEN 252B",16199:"B 301",16200:"FAML 300",16201:"FHGEN 212",16202:"B 321",16203:"oops",16204:"FHGEN 140",16205:"B 361",16207:"FDMAT 112",16208:"CHILD 300",16209:"FAML 100",16211:"CHILD 210",16212:"B 424D",16213:"ECON 150",16214:"AGBUS 105",16215:"FHGEN 111",16216:"FAML 160",16218:"B 100",16219:"ECON 151",16221:"B 410",19492:"B 428",23800:"CS 313",23801:"FDHUM 110",33923:"B 499B",40664:"FAML 200",42377:"FDMAT 108",50273:"HS 390",50274:"FDWLD 201",50275:"ENG 252",50276:"FDINT 211",50277:"FDWLD 101",50279:"ANTH 101",50281:"CIT 370",50283:"FDSCI 101",50284:"ED 200",50286:"FDSCI 201",50289:"AUTO 125",50290:"HS 310",57713:"POLSC 110",57714:"CIT 230",58369:"BIO 265L",58371:"COMM 273",58372:"BIO 264L",59655:"HS 280",59656:"COMM 175",59657:"CIT 160",59658:"FDENG 301",59659:"COMM 125",61065:"FDSCI 203",61373:"NUTR 150",61374:"MA 106",61375:"HS 285",61376:"PSYCH 112",61377:"CIT 110",61378:"WDD 100",61380:"CIT 111",61381:"CIT 336",61908:"PSYCH 111",61909:"ED 312",61910:"FDSCI 205",61911:"CIT 240",61920:"HS 391",61928:"SOC 111",61929:"MATH 221A",62216:"HRHP 131",62217:"MATH 221C",62218:"COMM 130",62453:"COMM 102",62586:"MATH 221B",63193:"B 220",63194:"CIT 260",63195:"HS 320",63196:"HS 370",63419:"CIT 225",63581:"FAML 220",63921:"PSYCH 201",67126:"HS 460",67127:"BIO 221",67128:"HS 465",67129:"COMM 310",67130:"HS 401",67131:"HS 425",67132:"CIT 241",67133:"PSYCH 302",67134:"COMM 111",67135:"PSYCH 311",67136:"POLSC 150",67138:"HS 345",67139:"ED 202",67140:"RM 304",74838:"COMM 307",81222:"CHILD 310",81805:"CIT 261",99480:"HS 240",99482:"AGBUS 138",99483:"BIO 375",99484:"FDREL 100",99485:"POLSC 170",99486:"RM 307",99487:"ENG 325",99488:"COMM 352",99489:"RM 471",99530:"BIO 265",100806:"MA 107",100807:"BIO 264",105615:"TA 402",105706:"CIT 262",106277:"CIT 381",106278:"MA 105",106279:"COMM 150",106280:"CIT 325",106281:"CIT 352",106282:"COMM 250",106283:"RM 371",106284:"COMM 289",106285:"COMM 450",106286:"RM 370",106287:"SOC 112",106288:"AGBUS 180A",106290:"BIO 475",106291:"BIO 381",106292:"HS 375",106293:"RM 373R",106294:"RM 472",106295:"MA 205",106296:"HS 420",106297:"HS 378",106298:"ENG 355",106300:"MA 111",106301:"ENG 335",106303:"oops",106989:"ENG 251",108133:"B 101",108134:"FAML 100",108135:"FAML 220",108136:"FDENG 301",108137:"FDREL 121",108138:"FDREL 122",108139:"FDSCI 203",108140:"ENG 332",108142:"CIT 110",108143:"FDHUM 110",108144:"FDSCI 201",108599:"TA 116",109633:"FDSCI 101",109641:"ENG 314"};
"use strict";!function(){function e(){if(firebase.auth().currentUser)localStorage.removeItem("ManagementAuthO"),firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/plus.login"),e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)}document.getElementById("quickstart-sign-in").disabled=!0}function t(e,t){database.ref("users").once("value",function(i){i.forEach(function(i){i.key===e&&(i.val().role||t())})})}function i(){firebase.auth().getRedirectResult().then(function(e){if(e.credential){var t=e.credential.accessToken;location.reload(),console.log(t)}e.user})["catch"](function(e){var t=e.code;e.message,e.email,e.credential;"auth/account-exists-with-different-credential"===t?alert("You have already signed up with a different auth provider for that email."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){if(e){var i={displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL,uid:e.uid};document.getElementById("quickstart-sign-in").textContent="Sign out",database.ref("users/"+i.uid).update({displayName:i.displayName,email:i.email,emailVerified:i.emailVerified,photoURL:i.photoURL,uid:i.uid}),t(i.uid,function(){database.ref("users/"+i.uid).update({role:0})}),localStorage.ManagementAuthO=JSON.stringify(i)}else document.getElementById("quickstart-sign-in").textContent="Sign in with Google";document.getElementById("quickstart-sign-in").disabled=!1}),document.getElementById("quickstart-sign-in").addEventListener("click",e,!1)}window.onload=function(){i()}}();
"use strict";!function(){function a(){var a=$("<input></input>");return a.keyup(function(a){$("#userNames").html("");for(var e=a.target.value,t=a.target,n=0;n<o.length;n++)if(o[n].includes(e)){var r=$("<p>"+o[n]+"</p>");r.attr("id","empName").click(function(a){$(t).val(a.target.innerText)}),$("#userNames").append(r)}}),a}function e(a){var e=a.target,t=$(e).attr("data-courseid");database.ref("Mark's Tool/"+t).update({checker:""}),$(a.target).css({display:"none"})}function t(t,n,r){var c,s=$("#"+r),o=$('<label data-courseID="'+n+'"><a target="_blank" href="'+t.Link+'">'+corrData[n]+"</a></label>");""!==t.checker&&"checkedOut"===r&&database.ref("users/"+t.checker).once("value",function(a){var t=a.val().displayName;o.append("<p>"+t+"</p>").append(" &times;").css({cursor:"pointer"}).click(e)}),"unassigned"===r&&(c=a()),o.append(c),s.append(o)}function n(){database.ref("Mark's Tool").on("value",function(a){a.forEach(function(a){var e=a.val(),n=a.key,r="There is nothing here!";e["Content Pages"]===r&&e.Quizzes===r||"Pending"===e.status&&(e.checker?t(e,n,"checkedOut"):t(e,n,"unassigned"))})})}function r(a){var e=a.target.idment,t=e.getAttribute("data-courseid");database.ref("Mark's Tool/"+t).update({status:"Designer Approved"}),a.target.style.display="none"}function c(){database.ref("Mark's Tool").once("value",function(a){a.forEach(function(a){var e=a.val();i[e.status](e,a.key)})})}function s(){database.ref("users").once("value",function(a){a.forEach(function(a){var e=a.val().displayName;o.push(e)})})}var o=[];$("a").click(function(a){var e=a.target.className;$("#"+e).css({display:"block"}),$("#shade").css({display:"block"})}),$(".checked").click(function(a){$("#namePopup").css({display:"block"})}),$(".cancel").click(function(a){var e=a.target.idment;$(e).css({display:"none"}),$("#shade").css({display:"none"}),$("#namePopup").css({display:"none"})}),$("#assign").click(function(a){var e,t=$("[data-courseid] > input");$.each(t,function(a,t){var n=t.value,r=t.parentElement.getAttribute("data-courseid");database.ref("users").once("value",function(a){e=a.val();for(var t in e)e[t].displayName===n&&database.ref("Mark's Tool/"+r).update({checker:e[t].uid})})})});var i={"Student Approved":function(a,e){var t=$('<label data-courseID="'+e+'"><a target="_blank" href="'+a.Link+'">'+corrData[e]+"</a></label>"),n=$("<span>&#x2713;</span>");Push.create("New Student Approval!",{body:corrData[e]+" is ready.",timeout:7e3}),$(n).css({cursor:"pointer"}).click(r),$(t).append(n),$("#completed").append(t)},"Designer Approved":function(a,e){$("#approved").append('<label data-courseID="'+e+'"><a target="_blank" href="'+a.Link+'">'+corrData[e]+"</a></label>")}};location.pathname.includes("admin")&&(s(),n(),c(),a())}();
"use strict";
"use strict";!function(){var n,o,t=JSON.parse(localStorage.ManagementAuthO)||"",i=$("nav"),a=$("<button>Home</button>");a.click(function(n){var o=location.origin;location.assign(o+"/index.html")}),i.append(a),database.ref("users/"+t.uid).once("value",function(t){n=t.val().role,o=$("<button>Admin</button>"),n>=8&&(console.log("User logged in is Administrator"),o.click(function(n){console.log("li");var o=n.target.innerText.toLowerCase(),t=location.origin;location.assign(t+"/"+o+".html")}),i.append(o))})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyIsImNvdXJzZV9uYW1lLmpzIiwibG9naW4uanMiLCJhZG1pbi5qcyIsImRhdGFfbmF2LmpzIiwibmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiZGF0YWJhc2UiLCJjb3JyRGF0YSIsIjE2MTQ5IiwiMTYxNTAiLCIxNjE1MiIsIjE2MTUzIiwiMTYxNTQiLCIxNjE1NSIsIjE2MTU2IiwiMTYxNTgiLCIxNjE2MSIsIjE2MTYyIiwiMTYxNjQiLCIxNjE2NSIsIjE2MTY2IiwiMTYxNjciLCIxNjE3MCIsIjE2MTczIiwiMTYxNzUiLCIxNjE3NiIsIjE2MTc3IiwiMTYxNzgiLCIxNjE3OSIsIjE2MTgwIiwiMTYxODEiLCIxNjE4MiIsIjE2MTgzIiwiMTYxODUiLCIxNjE4NyIsIjE2MTg4IiwiMTYxODkiLCIxNjE5MCIsIjE2MTkxIiwiMTYxOTIiLCIxNjE5MyIsIjE2MTk1IiwiMTYxOTYiLCIxNjE5NyIsIjE2MTk4IiwiMTYxOTkiLCIxNjIwMCIsIjE2MjAxIiwiMTYyMDIiLCIxNjIwMyIsIjE2MjA0IiwiMTYyMDUiLCIxNjIwNyIsIjE2MjA4IiwiMTYyMDkiLCIxNjIxMSIsIjE2MjEyIiwiMTYyMTMiLCIxNjIxNCIsIjE2MjE1IiwiMTYyMTYiLCIxNjIxOCIsIjE2MjE5IiwiMTYyMjEiLCIxOTQ5MiIsIjIzODAwIiwiMjM4MDEiLCIzMzkyMyIsIjQwNjY0IiwiNDIzNzciLCI1MDI3MyIsIjUwMjc0IiwiNTAyNzUiLCI1MDI3NiIsIjUwMjc3IiwiNTAyNzkiLCI1MDI4MSIsIjUwMjgzIiwiNTAyODQiLCI1MDI4NiIsIjUwMjg5IiwiNTAyOTAiLCI1NzcxMyIsIjU3NzE0IiwiNTgzNjkiLCI1ODM3MSIsIjU4MzcyIiwiNTk2NTUiLCI1OTY1NiIsIjU5NjU3IiwiNTk2NTgiLCI1OTY1OSIsIjYxMDY1IiwiNjEzNzMiLCI2MTM3NCIsIjYxMzc1IiwiNjEzNzYiLCI2MTM3NyIsIjYxMzc4IiwiNjEzODAiLCI2MTM4MSIsIjYxOTA4IiwiNjE5MDkiLCI2MTkxMCIsIjYxOTExIiwiNjE5MjAiLCI2MTkyOCIsIjYxOTI5IiwiNjIyMTYiLCI2MjIxNyIsIjYyMjE4IiwiNjI0NTMiLCI2MjU4NiIsIjYzMTkzIiwiNjMxOTQiLCI2MzE5NSIsIjYzMTk2IiwiNjM0MTkiLCI2MzU4MSIsIjYzOTIxIiwiNjcxMjYiLCI2NzEyNyIsIjY3MTI4IiwiNjcxMjkiLCI2NzEzMCIsIjY3MTMxIiwiNjcxMzIiLCI2NzEzMyIsIjY3MTM0IiwiNjcxMzUiLCI2NzEzNiIsIjY3MTM4IiwiNjcxMzkiLCI2NzE0MCIsIjc0ODM4IiwiODEyMjIiLCI4MTgwNSIsIjk5NDgwIiwiOTk0ODIiLCI5OTQ4MyIsIjk5NDg0IiwiOTk0ODUiLCI5OTQ4NiIsIjk5NDg3IiwiOTk0ODgiLCI5OTQ4OSIsIjk5NTMwIiwiMTAwODA2IiwiMTAwODA3IiwiMTA1NjE1IiwiMTA1NzA2IiwiMTA2Mjc3IiwiMTA2Mjc4IiwiMTA2Mjc5IiwiMTA2MjgwIiwiMTA2MjgxIiwiMTA2MjgyIiwiMTA2MjgzIiwiMTA2Mjg0IiwiMTA2Mjg1IiwiMTA2Mjg2IiwiMTA2Mjg3IiwiMTA2Mjg4IiwiMTA2MjkwIiwiMTA2MjkxIiwiMTA2MjkyIiwiMTA2MjkzIiwiMTA2Mjk0IiwiMTA2Mjk1IiwiMTA2Mjk2IiwiMTA2Mjk3IiwiMTA2Mjk4IiwiMTA2MzAwIiwiMTA2MzAxIiwiMTA2MzAzIiwiMTA2OTg5IiwiMTA4MTMzIiwiMTA4MTM0IiwiMTA4MTM1IiwiMTA4MTM2IiwiMTA4MTM3IiwiMTA4MTM4IiwiMTA4MTM5IiwiMTA4MTQwIiwiMTA4MTQyIiwiMTA4MTQzIiwiMTA4MTQ0IiwiMTA4NTk5IiwiMTA5NjMzIiwiMTA5NjQxIiwidG9nZ2xlU2lnbkluIiwiYXV0aCIsImN1cnJlbnRVc2VyIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNpZ25PdXQiLCJwcm92aWRlciIsIkdvb2dsZUF1dGhQcm92aWRlciIsImFkZFNjb3BlIiwic2lnbkluV2l0aFJlZGlyZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRpc2FibGVkIiwic2V0Um9sZSIsInVpZCIsImZ1bmMiLCJyZWYiLCJvbmNlIiwic25hcCIsImZvckVhY2giLCJjc25hcCIsImtleSIsInZhbCIsInJvbGUiLCJpbml0QXBwIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsInRva2VuIiwiYWNjZXNzVG9rZW4iLCJsb2NhdGlvbiIsInJlbG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJjb2RlIiwibWVzc2FnZSIsImVtYWlsIiwiYWxlcnQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJhdXRoTyIsImRpc3BsYXlOYW1lIiwiZW1haWxWZXJpZmllZCIsInBob3RvVVJMIiwidGV4dENvbnRlbnQiLCJ1cGRhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsIm9ubG9hZCIsInVzZXJTZWxlY3QiLCJpbnB1dCIsIiQiLCJrZXl1cCIsImUiLCJodG1sIiwiaW5wdXRWYWwiLCJ0YXJnZXQiLCJ2YWx1ZSIsInNlbGVjdGVkSW5wdXQiLCJpIiwibG9hZGVkVXNlcnMiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInBhcmEiLCJhdHRyIiwiY2xpY2siLCJpbm5lclRleHQiLCJhcHBlbmQiLCJ1bmNoZWNrb3V0IiwiY2xpY2tlZEVsZW1lbnQiLCJjb3Vyc2VJRCIsImNoZWNrZXIiLCJjc3MiLCJkaXNwbGF5IiwicG9wdWxhdGVDaGVjayIsImNkIiwiY24iLCJ0YXIiLCJwb3B1bGF0ZSIsImNvdXJzZU5hbWUiLCJjdXJzb3IiLCJjaGVja2VkIiwib24iLCJjb3Vyc2VEYXRhIiwibm90aGluZyIsInN0YXR1cyIsImFwcHJvdmVkIiwiaWRtZW50IiwiZ2V0QXR0cmlidXRlIiwic3R5bGUiLCJmaW5pc2hlZCIsInN0YXR1c0Z1bmN0aW9ucyIsImxvYWRVc2VycyIsIm5hbWUiLCJwdXNoIiwiY2xhc3NJRCIsImNsYXNzTmFtZSIsInBhcmVudCIsInVzZXJzTGlzdCIsImlucHV0QXNzaWduIiwiZWFjaCIsInVzZXJOYW1lIiwiaWQiLCJwYXJlbnRFbGVtZW50IiwiU3R1ZGVudCBBcHByb3ZlZCIsImxhYmVsIiwiY2hlY2siLCJQdXNoIiwiY3JlYXRlIiwiYm9keSIsInRpbWVvdXQiLCJEZXNpZ25lciBBcHByb3ZlZCIsInBhdGhuYW1lIiwiYWRtaW5CdXR0b24iLCJhdXRoRGF0YSIsInBhcnNlIiwibmF2IiwiaG9tZUJ1dHRvbiIsInJvb3QiLCJvcmlnaW4iLCJhc3NpZ24iLCJwYWdlIiwidG9Mb3dlckNhc2UiXSwibWFwcGluZ3MiOiJBQUFBLFlBQUEsSUFBSUEsU0FDQUMsT0FBUSwwQ0FDUkMsV0FBWSxzQ0FDWkMsWUFBYSw2Q0FDYkMsY0FBZSxrQ0FFbkJDLFVBQVNDLGNBQWNOLE9BRXZCLElBQUlPLFVBQVdGLFNBQVNFO0FDUnhCLFlBQUEsSUFBSUMsV0FDQUMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxRQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxRQUNQQyxNQUFPLFNBQ1BDLE1BQU8sUUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sV0FDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sUUFDUEMsTUFBTyxhQUNQQyxNQUFPLFlBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sYUFDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sYUFDUEMsTUFBTyxhQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxhQUNQQyxNQUFPLFFBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sT0FDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxTQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sU0FDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sU0FDUEMsTUFBTyxZQUNQQyxNQUFPLFVBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxVQUNQQyxNQUFPLFdBQ1BDLE1BQU8sV0FDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sV0FDUEMsTUFBTyxVQUNQQyxNQUFPLFlBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sVUFDUEMsTUFBTyxVQUNQQyxNQUFPLFVBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxVQUNQQyxNQUFPLFNBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxRQUNQQyxNQUFPLFVBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFVBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sVUFDUEMsTUFBTyxTQUNQQyxNQUFPLFdBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFVBQ1BDLE1B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LEdBQ0d0QyxPQUFPdUMsR0FFWnZELEVBQUUsY0FBY2dCLE9BQU9zQyxJQUUzQk0sb0JBQXFCLFNBQVVwQyxFQUFJQyxHQUMvQnpCLEVBQUUsYUFBYWdCLE9BQWYseUJBQStDUyxFQUEvQyw4QkFBK0VELEVBQUEsS0FBL0UsS0FBOEZ2USxTQUFTd1EsR0FBdkcsaUJBdUtKbEQsVUFBU3NGLFNBQVNsRCxTQUFTLFdBRTNCOEIsSUFHQVgsSUFDQVMsSUFFQXpDO0FDdFhSO0FDQUEsY0FBQyxXQUVHLEdBQ0kvQixHQUdBK0YsRUFKQUMsRUFBV3RFLEtBQUt1RSxNQUFNckgsYUFBQSxrQkFBb0MsR0FFMURzSCxFQUFNakUsRUFBRSxPQUNSa0UsRUFBYWxFLEVBQUUsd0JBR25Ca0UsR0FBV3BELE1BQU0sU0FBVVosR0FDdkIsR0FBSWlFLEdBQU81RixTQUFTNkYsTUFDcEI3RixVQUFTOEYsT0FBVUYsRUFBbkIsaUJBR0pGLEVBQUlqRCxPQUFPa0QsR0FFWGxULFNBQVN3TSxJQUFULFNBQXNCdUcsRUFBU3pHLEtBQU9HLEtBQUssUUFBUyxTQUFVQyxHQUMxREssRUFBT0wsRUFBS0ksTUFBTUMsS0FDbEIrRixFQUFjOUQsRUFBRSwwQkFFWmpDLEdBQVEsSUFDUlUsUUFBUUMsSUFBSSxtQ0FFWm9GLEVBQVloRCxNQUFNLFNBQVVaLEdBQ3hCekIsUUFBUUMsSUFBSSxLQUVaLElBQUk0RixHQUFPcEUsRUFBRUcsT0FBT1UsVUFBVXdELGNBQzFCSixFQUFPNUYsU0FBUzZGLE1BRXBCN0YsVUFBUzhGLE9BQVVGLEVBQW5CLElBQTJCRyxFQUEzQixXQUdKTCxFQUFJakQsT0FBTzhDIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29uZmlnID0ge1xyXG4gICAgYXBpS2V5OiBcIkFJemFTeUNSZlJwMjBrRWtwd08xQnMzMHNEeUJrQzRRZi1yc3VOTVwiLFxyXG4gICAgYXV0aERvbWFpbjogXCJjb3Vyc2UtZmlsZS1hdWRpdG9yLmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9jb3Vyc2UtZmlsZS1hdWRpdG9yLmZpcmViYXNlaW8uY29tXCIsXHJcbiAgICBzdG9yYWdlQnVja2V0OiBcImNvdXJzZS1maWxlLWF1ZGl0b3IuYXBwc3BvdC5jb21cIixcclxufTtcclxuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcpO1xyXG5cclxudmFyIGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKTtcclxuXHJcblxyXG5cclxuLypcclxuQmVsb3cgaXMgYSBzZXQgb2YgcXVlcnkgc2NyaXB0cyB0byBtb2RpZnkgdGhlIGRhdGFiYXNlXHJcbiovXHJcblxyXG4vKlxyXG5kYXRhYmFzZS5yZWYoXCJNYXJrJ3MgVG9vbFwiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24oc25hcCl7XHJcbiAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKXtcclxuICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7Y3NuYXAua2V5fWApLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIENvbXBsZXRlZDogXCJGYWxzZVwiLFxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSlcclxuKi9cclxuXG4iLCJ2YXIgY29yckRhdGEgPSB7XHJcbiAgICAxNjE0OTogJ0hGRUQgMzQwJyxcclxuICAgIDE2MTUwOiAnQiAyNzUnLFxyXG4gICAgMTYxNTI6ICdCIDEwMScsXHJcbiAgICAxNjE1MzogJ0IgNDI0JyxcclxuICAgIDE2MTU0OiAnQiAzODAnLFxyXG4gICAgMTYxNTU6ICdCIDEyOScsXHJcbiAgICAxNjE1NjogJ0IgMTAwJyxcclxuICAgIDE2MTU4OiAnQiA0OTlBJyxcclxuICAgIDE2MTYxOiAnQiA0NDgnLFxyXG4gICAgMTYxNjI6ICdGSEdFTiAyNzAnLFxyXG4gICAgMTYxNjQ6ICdGQU1MIDM2MCcsXHJcbiAgICAxNjE2NTogJ0ZBTUwgNDMwJyxcclxuICAgIDE2MTY2OiAnSEZFRCAxMDEnLFxyXG4gICAgMTYxNjc6ICdNRSAyMDEnLFxyXG4gICAgMTYxNzA6ICdCIDE4MycsXHJcbiAgICAxNjE3MzogJ0ZIR0VOIDI1MUQnLFxyXG4gICAgMTYxNzU6ICdGSEdFTiAxMTInLFxyXG4gICAgMTYxNzY6ICdCIDIxMScsXHJcbiAgICAxNjE3NzogJ0ZBTUwgNDYwJyxcclxuICAgIDE2MTc4OiAnRkhHRU4gMTIwJyxcclxuICAgIDE2MTc5OiAnQiAyNTAnLFxyXG4gICAgMTYxODA6ICdGQU1MIDQwMCcsXHJcbiAgICAxNjE4MTogJ0ZIR0VOIDE2MCcsXHJcbiAgICAxNjE4MjogJ0ZIR0VOIDIxMScsXHJcbiAgICAxNjE4MzogJ0ZBTUwgNDQ1JyxcclxuICAgIDE2MTg1OiAnQiAyODMnLFxyXG4gICAgMTYxODc6ICdGSEdFTiAxMzAnLFxyXG4gICAgMTYxODg6ICdGSEdFTiAzOTknLFxyXG4gICAgMTYxODk6ICdCIDQwMScsXHJcbiAgICAxNjE5MDogJ0ZIR0VOIDI1MUEnLFxyXG4gICAgMTYxOTE6ICdGQU1MIDQ5OFInLFxyXG4gICAgMTYxOTI6ICdCIDM0MScsXHJcbiAgICAxNjE5MzogJ0ZIR0VOIDI1MUInLFxyXG4gICAgMTYxOTU6ICdGSEdFTiAyNTFDJyxcclxuICAgIDE2MTk2OiAnQiAzNzAnLFxyXG4gICAgMTYxOTc6ICdDSElMRCAzMjAnLFxyXG4gICAgMTYxOTg6ICdGSEdFTiAyNTJCJyxcclxuICAgIDE2MTk5OiAnQiAzMDEnLFxyXG4gICAgMTYyMDA6ICdGQU1MIDMwMCcsXHJcbiAgICAxNjIwMTogJ0ZIR0VOIDIxMicsXHJcbiAgICAxNjIwMjogJ0IgMzIxJyxcclxuICAgIDE2MjAzOiAnb29wcycsXHJcbiAgICAxNjIwNDogJ0ZIR0VOIDE0MCcsXHJcbiAgICAxNjIwNTogJ0IgMzYxJyxcclxuICAgIDE2MjA3OiAnRkRNQVQgMTEyJyxcclxuICAgIDE2MjA4OiAnQ0hJTEQgMzAwJyxcclxuICAgIDE2MjA5OiAnRkFNTCAxMDAnLFxyXG4gICAgMTYyMTE6ICdDSElMRCAyMTAnLFxyXG4gICAgMTYyMTI6ICdCIDQyNEQnLFxyXG4gICAgMTYyMTM6ICdFQ09OIDE1MCcsXHJcbiAgICAxNjIxNDogJ0FHQlVTIDEwNScsXHJcbiAgICAxNjIxNTogJ0ZIR0VOIDExMScsXHJcbiAgICAxNjIxNjogJ0ZBTUwgMTYwJyxcclxuICAgIDE2MjE4OiAnQiAxMDAnLFxyXG4gICAgMTYyMTk6ICdFQ09OIDE1MScsXHJcbiAgICAxNjIyMTogJ0IgNDEwJyxcclxuICAgIDE5NDkyOiAnQiA0MjgnLFxyXG4gICAgMjM4MDA6ICdDUyAzMTMnLFxyXG4gICAgMjM4MDE6ICdGREhVTSAxMTAnLFxyXG4gICAgMzM5MjM6ICdCIDQ5OUInLFxyXG4gICAgNDA2NjQ6ICdGQU1MIDIwMCcsXHJcbiAgICA0MjM3NzogJ0ZETUFUIDEwOCcsXHJcbiAgICA1MDI3MzogJ0hTIDM5MCcsXHJcbiAgICA1MDI3NDogJ0ZEV0xEIDIwMScsXHJcbiAgICA1MDI3NTogJ0VORyAyNTInLFxyXG4gICAgNTAyNzY6ICdGRElOVCAyMTEnLFxyXG4gICAgNTAyNzc6ICdGRFdMRCAxMDEnLFxyXG4gICAgNTAyNzk6ICdBTlRIIDEwMScsXHJcbiAgICA1MDI4MTogJ0NJVCAzNzAnLFxyXG4gICAgNTAyODM6ICdGRFNDSSAxMDEnLFxyXG4gICAgNTAyODQ6ICdFRCAyMDAnLFxyXG4gICAgNTAyODY6ICdGRFNDSSAyMDEnLFxyXG4gICAgNTAyODk6ICdBVVRPIDEyNScsXHJcbiAgICA1MDI5MDogJ0hTIDMxMCcsXHJcbiAgICA1NzcxMzogJ1BPTFNDIDExMCcsXHJcbiAgICA1NzcxNDogJ0NJVCAyMzAnLFxyXG4gICAgNTgzNjk6ICdCSU8gMjY1TCcsXHJcbiAgICA1ODM3MTogJ0NPTU0gMjczJyxcclxuICAgIDU4MzcyOiAnQklPIDI2NEwnLFxyXG4gICAgNTk2NTU6ICdIUyAyODAnLFxyXG4gICAgNTk2NTY6ICdDT01NIDE3NScsXHJcbiAgICA1OTY1NzogJ0NJVCAxNjAnLFxyXG4gICAgNTk2NTg6ICdGREVORyAzMDEnLFxyXG4gICAgNTk2NTk6ICdDT01NIDEyNScsXHJcbiAgICA2MTA2NTogJ0ZEU0NJIDIwMycsXHJcbiAgICA2MTM3MzogJ05VVFIgMTUwJyxcclxuICAgIDYxMzc0OiAnTUEgMTA2JyxcclxuICAgIDYxMzc1OiAnSFMgMjg1JyxcclxuICAgIDYxMzc2OiAnUFNZQ0ggMTEyJyxcclxuICAgIDYxMzc3OiAnQ0lUIDExMCcsXHJcbiAgICA2MTM3ODogJ1dERCAxMDAnLFxyXG4gICAgNjEzODA6ICdDSVQgMTExJyxcclxuICAgIDYxMzgxOiAnQ0lUIDMzNicsXHJcbiAgICA2MTkwODogJ1BTWUNIIDExMScsXHJcbiAgICA2MTkwOTogJ0VEIDMxMicsXHJcbiAgICA2MTkxMDogJ0ZEU0NJIDIwNScsXHJcbiAgICA2MTkxMTogJ0NJVCAyNDAnLFxyXG4gICAgNjE5MjA6ICdIUyAzOTEnLFxyXG4gICAgNjE5Mjg6ICdTT0MgMTExJyxcclxuICAgIDYxOTI5OiAnTUFUSCAyMjFBJyxcclxuICAgIDYyMjE2OiAnSFJIUCAxMzEnLFxyXG4gICAgNjIyMTc6ICdNQVRIIDIyMUMnLFxyXG4gICAgNjIyMTg6ICdDT01NIDEzMCcsXHJcbiAgICA2MjQ1MzogJ0NPTU0gMTAyJyxcclxuICAgIDYyNTg2OiAnTUFUSCAyMjFCJyxcclxuICAgIDYzMTkzOiAnQiAyMjAnLFxyXG4gICAgNjMxOTQ6ICdDSVQgMjYwJyxcclxuICAgIDYzMTk1OiAnSFMgMzIwJyxcclxuICAgIDYzMTk2OiAnSFMgMzcwJyxcclxuICAgIDYzNDE5OiAnQ0lUIDIyNScsXHJcbiAgICA2MzU4MTogJ0ZBTUwgMjIwJyxcclxuICAgIDYzOTIxOiAnUFNZQ0ggMjAxJyxcclxuICAgIDY3MTI2OiAnSFMgNDYwJyxcclxuICAgIDY3MTI3OiAnQklPIDIyMScsXHJcbiAgICA2NzEyODogJ0hTIDQ2NScsXHJcbiAgICA2NzEyOTogJ0NPTU0gMzEwJyxcclxuICAgIDY3MTMwOiAnSFMgNDAxJyxcclxuICAgIDY3MTMxOiAnSFMgNDI1JyxcclxuICAgIDY3MTMyOiAnQ0lUIDI0MScsXHJcbiAgICA2NzEzMzogJ1BTWUNIIDMwMicsXHJcbiAgICA2NzEzNDogJ0NPTU0gMTExJyxcclxuICAgIDY3MTM1OiAnUFNZQ0ggMzExJyxcclxuICAgIDY3MTM2OiAnUE9MU0MgMTUwJyxcclxuICAgIDY3MTM4OiAnSFMgMzQ1JyxcclxuICAgIDY3MTM5OiAnRUQgMjAyJyxcclxuICAgIDY3MTQwOiAnUk0gMzA0JyxcclxuICAgIDc0ODM4OiAnQ09NTSAzMDcnLFxyXG4gICAgODEyMjI6ICdDSElMRCAzMTAnLFxyXG4gICAgODE4MDU6ICdDSVQgMjYxJyxcclxuICAgIDk5NDgwOiAnSFMgMjQwJyxcclxuICAgIDk5NDgyOiAnQUdCVVMgMTM4JyxcclxuICAgIDk5NDgzOiAnQklPIDM3NScsXHJcbiAgICA5OTQ4NDogJ0ZEUkVMIDEwMCcsXHJcbiAgICA5OTQ4NTogJ1BPTFNDIDE3MCcsXHJcbiAgICA5OTQ4NjogJ1JNIDMwNycsXHJcbiAgICA5OTQ4NzogJ0VORyAzMjUnLFxyXG4gICAgOTk0ODg6ICdDT01NIDM1MicsXHJcbiAgICA5OTQ4OTogJ1JNIDQ3MScsXHJcbiAgICA5OTUzMDogJ0JJTyAyNjUnLFxyXG4gICAgMTAwODA2OiAnTUEgMTA3JyxcclxuICAgIDEwMDgwNzogJ0JJTyAyNjQnLFxyXG4gICAgMTA1NjE1OiAnVEEgNDAyJyxcclxuICAgIDEwNTcwNjogJ0NJVCAyNjInLFxyXG4gICAgMTA2Mjc3OiAnQ0lUIDM4MScsXHJcbiAgICAxMDYyNzg6ICdNQSAxMDUnLFxyXG4gICAgMTA2Mjc5OiAnQ09NTSAxNTAnLFxyXG4gICAgMTA2MjgwOiAnQ0lUIDMyNScsXHJcbiAgICAxMDYyODE6ICdDSVQgMzUyJyxcclxuICAgIDEwNjI4MjogJ0NPTU0gMjUwJyxcclxuICAgIDEwNjI4MzogJ1JNIDM3MScsXHJcbiAgICAxMDYyODQ6ICdDT01NIDI4OScsXHJcbiAgICAxMDYyODU6ICdDT01NIDQ1MCcsXHJcbiAgICAxMDYyODY6ICdSTSAzNzAnLFxyXG4gICAgMTA2Mjg3OiAnU09DIDExMicsXHJcbiAgICAxMDYyODg6ICdBR0JVUyAxODBBJyxcclxuICAgIDEwNjI5MDogJ0JJTyA0NzUnLFxyXG4gICAgMTA2MjkxOiAnQklPIDM4MScsXHJcbiAgICAxMDYyOTI6ICdIUyAzNzUnLFxyXG4gICAgMTA2MjkzOiAnUk0gMzczUicsXHJcbiAgICAxMDYyOTQ6ICdSTSA0NzInLFxyXG4gICAgMTA2Mjk1OiAnTUEgMjA1JyxcclxuICAgIDEwNjI5NjogJ0hTIDQyMCcsXHJcbiAgICAxMDYyOTc6ICdIUyAzNzgnLFxyXG4gICAgMTA2Mjk4OiAnRU5HIDM1NScsXHJcbiAgICAxMDYzMDA6ICdNQSAxMTEnLFxyXG4gICAgMTA2MzAxOiAnRU5HIDMzNScsXHJcbiAgICAxMDYzMDM6ICdvb3BzJyxcclxuICAgIDEwNjk4OTogJ0VORyAyNTEnLFxyXG4gICAgMTA4MTMzOiAnQiAxMDEnLFxyXG4gICAgMTA4MTM0OiAnRkFNTCAxMDAnLFxyXG4gICAgMTA4MTM1OiAnRkFNTCAyMjAnLFxyXG4gICAgMTA4MTM2OiAnRkRFTkcgMzAxJyxcclxuICAgIDEwODEzNzogJ0ZEUkVMIDEyMScsXHJcbiAgICAxMDgxMzg6ICdGRFJFTCAxMjInLFxyXG4gICAgMTA4MTM5OiAnRkRTQ0kgMjAzJyxcclxuICAgIDEwODE0MDogJ0VORyAzMzInLFxyXG4gICAgMTA4MTQyOiAnQ0lUIDExMCcsXHJcbiAgICAxMDgxNDM6ICdGREhVTSAxMTAnLFxyXG4gICAgMTA4MTQ0OiAnRkRTQ0kgMjAxJyxcclxuICAgIDEwODU5OTogJ1RBIDExNicsXHJcbiAgICAxMDk2MzM6ICdGRFNDSSAxMDEnLFxyXG4gICAgMTA5NjQxOiAnRU5HIDMxNCdcclxufTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBmdW5jdGlvbiB0b2dnbGVTaWduSW4oKSB7XHJcbiAgICAgICAgaWYgKCFmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7XHJcblxyXG4gICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9wbHVzLmxvZ2luJyk7XHJcbiAgICAgICAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdwcm9maWxlJyk7XHJcbiAgICAgICAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdlbWFpbCcpO1xyXG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFJlZGlyZWN0KHByb3ZpZGVyKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ01hbmFnZW1lbnRBdXRoTycpO1xyXG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFJvbGUodWlkLCBmdW5jKSB7XHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwidXNlcnNcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaChmdW5jdGlvbiAoY3NuYXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjc25hcC5rZXkgPT09IHVpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3NuYXAudmFsKCkucm9sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdEFwcCgpIHtcclxuICAgICAgICBmaXJlYmFzZS5hdXRoKCkuZ2V0UmVkaXJlY3RSZXN1bHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5jcmVkZW50aWFsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGdpdmVzIHlvdSBhIEdvb2dsZSBBY2Nlc3MgVG9rZW4uIFlvdSBjYW4gdXNlIGl0IHRvIGFjY2VzcyB0aGUgR29vZ2xlIEFQSS5cclxuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdC5jcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiBudWxsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHVzZXIgPSByZXN1bHQudXNlcjtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGUsXHJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgZW1haWwgPSBlcnJvci5lbWFpbCxcclxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwgPSBlcnJvci5jcmVkZW50aWFsO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gJ2F1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCcpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdZb3UgaGF2ZSBhbHJlYWR5IHNpZ25lZCB1cCB3aXRoIGEgZGlmZmVyZW50IGF1dGggcHJvdmlkZXIgZm9yIHRoYXQgZW1haWwuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXV0aE8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogdXNlci5lbWFpbFZlcmlmaWVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiB1c2VyLnBob3RvVVJMLFxyXG4gICAgICAgICAgICAgICAgICAgIHVpZDogdXNlci51aWRcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykudGV4dENvbnRlbnQgPSAnU2lnbiBvdXQnO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHthdXRoTy51aWR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogYXV0aE8uZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhPLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IGF1dGhPLmVtYWlsVmVyaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGF1dGhPLnBob3RvVVJMLFxyXG4gICAgICAgICAgICAgICAgICAgIHVpZDogYXV0aE8udWlkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0Um9sZShhdXRoTy51aWQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHthdXRoTy51aWR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogMCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVtcIk1hbmFnZW1lbnRBdXRoT1wiXSA9IEpTT04uc3RyaW5naWZ5KGF1dGhPKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykudGV4dENvbnRlbnQgPSAnU2lnbiBpbiB3aXRoIEdvb2dsZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2lnbkluLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbml0QXBwKCk7XHJcbiAgICB9XHJcblxyXG59KCkpXHJcbiIsIi8qXHJcbmRhdGFiYXNlIGlzIGEgZ2xvYmFsIHZhcmlhYmxlXHJcbiovXHJcbihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIGxvYWRlZFVzZXJzID0gW10sXHJcbiAgICAgICAgdGltZVNwZW50ID0gW10sXHJcbiAgICAgICAgZGF0YVNhdmVkO1xyXG5cclxuICAgIC8qXHJcbiAgICBFdmVudHMgdG8gaGFuZGxlIG1vZGFsc1xyXG4gICAgKi9cclxuICAgICQoXCJhXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIGNsYXNzSUQgPSBlLnRhcmdldC5jbGFzc05hbWU7XHJcbiAgICAgICAgJChgIyR7Y2xhc3NJRH1gKS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJibG9ja1wiXHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKGAjc2hhZGVgKS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJibG9ja1wiXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuY2hlY2tlZFwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQoYCNuYW1lUG9wdXBgKS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJibG9ja1wiXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgJChcIi5jYW5jZWxcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgcGFyZW50ID0gZS50YXJnZXQuaWRtZW50O1xyXG4gICAgICAgICQocGFyZW50KS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKCcjc2hhZGUnKS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKGAjbmFtZVBvcHVwYCkuY3NzKHtcclxuICAgICAgICAgICAgXCJkaXNwbGF5XCI6IFwibm9uZVwiXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjYXNzaWduXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgICAgIHZhciBpbnB1dEFzc2lnbiA9ICQoXCJbZGF0YS1jb3Vyc2VpZF0gPiBpbnB1dFwiKSxcclxuICAgICAgICAgICAgdXNlcnNMaXN0O1xyXG4gICAgICAgIFxyXG4gICAgICAgICQuZWFjaChpbnB1dEFzc2lnbiwgZnVuY3Rpb24oaSwgdmFsKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciB1c2VyTmFtZSA9IHZhbC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGlkID0gdmFsLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb3Vyc2VpZFwiKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGRhdGFiYXNlLnJlZihcInVzZXJzXCIpLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbihzbmFwKXtcclxuICAgICAgICAgICAgICAgIHVzZXJzTGlzdCA9IHNuYXAudmFsKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB1c2Vyc0xpc3Qpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2Vyc0xpc3RbaV0uZGlzcGxheU5hbWUgPT09IHVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgTWFyaydzIFRvb2wvJHtpZH1gKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2VyXCI6IHVzZXJzTGlzdFtpXS51aWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgfSk7XHJcblxyXG4gICAgLypcclxuICAgIFRoZSB1c2VyU2VsZWN0LCB1bmNoZWNrb3V0LCBwb3B1bGF0ZUNoZWNrLCBhbmQgY2hlY2tlZFxyXG4gICAgYXJlIGFsbCB1c2VkIGZvciB0aGUgY2hlY2tvdXQgZmVhdHVyZS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiB1c2VyU2VsZWN0KCkge1xyXG4gICAgICAgIHZhciBpbnB1dCA9ICQoXCI8aW5wdXQ+PC9pbnB1dD5cIik7XHJcblxyXG4gICAgICAgIGlucHV0LmtleXVwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICQoXCIjdXNlck5hbWVzXCIpLmh0bWwoXCJcIik7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5wdXRWYWwgPSBlLnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5wdXQgPSBlLnRhcmdldFxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkZWRVc2Vycy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChsb2FkZWRVc2Vyc1tpXS5pbmNsdWRlcyhpbnB1dFZhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYSA9ICQoYDxwPiR7bG9hZGVkVXNlcnNbaV19PC9wPmApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwYXJhLmF0dHIoXCJpZFwiLCBcImVtcE5hbWVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHNlbGVjdGVkSW5wdXQpLnZhbChlLnRhcmdldC5pbm5lclRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3VzZXJOYW1lc1wiKS5hcHBlbmQocGFyYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmNoZWNrb3V0KGUpIHtcclxuICAgICAgICB2YXIgY2xpY2tlZEVsZW1lbnQgPSBlLnRhcmdldCxcclxuICAgICAgICAgICAgY291cnNlSUQgPSAkKGNsaWNrZWRFbGVtZW50KS5hdHRyKFwiZGF0YS1jb3Vyc2VpZFwiKTtcclxuXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NvdXJzZUlEfWApLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIGNoZWNrZXI6IFwiXCJcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAkKGUudGFyZ2V0KS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgUnVucyB0aGUgZGF0YSBmb3IgdGhlIGNoZWNrZWQgTW9kYWxcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBwb3B1bGF0ZUNoZWNrKGNkLCBjbiwgdGFyKSB7XHJcbiAgICAgICAgdmFyIHBvcHVsYXRlID0gJChgIyR7dGFyfWApLFxyXG4gICAgICAgICAgICBjb3Vyc2VOYW1lID0gJChgPGxhYmVsIGRhdGEtY291cnNlSUQ9XCIke2NufVwiPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke2NkWydMaW5rJ119XCI+JHtjb3JyRGF0YVtjbl19PC9hPjwvbGFiZWw+YCksXHJcbiAgICAgICAgICAgIGlucHV0O1xyXG5cclxuICAgICAgICBpZiAoY2QuY2hlY2tlciAhPT0gXCJcIiAmJiB0YXIgPT09IFwiY2hlY2tlZE91dFwiKSB7XHJcbiAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHtjZC5jaGVja2VyfWApLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gc25hcC52YWwoKS5kaXNwbGF5TmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb3Vyc2VOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChgPHA+JHtkaXNwbGF5TmFtZX08L3A+YClcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiICZ0aW1lcztcIilcclxuICAgICAgICAgICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjdXJzb3JcIjogXCJwb2ludGVyXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jbGljayh1bmNoZWNrb3V0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YXIgPT09IFwidW5hc3NpZ25lZFwiKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gdXNlclNlbGVjdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY291cnNlTmFtZS5hcHBlbmQoaW5wdXQpO1xyXG5cclxuICAgICAgICBwb3B1bGF0ZS5hcHBlbmQoY291cnNlTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2tlZCgpIHtcclxuXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub24oXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xyXG4gICAgICAgICAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291cnNlRGF0YSA9IGNzbmFwLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdXJzZU5hbWUgPSBjc25hcC5rZXksXHJcbiAgICAgICAgICAgICAgICAgICAgbm90aGluZyA9IFwiVGhlcmUgaXMgbm90aGluZyBoZXJlIVwiO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb3Vyc2VEYXRhW1wiQ29udGVudCBQYWdlc1wiXSAhPT0gbm90aGluZyB8fCBjb3Vyc2VEYXRhW1wiUXVpenplc1wiXSAhPT0gbm90aGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3Vyc2VEYXRhLnN0YXR1cyA9PT0gXCJQZW5kaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWNvdXJzZURhdGEuY2hlY2tlciA/IHBvcHVsYXRlQ2hlY2soY291cnNlRGF0YSwgY291cnNlTmFtZSwgXCJ1bmFzc2lnbmVkXCIpIDogcG9wdWxhdGVDaGVjayhjb3Vyc2VEYXRhLCBjb3Vyc2VOYW1lLCBcImNoZWNrZWRPdXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBSdW5zIHRoZSBkYXRhIGZvciB0aGUgZmluaXNoZWQgbW9kYWwuICBTZWUgd2hpY2ggY291cnNlc1xyXG4gICAgaGF2ZSBhIFwiU3R1ZGVudCBBcHByb3ZlZFwiIGFuZCBhIFwiRGVzaWduZXIgQXBwcm92YWxcIlxyXG4gICAgb24gdGhlaXIgc3RhdHVzIG5vZGUgaW4gdGhlIGRhdGFiYXNlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcHJvdmVkKGUpIHtcclxuICAgICAgICB2YXIgaWRtZW50ID0gZS50YXJnZXQuaWRtZW50LFxyXG4gICAgICAgICAgICBjb3Vyc2VJRCA9IGlkbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvdXJzZWlkXCIpO1xyXG5cclxuICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7Y291cnNlSUR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgc3RhdHVzOiBcIkRlc2lnbmVyIEFwcHJvdmVkXCJcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBlLnRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHN0YXR1c0Z1bmN0aW9ucyA9IHtcclxuICAgICAgICBcIlN0dWRlbnQgQXBwcm92ZWRcIjogZnVuY3Rpb24gKGNkLCBjbikge1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSAkKGA8bGFiZWwgZGF0YS1jb3Vyc2VJRD1cIiR7Y259XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7Y2RbJ0xpbmsnXX1cIj4ke2NvcnJEYXRhW2NuXX08L2E+PC9sYWJlbD5gKSxcclxuICAgICAgICAgICAgICAgIGNoZWNrID0gJChgPHNwYW4+JiN4MjcxMzs8L3NwYW4+YCk7XHJcblxyXG4gICAgICAgICAgICBQdXNoLmNyZWF0ZSgnTmV3IFN0dWRlbnQgQXBwcm92YWwhJywge1xyXG4gICAgICAgICAgICAgICAgXCJib2R5XCI6IGAke2NvcnJEYXRhW2NuXX0gaXMgcmVhZHkuYCxcclxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDcwMDBcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICQoY2hlY2spXHJcbiAgICAgICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBcImN1cnNvclwiOiBcInBvaW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jbGljayhhcHByb3ZlZCk7XHJcblxyXG4gICAgICAgICAgICAkKGxhYmVsKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChjaGVjayk7XHJcblxyXG4gICAgICAgICAgICAkKFwiI2NvbXBsZXRlZFwiKS5hcHBlbmQobGFiZWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJEZXNpZ25lciBBcHByb3ZlZFwiOiBmdW5jdGlvbiAoY2QsIGNuKSB7XHJcbiAgICAgICAgICAgICQoXCIjYXBwcm92ZWRcIikuYXBwZW5kKGA8bGFiZWwgZGF0YS1jb3Vyc2VJRD1cIiR7Y259XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7Y2RbJ0xpbmsnXX1cIj4ke2NvcnJEYXRhW2NuXX08L2E+PC9sYWJlbD5gKTtcclxuICAgICAgICB9LFxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmlzaGVkKCkge1xyXG4gICAgICAgIGRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xyXG4gICAgICAgICAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291cnNlRGF0YSA9IGNzbmFwLnZhbCgpXHJcbiAgICAgICAgICAgICAgICBzdGF0dXNGdW5jdGlvbnNbY291cnNlRGF0YS5zdGF0dXNdKGNvdXJzZURhdGEsIGNzbmFwLmtleSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgU2NyaXB0IGZvciBjb2RpbmcgdGhlIHJlcG9ydCBncmFwaHMuXHJcbiAgICAqL1xyXG5cclxuICAgIC8vICAgIGZvciBkZXZlbG9wbWVudCBvZiBjaGFydCBncmFwaHNcclxuICAgIC8vICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhdHNcIikuY2xpY2soKTtcclxuXHJcbiAgICAvKkRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoZSB0d28gZ3JhcGhzKi9cclxuICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICBkYXRhc2V0czogW3tcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0RhdGEgU2F2ZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDc1LDE5MiwxOTIsMC40KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBcInJnYmEoMzMsIDk4LCA5OCwgMC40KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFTYXZlZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVGltZSBTcGVudFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDIzLCA1NiwgMjM0LCAwLjQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwicmdiYSgwLCAxMSwgNzIsIDAuNClcIixcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aW1lU3BlbnRcclxuICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgc2NhbGVzOiB7XHJcbiAgICAgICAgICAgICAgICB4QXhlczogW3tcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogJ01vbnRocydcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICB5QXhlczogW3tcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlTGFiZWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxTdHJpbmc6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgLypSZXRyaWV2ZSB0aGUgZGF0YSBmb3IgYW1vdW50IG9mIGRhdGEgc2F2ZWQqL1xyXG4gICAgZnVuY3Rpb24gY2hhcnRzKCkge1xyXG4gICAgICAgIHZhciBjdHggPSAkKFwiLmNoYXJ0XCIpLFxyXG4gICAgICAgICAgICBteUxpbmVDaGFydCA9IG5ldyBDaGFydChjdHgsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRVc2VycygpIHtcclxuICAgICAgICAvKkxvYWQgYWxsIHRoZSB1c2VycyBmcm9tIHRoZSBkYXRhYmFzZSovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwidXNlcnNcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaChmdW5jdGlvbiAoY3NuYXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gY3NuYXAudmFsKCkuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICBsb2FkZWRVc2Vycy5wdXNoKG5hbWUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRDaGFydERhdGEoKSB7XHJcblxyXG4gICAgICAgIHZhciBtb250aHMgPSBbXHJcbiAgICAgICAgICAgICAgICBcIkphblwiLFxyXG4gICAgICAgICAgICAgICAgXCJGZWJcIixcclxuICAgICAgICAgICAgICAgIFwiTWFyXCIsXHJcbiAgICAgICAgICAgICAgICBcIkFwclwiLFxyXG4gICAgICAgICAgICAgICAgXCJNYXlcIixcclxuICAgICAgICAgICAgICAgIFwiSnVuXCIsXHJcbiAgICAgICAgICAgICAgICBcIkp1bFwiLFxyXG4gICAgICAgICAgICAgICAgXCJBdWdcIixcclxuICAgICAgICAgICAgICAgIFwiU2VwdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJPY3RcIixcclxuICAgICAgICAgICAgICAgIFwiTm92XCIsXHJcbiAgICAgICAgICAgICAgICBcIkRlY1wiXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBudW1EYXkgPSBkYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgICAgbW9udGhEaWcgPSBkYXRlLmdldE1vbnRoKCksXHJcbiAgICAgICAgICAgIG1vbnRoID0gbW9udGhzW21vbnRoRGlnXTtcclxuXHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgVElNRSBHQVRIRVJFUiBEQVRBXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIjZcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJsYWJlbFwiOiBcIkp1bFwiXHJcbiAgICAgICAgICAgICAgICBcInRvdGFsXCI6IDQ1NixcclxuICAgICAgICAgICAgICAgIFwiZW50cmllc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJQVVNIX0lEXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aW1lXCI6IDI0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdHRlclwiOiBcIkFuZHJld1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBEQVRBIFNBVkVEXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcImRhdGFfc2F2ZWRcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJtb250aFwiOiBcIjZcIixcclxuICAgICAgICAgICAgICAgIFwiYW1vdW50XCI6IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG5cclxuICAgICAgICAvKkRBVEEgU0FWRUQqL1xyXG4gICAgICAgIGRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xyXG4gICAgICAgICAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291cnNlRGF0YSA9IGNzbmFwLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFTYXZlZCA9IGNvdXJzZURhdGFbXCJkYXRhX3NhdmVkXCJdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZGF0YVNhdmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gK2RhdGFTYXZlZFtpXS5tb250aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50ID0gK2RhdGFTYXZlZFtpXS5hbW91bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInhcIjogbW9udGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInlcIjogYW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFTYXZlZC5wdXNoKGNvb3IpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIC8qVElNRSBHQVRIRVJFUiovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaChmdW5jdGlvbiAoY3NuYXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb3Vyc2VEYXRhID0gY3NuYXAudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZURhdGEgPSBjb3Vyc2VEYXRhW1widGltZV9zcGVudFwiXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHRpbWVEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVEYXRhID0gK3RpbWVEYXRhW2ldLnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1Nb250aCA9ICtpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ4XCI6IG51bU1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ5XCI6IHRpbWVEYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVTcGVudC5wdXNoKGNvb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIERldGVybWluZSB0aGF0IHRoZSBsb2NhdGlvbiBpcyB0aGUgYWRtaW4gcGFnZSBhbmQgbG9hZFxyXG4gICAgYWxsIG9mIHRoZSBkYXRhIHdpdGggdGhlIGFkbWluaXN0cmF0b3Igcm9sZS5cclxuICAgICovXHJcbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoXCJhZG1pblwiKSkge1xyXG5cclxuICAgICAgICBsb2FkVXNlcnMoKTtcclxuICAgICAgICAvLyAgICAgICAgbG9hZENoYXJ0RGF0YSgpO1xyXG5cclxuICAgICAgICBjaGVja2VkKCk7XHJcbiAgICAgICAgZmluaXNoZWQoKTtcclxuICAgICAgICAvLyAgICAgICAgY2hhcnRzKCk7XHJcbiAgICAgICAgdXNlclNlbGVjdCgpO1xyXG4gICAgfVxyXG5cclxufSgpKTsiLCJcInVzZSBzdHJpY3RcIjsiLCIoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBhdXRoRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWydNYW5hZ2VtZW50QXV0aE8nXSkgfHwgXCJcIixcclxuICAgICAgICByb2xlLFxyXG4gICAgICAgIG5hdiA9ICQoXCJuYXZcIiksXHJcbiAgICAgICAgaG9tZUJ1dHRvbiA9ICQoXCI8YnV0dG9uPkhvbWU8L2J1dHRvbj5cIiksXHJcbiAgICAgICAgYWRtaW5CdXR0b247XHJcblxyXG4gICAgaG9tZUJ1dHRvbi5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciByb290ID0gbG9jYXRpb24ub3JpZ2luO1xyXG4gICAgICAgIGxvY2F0aW9uLmFzc2lnbihgJHtyb290fS9pbmRleC5odG1sYCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBuYXYuYXBwZW5kKGhvbWVCdXR0b24pO1xyXG5cclxuICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHthdXRoRGF0YS51aWR9YCkub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgcm9sZSA9IHNuYXAudmFsKCkucm9sZSxcclxuICAgICAgICBhZG1pbkJ1dHRvbiA9ICQoXCI8YnV0dG9uPkFkbWluPC9idXR0b24+XCIpO1xyXG5cclxuICAgICAgICBpZiAocm9sZSA+PSA4KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBsb2dnZWQgaW4gaXMgQWRtaW5pc3RyYXRvclwiKTtcclxuXHJcbiAgICAgICAgICAgIGFkbWluQnV0dG9uLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxpXCIpXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBlLnRhcmdldC5pbm5lclRleHQudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgICAgICAgICByb290ID0gbG9jYXRpb24ub3JpZ2luO1xyXG5cclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbihgJHtyb290fS8ke3BhZ2V9Lmh0bWxgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBuYXYuYXBwZW5kKGFkbWluQnV0dG9uKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSgpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
