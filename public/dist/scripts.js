"use strict";var config={apiKey:"AIzaSyCRfRp20kEkpwO1Bs30sDyBkC4Qf-rsuNM",authDomain:"course-file-auditor.firebaseapp.com",databaseURL:"https://course-file-auditor.firebaseio.com",storageBucket:"course-file-auditor.appspot.com"};firebase.initializeApp(config);var database=firebase.database(),provider=new firebase.auth.GoogleAuthProvider;
"use strict";function toggleSignIn(){if(firebase.auth().currentUser)firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/plus.login"),e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)}document.getElementById("quickstart-sign-in").disabled=!0}function initApp(){firebase.auth().getRedirectResult().then(function(e){if(e.credential){var i=e.credential.accessToken;console.log(i)}else console.log("token null");e.user})["catch"](function(e){var i=e.code;e.message,e.email,e.credential;"auth/account-exists-with-different-credential"===i?alert("You have already signed up with a different auth provider for that email."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){e?(displayName=e.displayName,email=e.email,emailVerified=e.emailVerified,photoURL=e.photoURL,isAnonymous=e.isAnonymous,uid=e.uid,refreshToken=e.refreshToken,providerData=e.providerData,document.getElementById("quickstart-sign-in").textContent="Sign out",database.ref("users/"+uid).update({displayName:displayName,email:email,emailVerified:emailVerified,photoURL:photoURL,isAnonymous:isAnonymous,uid:uid,refreshToken:refreshToken,providerData:providerData})):document.getElementById("quickstart-sign-in").textContent="Sign in with Google",document.getElementById("quickstart-sign-in").disabled=!1}),document.getElementById("quickstart-sign-in").addEventListener("click",toggleSignIn,!1)}var displayName,email,emailVerified,photoURL,isAnonymous,uid,refreshToken,providerData;
"use strict";function generateCoursePreview(e,r){var o=$("<section></section"),a=$("<h2>Project Number "+e+"</h2>").addClass("courseTitle");$(o).append(a),$("main article").append(o)}function startCourseLoad(){database.ref("Mark's Tool").once("value",function(e){e.forEach(function(e){course_details=e.val(),course_id=e.key,generateCoursePreview(course_id,course_details)})})}var course_id,course_details;$(document).ready(function(){startCourseLoad(),initApp()});
"use strict";
"use strict";$(document).ready(function(){var t={home:"Home",profile:"My Profile",stats:"Stats"};$.each(t,function(t,o){$("nav").append("<button>"+o+"</button>"),console.log(t,o)})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyIsImxvZ2luLmpzIiwibWFpbi5qcyIsImNsaWNraGFuZGxlci5qcyIsIm5hdi5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiZGF0YWJhc2UiLCJwcm92aWRlciIsImF1dGgiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJ0b2dnbGVTaWduSW4iLCJjdXJyZW50VXNlciIsInNpZ25PdXQiLCJhZGRTY29wZSIsInNpZ25JbldpdGhSZWRpcmVjdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJkaXNhYmxlZCIsImluaXRBcHAiLCJnZXRSZWRpcmVjdFJlc3VsdCIsInRoZW4iLCJyZXN1bHQiLCJjcmVkZW50aWFsIiwidG9rZW4iLCJhY2Nlc3NUb2tlbiIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJjb2RlIiwibWVzc2FnZSIsImVtYWlsIiwiYWxlcnQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJkaXNwbGF5TmFtZSIsImVtYWlsVmVyaWZpZWQiLCJwaG90b1VSTCIsImlzQW5vbnltb3VzIiwidWlkIiwicmVmcmVzaFRva2VuIiwicHJvdmlkZXJEYXRhIiwidGV4dENvbnRlbnQiLCJyZWYiLCJ1cGRhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2VuZXJhdGVDb3Vyc2VQcmV2aWV3IiwiaWQiLCJkZXRhaWxzIiwic2VjdGlvbiIsIiQiLCJoZWFkZXIiLCJhZGRDbGFzcyIsImFwcGVuZCIsInN0YXJ0Q291cnNlTG9hZCIsIm9uY2UiLCJzbmFwIiwiZm9yRWFjaCIsImNzbmFwIiwiY291cnNlX2RldGFpbHMiLCJ2YWwiLCJjb3Vyc2VfaWQiLCJrZXkiLCJyZWFkeSIsIm5hdmlnIiwiaG9tZSIsInByb2ZpbGUiLCJzdGF0cyIsImVhY2giLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBQSxJQUFJQSxTQUNBQyxPQUFRLDBDQUNSQyxXQUFZLHNDQUNaQyxZQUFhLDZDQUNiQyxjQUFlLGtDQUVuQkMsVUFBU0MsY0FBY04sT0FFdkIsSUFBSU8sVUFBV0YsU0FBU0UsV0FDcEJDLFNBQVcsR0FBSUgsVUFBU0ksS0FBS0M7QUNUakMsWUFBSSxTQUFTQyxnQkFDTCxHQUFLTixTQUFTSSxPQUFPRyxZQVNqQlAsU0FBU0ksT0FBT0ksY0FUYyxDQUM5QixHQUFJTCxHQUFXLEdBQUlILFVBQVNJLEtBQUtDLGtCQUVqQ0YsR0FBU00sU0FBUyw4Q0FDbEJOLEVBQVNNLFNBQVMsV0FDbEJOLEVBQVNNLFNBQVMsU0FDbEJULFNBQVNJLE9BQU9NLG1CQUFtQlAsR0FLdkNRLFNBQVNDLGVBQWUsc0JBQXNCQyxVQUFXLEVBWTdELFFBQVNDLFdBQ0xkLFNBQVNJLE9BQU9XLG9CQUFvQkMsS0FBSyxTQUFVQyxHQUMvQyxHQUFJQSxFQUFPQyxXQUFZLENBRW5CLEdBQUlDLEdBQVFGLEVBQU9DLFdBQVdFLFdBRTlCQyxTQUFRQyxJQUFJSCxPQUVaRSxTQUFRQyxJQUFJLGFBRUxMLEdBQU9NLE9BVHRCdkIsU0FVUyxTQUFVd0IsR0FDZixHQUFJQyxHQUFZRCxFQUFNRSxJQUNIRixHQUFNRyxRQUNiSCxFQUFNSSxNQUNESixFQUFNTixVQUNMLG1EQUFkTyxFQUNBSSxNQUFNLDZFQUVOUixRQUFRRyxNQUFNQSxLQUd0QnhCLFNBQVNJLE9BQU8wQixtQkFBbUIsU0FBVVAsR0FDckNBLEdBQ0FRLFlBQWNSLEVBQUtRLFlBQ25CSCxNQUFRTCxFQUFLSyxNQUNiSSxjQUFnQlQsRUFBS1MsY0FDckJDLFNBQVdWLEVBQUtVLFNBQ2hCQyxZQUFjWCxFQUFLVyxZQUNuQkMsSUFBTVosRUFBS1ksSUFDWEMsYUFBZWIsRUFBS2EsYUFDcEJDLGFBQWVkLEVBQUtjLGFBRXBCMUIsU0FBU0MsZUFBZSxzQkFBc0IwQixZQUFjLFdBQzVEcEMsU0FBU3FDLElBQVQsU0FBc0JKLEtBQU9LLFFBQ3pCVCxZQUFhQSxZQUNiSCxNQUFPQSxNQUNQSSxjQUFlQSxjQUNmQyxTQUFVQSxTQUNWQyxZQUFhQSxZQUNiQyxJQUFLQSxJQUNMQyxhQUFjQSxhQUNkQyxhQUFjQSxnQkFHbEIxQixTQUFTQyxlQUFlLHNCQUFzQjBCLFlBQWMsc0JBRWhFM0IsU0FBU0MsZUFBZSxzQkFBc0JDLFVBQVcsSUFFN0RGLFNBQVNDLGVBQWUsc0JBQXNCNkIsaUJBQWlCLFFBQVNuQyxjQUFjLEdBMUQxRixHQUFJeUIsYUFDQUgsTUFDQUksY0FDQUMsU0FDQUMsWUFDQUMsSUFDQUMsYUFDQUM7QUN0QlIsWUFHSSxTQUFTSyx1QkFBc0JDLEVBQUlDLEdBQy9CLEdBQUlDLEdBQVVDLEVBQUUsc0JBQ1pDLEVBQVNELEVBQUEsc0JBQXdCSCxFQUF4QixTQUFtQ0ssU0FBUyxjQUV6REYsR0FBRUQsR0FBU0ksT0FBT0YsR0FFbEJELEVBQUUsZ0JBQWdCRyxPQUFPSixHQUc3QixRQUFTSyxtQkFDTGhELFNBQVNxQyxJQUFJLGVBQWVZLEtBQUssUUFBUyxTQUFVQyxHQUNoREEsRUFBS0MsUUFBUSxTQUFVQyxHQUNuQkMsZUFBaUJELEVBQU1FLE1BQ3ZCQyxVQUFZSCxFQUFNSSxJQUNsQmhCLHNCQUFzQmUsVUFBV0Ysb0JBakI3QyxHQUFJRSxXQUNBRixjQXFCSlQsR0FBRW5DLFVBQVVnRCxNQUFNLFdBQ2RULGtCQUNBcEM7QUM0SVI7QUNwS0EsWUFBQWdDLEdBQUVuQyxVQUFVZ0QsTUFBTSxXQUNkLEdBQUlDLElBQ0FDLEtBQU0sT0FDTkMsUUFBUyxhQUNUQyxNQUFPLFFBR1hqQixHQUFFa0IsS0FBS0osRUFBTyxTQUFTRixFQUFLTyxHQUN4Qm5CLEVBQUUsT0FBT0csT0FBVCxXQUEyQmdCLEVBQTNCLGFBQ0E1QyxRQUFRQyxJQUFJb0MsRUFBS08iLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBjb25maWcgPSB7XHJcbiAgICBhcGlLZXk6IFwiQUl6YVN5Q1JmUnAyMGtFa3B3TzFCczMwc0R5QmtDNFFmLXJzdU5NXCIsXHJcbiAgICBhdXRoRG9tYWluOiBcImNvdXJzZS1maWxlLWF1ZGl0b3IuZmlyZWJhc2VhcHAuY29tXCIsXHJcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL2NvdXJzZS1maWxlLWF1ZGl0b3IuZmlyZWJhc2Vpby5jb21cIixcclxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwiY291cnNlLWZpbGUtYXVkaXRvci5hcHBzcG90LmNvbVwiLFxyXG59O1xyXG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XHJcblxyXG52YXIgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpO1xyXG52YXIgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcclxuIiwiICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZ25JbigpIHtcclxuICAgICAgICBpZiAoIWZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcikge1xyXG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3BsdXMubG9naW4nKTtcclxuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ3Byb2ZpbGUnKTtcclxuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XHJcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUmVkaXJlY3QocHJvdmlkZXIpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkaXNwbGF5TmFtZSxcclxuICAgICAgICBlbWFpbCxcclxuICAgICAgICBlbWFpbFZlcmlmaWVkLFxyXG4gICAgICAgIHBob3RvVVJMLFxyXG4gICAgICAgIGlzQW5vbnltb3VzLFxyXG4gICAgICAgIHVpZCxcclxuICAgICAgICByZWZyZXNoVG9rZW4sXHJcbiAgICAgICAgcHJvdmlkZXJEYXRhO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRBcHAoKSB7XHJcbiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmdldFJlZGlyZWN0UmVzdWx0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuY3JlZGVudGlhbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBHb29nbGUgQWNjZXNzIFRva2VuLiBZb3UgY2FuIHVzZSBpdCB0byBhY2Nlc3MgdGhlIEdvb2dsZSBBUEkuXHJcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHQuY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG9rZW4gbnVsbCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB1c2VyID0gcmVzdWx0LnVzZXI7XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlO1xyXG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgICAgICAgdmFyIGVtYWlsID0gZXJyb3IuZW1haWw7XHJcbiAgICAgICAgICAgIHZhciBjcmVkZW50aWFsID0gZXJyb3IuY3JlZGVudGlhbDtcclxuICAgICAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gJ2F1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCcpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdZb3UgaGF2ZSBhbHJlYWR5IHNpZ25lZCB1cCB3aXRoIGEgZGlmZmVyZW50IGF1dGggcHJvdmlkZXIgZm9yIHRoYXQgZW1haWwuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gdXNlci5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgIGVtYWlsID0gdXNlci5lbWFpbDtcclxuICAgICAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQgPSB1c2VyLmVtYWlsVmVyaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICBwaG90b1VSTCA9IHVzZXIucGhvdG9VUkw7XHJcbiAgICAgICAgICAgICAgICBpc0Fub255bW91cyA9IHVzZXIuaXNBbm9ueW1vdXM7XHJcbiAgICAgICAgICAgICAgICB1aWQgPSB1c2VyLnVpZDtcclxuICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbiA9IHVzZXIucmVmcmVzaFRva2VuO1xyXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhID0gdXNlci5wcm92aWRlckRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLnRleHRDb250ZW50ID0gJ1NpZ24gb3V0JztcclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHt1aWR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IGVtYWlsVmVyaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IHBob3RvVVJMLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQW5vbnltb3VzOiBpc0Fub255bW91cyxcclxuICAgICAgICAgICAgICAgICAgICB1aWQ6IHVpZCxcclxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHJlZnJlc2hUb2tlbixcclxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IHByb3ZpZGVyRGF0YVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykudGV4dENvbnRlbnQgPSAnU2lnbiBpbiB3aXRoIEdvb2dsZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2lnbkluLCBmYWxzZSk7XHJcbiAgICB9XG4iLCIgICAgdmFyIGNvdXJzZV9pZCxcbiAgICAgICAgY291cnNlX2RldGFpbHM7XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUNvdXJzZVByZXZpZXcoaWQsIGRldGFpbHMpIHtcbiAgICAgICAgdmFyIHNlY3Rpb24gPSAkKFwiPHNlY3Rpb24+PC9zZWN0aW9uXCIpLFxuICAgICAgICAgICAgaGVhZGVyID0gJChgPGgyPlByb2plY3QgTnVtYmVyICR7aWR9PC9oMj5gKS5hZGRDbGFzcyhcImNvdXJzZVRpdGxlXCIpO1xuICAgICAgICBcbiAgICAgICAgJChzZWN0aW9uKS5hcHBlbmQoaGVhZGVyKTtcbiAgICAgICAgXG4gICAgICAgICQoXCJtYWluIGFydGljbGVcIikuYXBwZW5kKHNlY3Rpb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXJ0Q291cnNlTG9hZCgpIHtcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICAgICAgICBzbmFwLmZvckVhY2goZnVuY3Rpb24gKGNzbmFwKSB7XG4gICAgICAgICAgICAgICAgY291cnNlX2RldGFpbHMgPSBjc25hcC52YWwoKTtcbiAgICAgICAgICAgICAgICBjb3Vyc2VfaWQgPSBjc25hcC5rZXk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVDb3Vyc2VQcmV2aWV3KGNvdXJzZV9pZCwgY291cnNlX2RldGFpbHMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICBzdGFydENvdXJzZUxvYWQoKTtcbiAgICAgICAgaW5pdEFwcCgpO1xuICAgIH0pOyIsIi8qXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgYXJ0aWNsZSA9IHdhbmQucXVlckFwbmRyKFwiYXJ0aWNsZVwiKTtcclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkUHJvZmlsZSgpIHtcclxuICAgICAgICB3YW5kLnF1ZXJBcG5kcihcImFydGljbGVcIiwgXCJoMVwiLCBcIlByb2ZpbGUgd2FudCB0byBiZSBzZWVuPyAgTm90IHlldCFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZFN0YXRzKCkge1xyXG4gICAgICAgIHdhbmQucXVlckFwbmRyKFwiYXJ0aWNsZVwiLCBcImgxXCIsIFwiU3RhdHMgd2FudCB0byBiZSBzZWVuPyAgTm90IHlldCFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZENoZWNrZWQoaW5wdXQsIHNlYXJjaFF1ZXIpIHtcclxuICAgICAgICBkYXRhYmFzZS5yZWYoc2VhcmNoUXVlcikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgIHZhciBwZXJzb25hbERhdGEgPSBzbmFwLnZhbCgpO1xyXG4gICAgICAgICAgICBpZiAocGVyc29uYWxEYXRhLkNoZWNrZWQgPT09IFwiRmFsc2VcIikge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBlcnNvbmFsRGF0YS5DaGVja2VkID09PSBcIlRydWVcIikge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpbnB1dC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoc2VhcmNoUXVlcikudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBcIkNoZWNrZWRcIjogXCJGYWxzZVwiLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5jaGVja2VkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbnB1dCwgc2VhcmNoUXVlcik7XHJcbiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoc2VhcmNoUXVlcikudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBcIkNoZWNrZWRcIjogXCJUcnVlXCIsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkQ29udGVudFRvZG8oY3AsIGNuKSB7XHJcbiAgICAgICAgdmFyIHRvZG9Db250YWluID0gd2FuZC5jcnRFbG0oXCJkaXZcIik7XHJcbiAgICAgICAgdG9kb0NvbnRhaW4uaWQgPSBcInRvZG9Db250YWluXCI7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgaW4gY3ApIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBoMyA9IHdhbmQuY3J0RWxtKFwiaDNcIiwgaSksXHJcbiAgICAgICAgICAgICAgICB0b2RvID0gd2FuZC5jcnRFbG0oXCJkaXZcIiksXHJcbiAgICAgICAgICAgICAgICBkaXZzdWIgPSB3YW5kLmNydEVsbShcImRpdlwiKTtcclxuXHJcbiAgICAgICAgICAgIHRvZG8uaWQgPSBcInRvZG9cIjtcclxuICAgICAgICAgICAgZGl2c3ViLmlkID0gXCJkZXRhaWxzXCI7XHJcbiAgICAgICAgICAgIGRpdnN1Yi5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsIFwiZmFsc2VcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGl2c3ViLmdldEF0dHJpYnV0ZShcImRpc3BsYXlcIikgPT09IFwiZmFsc2VcIikge1xyXG4gICAgICAgICAgICAgICAgZGl2c3ViLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaiBpbiBjcFtpXSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnAgPSB3YW5kLmNydEVsbShcImxhYmVsXCIsIGAke2p9IHwgYCksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSB3YW5kLmNydEVsbShcImlucHV0XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG51bUxpbmtzID0gd2FuZC50eHQoYCAke2NwW2ldW2pdWydMaW5rcyBCcm9rZW4nXX0gYnJva2VuIExpbmtzIHwgYCksXHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUXVlciA9IGBNYXJrJ3MgVG9vbC8ke2NufS9Db250ZW50IFBhZ2VzLyR7aX0vJHtqfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgaW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBsb2FkQ2hlY2tlZChpbnB1dCwgc2VhcmNoUXVlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgd2FuZC5hcG5kcihzdWJwLCBudW1MaW5rcyk7XHJcbiAgICAgICAgICAgICAgICB3YW5kLmFwbmRyKHN1YnAsIGlucHV0KTtcclxuICAgICAgICAgICAgICAgIHdhbmQuYXBuZHIoZGl2c3ViLCBzdWJwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2FuZC5hcG5kcih0b2RvLCBoMyk7XHJcbiAgICAgICAgICAgIHdhbmQuYXBuZHIodG9kb0NvbnRhaW4sIHRvZG8pO1xyXG4gICAgICAgICAgICB3YW5kLmFwbmRyKHRvZG9Db250YWluLCBkaXZzdWIpO1xyXG4gICAgICAgICAgICB3YW5kLnF1ZXJBcG5kcihcImFydGljbGVcIiwgdG9kb0NvbnRhaW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWl6TG9hZChxKSB7XHJcbiAgICAgICAgaWYgKHEgPT09IFwiVGhlcmUgaXMgbm90aGluZyBoZXJlIVwiKSB7XHJcbiAgICAgICAgICAgIHdhbmQucXVlckFwbmRyKFwiYXJ0aWNsZVwiLCBcInBcIiwgYFF1aXp6ZXMgYXJlIG9rYXkhICR7cX1gKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZCBhIHF1aXogdGFibGUgZm9yIHRoZSBjb252ZXJzaW9uIVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkaXNMaW5rKGwpIHtcclxuICAgICAgICB2YXIgbGluayA9IHdhbmQuY3J0RWxtKFwiYVwiLCBcIklMMyBMaW5rXCIpLFxyXG4gICAgICAgICAgICBwYXJhID0gd2FuZC5jcnRFbG0oXCJwXCIpO1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IGw7XHJcbiAgICAgICAgd2FuZC5hcG5kcihwYXJhLCBsaW5rKTtcclxuXHJcbiAgICAgICAgd2FuZC5xdWVyQXBuZHIoXCJhcnRpY2xlXCIsIHBhcmEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRpc3BsYXlEZXRhaWxzKGNkLCBjbikge1xyXG4gICAgICAgIGRpc0xpbmsoY2QuTGluayk7XHJcbiAgICAgICAgcXVpekxvYWQoY2QuUXVpenplcyk7XHJcbiAgICAgICAgbG9hZENvbnRlbnRUb2RvKGNkW1wiQ29udGVudCBQYWdlc1wiXSwgY24pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRDb3Vyc2VEZXRhaWxzKGUpIHtcclxuICAgICAgICB2YXIgY291cnNlTnVtID0gZS50YXJnZXQuaW5uZXJUZXh0LnNwbGl0KFwiUHJvamVjdCBOdW1iZXIgXCIpWzFdLFxyXG4gICAgICAgICAgICBjb3Vyc2VEZXRhaWxzO1xyXG5cclxuICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7Y291cnNlTnVtfWApLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xyXG4gICAgICAgICAgICBjb3Vyc2VEZXRhaWxzID0gc25hcC52YWwoKTtcclxuICAgICAgICAgICAgZGlzcGxheURldGFpbHMoY291cnNlRGV0YWlscywgY291cnNlTnVtKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFyQXJ0aWNsZSgpIHtcclxuICAgICAgICBhcnRpY2xlLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZHJvcGRvd24oZGlzQm9vbCwgbmV4dFNpYikge1xyXG4gICAgICAgIGlmIChkaXNCb29sID09PSBcImZhbHNlXCIpIHtcclxuICAgICAgICAgICAgbmV4dFNpYi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICBuZXh0U2liLnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGlzQm9vbCA9PT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICAgbmV4dFNpYi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIG5leHRTaWIuc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgcHJvamVjdCA9IGUudGFyZ2V0LmlubmVyVGV4dC5pbmRleE9mKFwiUHJvamVjdFwiKSA+IC0xLFxyXG4gICAgICAgICAgICBoMmxvY2FsID0gZS50YXJnZXQubG9jYWxOYW1lID09PSBcImgyXCIsXHJcbiAgICAgICAgICAgIGJ1dHRvbmxvY2FsID0gZS50YXJnZXQubG9jYWxOYW1lID09PSBcImJ1dHRvblwiLFxyXG4gICAgICAgICAgICBob21lID0gZS50YXJnZXQuaW5uZXJUZXh0LmluZGV4T2YoXCJIb21lXCIpID4gLTEsXHJcbiAgICAgICAgICAgIHByb2ZpbGUgPSBlLnRhcmdldC5pbm5lclRleHQuaW5kZXhPZihcIlByb2ZpbGVcIikgPiAtMSxcclxuICAgICAgICAgICAgc3RhdHMgPSBlLnRhcmdldC5pbm5lclRleHQuaW5kZXhPZihcIlN0YXRzXCIpID4gLTEsXHJcbiAgICAgICAgICAgIGgzbG9jYWwgPSBlLnRhcmdldC5sb2NhbE5hbWUsXHJcbiAgICAgICAgICAgIGxlc3Nvbk51bSA9IGUudGFyZ2V0LmlubmVyVGV4dC5pbmRleE9mKFwiTGVzc29uXCIpID4gLTEgfHwgZS50YXJnZXQuaW5uZXJUZXh0LmluZGV4T2YoXCJNb2R1bGVcIikgPiAtMSB8fCBlLnRhcmdldC5pbm5lclRleHQuaW5kZXhPZihcIldlbGNvbWVcIikgPiAtMSxcclxuICAgICAgICAgICAgY2hlY2tlZCA9IGUudGFyZ2V0LnR5cGUgPT09IFwiY2hlY2tib3hcIjtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGgzbG9jYWwsIGxlc3Nvbk51bSk7XHJcblxyXG4gICAgICAgIGlmIChwcm9qZWN0ICYmIGgybG9jYWwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcm9qZWN0IENsaWNrZWQhXCIpO1xyXG4gICAgICAgICAgICBjbGVhckFydGljbGUoKTtcclxuICAgICAgICAgICAgbG9hZENvdXJzZURldGFpbHMoZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChob21lICYmIGJ1dHRvbmxvY2FsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSG9tZSBDbGlja2VkIVwiKTtcclxuICAgICAgICAgICAgY2xlYXJBcnRpY2xlKCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zdGFydENvdXJzZUxvYWQoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHByb2ZpbGUgJiYgYnV0dG9ubG9jYWwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcm9maWxlIGNsaWNrZWQhXCIpO1xyXG4gICAgICAgICAgICBjbGVhckFydGljbGUoKTtcclxuICAgICAgICAgICAgbG9hZFByb2ZpbGUoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRzICYmIGJ1dHRvbmxvY2FsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RhdHMgY2xpY2tlZCFcIik7XHJcbiAgICAgICAgICAgIGNsZWFyQXJ0aWNsZSgpO1xyXG4gICAgICAgICAgICBsb2FkU3RhdHMoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGgzbG9jYWwgJiYgbGVzc29uTnVtKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXh0U2liID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcsXHJcbiAgICAgICAgICAgICAgICBkaXNCb29sID0gbmV4dFNpYi5nZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIpO1xyXG4gICAgICAgICAgICBkcm9wZG93bihkaXNCb29sLCBuZXh0U2liKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSgpKTtcclxuKi9cblwidXNlIHN0cmljdFwiOyIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG5hdmlnID0ge1xyXG4gICAgICAgIGhvbWU6IFwiSG9tZVwiLFxyXG4gICAgICAgIHByb2ZpbGU6IFwiTXkgUHJvZmlsZVwiLFxyXG4gICAgICAgIHN0YXRzOiBcIlN0YXRzXCJcclxuICAgIH1cclxuICAgIFxyXG4gICAgJC5lYWNoKG5hdmlnLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgJChcIm5hdlwiKS5hcHBlbmQoYDxidXR0b24+JHt2YWx1ZX08L2J1dHRvbj5gKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGtleSwgdmFsdWUpO1xyXG4gICAgfSkgICAgXHJcbn0pIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
