"use strict";var config={apiKey:"AIzaSyCRfRp20kEkpwO1Bs30sDyBkC4Qf-rsuNM",authDomain:"course-file-auditor.firebaseapp.com",databaseURL:"https://course-file-auditor.firebaseio.com",storageBucket:"course-file-auditor.appspot.com"};firebase.initializeApp(config);var database=firebase.database();
"use strict";var corrData={16149:"HFED 340",16150:"B 275",16152:"B 101",16153:"B 424",16154:"B 380",16155:"B 129",16156:"B 100",16158:"B 499A",16161:"B 448",16162:"FHGEN 270",16164:"FAML 360",16165:"FAML 430",16166:"HFED 101",16167:"ME 201",16170:"B 183",16173:"FHGEN 251D",16175:"FHGEN 112",16176:"B 211",16177:"FAML 460",16178:"FHGEN 120",16179:"B 250",16180:"FAML 400",16181:"FHGEN 160",16182:"FHGEN 211",16183:"FAML 445",16185:"B 283",16187:"FHGEN 130",16188:"FHGEN 399",16189:"B 401",16190:"FHGEN 251A",16191:"FAML 498R",16192:"B 341",16193:"FHGEN 251B",16195:"FHGEN 251C",16196:"B 370",16197:"CHILD 320",16198:"FHGEN 252B",16199:"B 301",16200:"FAML 300",16201:"FHGEN 212",16202:"B 321",16203:"oops",16204:"FHGEN 140",16205:"B 361",16207:"FDMAT 112",16208:"CHILD 300",16209:"FAML 100",16211:"CHILD 210",16212:"B 424D",16213:"ECON 150",16214:"AGBUS 105",16215:"FHGEN 111",16216:"FAML 160",16218:"B 100",16219:"ECON 151",16221:"B 410",19492:"B 428",23800:"CS 313",23801:"FDHUM 110",33923:"B 499B",40664:"FAML 200",42377:"FDMAT 108",50273:"HS 390",50274:"FDWLD 201",50275:"ENG 252",50276:"FDINT 211",50277:"FDWLD 101",50279:"ANTH 101",50281:"CIT 370",50283:"FDSCI 101",50284:"ED 200",50286:"FDSCI 201",50289:"AUTO 125",50290:"HS 310",57713:"POLSC 110",57714:"CIT 230",58369:"BIO 265L",58371:"COMM 273",58372:"BIO 264L",59655:"HS 280",59656:"COMM 175",59657:"CIT 160",59658:"FDENG 301",59659:"COMM 125",61065:"FDSCI 203",61373:"NUTR 150",61374:"MA 106",61375:"HS 285",61376:"PSYCH 112",61377:"CIT 110",61378:"WDD 100",61380:"CIT 111",61381:"CIT 336",61908:"PSYCH 111",61909:"ED 312",61910:"FDSCI 205",61911:"CIT 240",61920:"HS 391",61928:"SOC 111",61929:"MATH 221A",62216:"HRHP 131",62217:"MATH 221C",62218:"COMM 130",62453:"COMM 102",62586:"MATH 221B",63193:"B 220",63194:"CIT 260",63195:"HS 320",63196:"HS 370",63419:"CIT 225",63581:"FAML 220",63921:"PSYCH 201",67126:"HS 460",67127:"BIO 221",67128:"HS 465",67129:"COMM 310",67130:"HS 401",67131:"HS 425",67132:"CIT 241",67133:"PSYCH 302",67134:"COMM 111",67135:"PSYCH 311",67136:"POLSC 150",67138:"HS 345",67139:"ED 202",67140:"RM 304",74838:"COMM 307",81222:"CHILD 310",81805:"CIT 261",99480:"HS 240",99482:"AGBUS 138",99483:"BIO 375",99484:"FDREL 100",99485:"POLSC 170",99486:"RM 307",99487:"ENG 325",99488:"COMM 352",99489:"RM 471",99530:"BIO 265",100806:"MA 107",100807:"BIO 264",105615:"TA 402",105706:"CIT 262",106277:"CIT 381",106278:"MA 105",106279:"COMM 150",106280:"CIT 325",106281:"CIT 352",106282:"COMM 250",106283:"RM 371",106284:"COMM 289",106285:"COMM 450",106286:"RM 370",106287:"SOC 112",106288:"AGBUS 180A",106290:"BIO 475",106291:"BIO 381",106292:"HS 375",106293:"RM 373R",106294:"RM 472",106295:"MA 205",106296:"HS 420",106297:"HS 378",106298:"ENG 355",106300:"MA 111",106301:"ENG 335",106303:"oops",106989:"ENG 251",108133:"B 101",108134:"FAML 100",108135:"FAML 220",108136:"FDENG 301",108137:"FDREL 121",108138:"FDREL 122",108139:"FDSCI 203",108140:"ENG 332",108142:"CIT 110",108143:"FDHUM 110",108144:"FDSCI 201",108599:"TA 116",109633:"FDSCI 101",109641:"ENG 314"};
"use strict";!function(){function e(){if(firebase.auth().currentUser)localStorage.removeItem("ManagementAuthO"),firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/plus.login"),e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)}document.getElementById("quickstart-sign-in").disabled=!0}function t(e,t){database.ref("users").once("value",function(i){i.forEach(function(i){i.key===e&&(i.val().role||t())})})}function i(){firebase.auth().getRedirectResult().then(function(e){if(e.credential){var t=e.credential.accessToken;location.reload(),console.log(t)}e.user})["catch"](function(e){var t=e.code;e.message,e.email,e.credential;"auth/account-exists-with-different-credential"===t?alert("You have already signed up with a different auth provider for that email."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){if(e){var i={displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL,uid:e.uid};document.getElementById("quickstart-sign-in").textContent="Sign out",database.ref("users/"+i.uid).update({displayName:i.displayName,email:i.email,emailVerified:i.emailVerified,photoURL:i.photoURL,uid:i.uid}),t(i.uid,function(){database.ref("users/"+i.uid).update({role:0})}),localStorage.ManagementAuthO=JSON.stringify(i)}else document.getElementById("quickstart-sign-in").textContent="Sign in with Google";document.getElementById("quickstart-sign-in").disabled=!1}),document.getElementById("quickstart-sign-in").addEventListener("click",e,!1)}window.onload=function(){i()}}();
"use strict";!function(){function e(){var e=$("<input></input>");return e.keyup(function(e){$("#userNames").html("");for(var a=e.target.value,t=e.target,n=0;n<o.length;n++)if(o[n].includes(a)){var r=$("<p>"+o[n]+"</p>");r.attr("id","empName").click(function(e){$(t).val(e.target.innerText)}),$("#userNames").append(r)}}),e}function a(e){var a=e.target,t=$(a).attr("data-courseid");console.log(a,t,a.parentElement),database.ref("Mark's Tool/"+t).update({checker:""}),$(a).css({display:"none"})}function t(t,n,r){var s,o=$("#"+r),c=$('<label data-courseID="'+n+'"><a target="_blank" href="'+t.Link+'">'+corrData[n]+"</a></label>"),l=$("<p> &times;</p>");""!==t.checker&&"checkedOut"===r&&database.ref("users/"+t.checker).once("value",function(e){var t=e.val().displayName;l.css({cursor:"pointer"}).click(a),c.append("<p>"+t+"</p>").append(l)}),"unassigned"===r&&(s=e()),c.append(s),o.append(c)}function n(e){var a=e.target.parentElement,t=a.getAttribute("data-courseid");database.ref("Mark's Tool/"+t).update({status:"Designer Approved"}),e.target.style.display="none"}function r(){var e=$(".chart");new Chart(e,{type:"line",data:l,options:i})}function s(){database.ref("users").once("value",function(e){e.forEach(function(e){var a=e.val().displayName;o.push(a)})})}var o=[];$("a[href='#']").click(function(e){var a=e.target.className;"checked"===a&&$("#namePopup").css({display:"block"}),$("#"+a).css({display:"block"}),$("#shade").css({display:"block"})}),$(".cancel").click(function(e){var a=e.target.parentElement;$("#namePopup").css({display:"none"}),$(a).css({display:"none"}),$("#shade").css({display:"none"})}),$("#assign").click(function(e){var a=$("[data-courseid] > input");$.each(a,function(e,t){var n=t.value,r=t.parentElement.getAttribute("data-courseid");database.ref("users").once("value",function(s){s.val();s.forEach(function(s){var o=s.val();if(n===o.displayName){var c=s.key;database.ref("Mark's Tool/"+r).update({checker:c}),console.log(t.parentElement),t.parentElement.style.display="none"}a[e].value=""})})})});var c={"Student Approved":function(e,a){var t=$('<label data-courseID="'+a+'"><a target="_blank" href="'+e.Link+'">'+corrData[a]+"</a></label>"),r=$("<span>&#x2713;</span>");$(r).css({cursor:"pointer"}).click(n),$(t).append(r),$("#completed").append(t)},"Designer Approved":function(e,a){$("#approved").append('<label data-courseID="'+a+'"><a target="_blank" href="'+e.Link+'">'+corrData[a]+"</a></label>")}},l={datasets:[{label:"Data Saved",backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(33, 98, 98, 0.4)",data:[{x:-10,y:0},{x:0,y:10},{x:10,y:5}]},{label:"Time Spent",backgroundColor:"rgba(23, 56, 234, 0.4)",borderColor:"rgba(0, 11, 72, 0.4)",data:[{x:-10,y:1},{x:4,y:10},{x:9,y:5}]}]},i={responsive:!0,scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Months"}}],yAxes:[{type:"linear",position:"left",scaleLabel:{display:!0,labelString:""}}]}};location.pathname.includes("admin")&&(s(),database.ref("Mark's Tool").on("child_added",function(e){var a=e.val(),n=e.key,r="There is nothing here!";a.status||database.ref("Mark's Tool/"+n).update({status:"Pending",time_spent:0,Completed:"False",data_saved:0,checker:""}),a["Content Pages"]===r&&a.Quizzes===r||"Pending"===a.status&&(a.checker?t(a,n,"checkedOut"):t(a,n,"unassigned"))}),database.ref("Mark's Tool").on("child_changed",function(e){var a=e.val(),n=e.key;console.log("Occuring"),t(a,n,"checkedOut")}),database.ref("Mark's Tool").once("value",function(e){e.forEach(function(e){var a=e.val();"Designer Approved"===a.status?c["Designer Approved"](a,e.key):"True"!==a.Completed&&"Student Approved"!==a.status||c["Student Approved"](a,e.key)})}),r(),e())}();
"use strict";
"use strict";!function(){var n,o,t=JSON.parse(localStorage.ManagementAuthO)||"",i=$("nav"),a=$("<button>Home</button>");a.click(function(n){var o=location.origin;location.assign(o+"/index.html")}),i.append(a),database.ref("users/"+t.uid).once("value",function(t){n=t.val().role,o=$("<button>Admin</button>"),n>=8&&(console.log("User logged in is Administrator"),o.click(function(n){console.log("li");var o=n.target.innerText.toLowerCase(),t=location.origin;location.assign(t+"/"+o+".html")}),i.append(o))})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyIsImNvdXJzZV9uYW1lLmpzIiwibG9naW4uanMiLCJhZG1pbi5qcyIsImRhdGFfbmF2LmpzIiwibmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiZGF0YWJhc2UiLCJjb3JyRGF0YSIsIjE2MTQ5IiwiMTYxNTAiLCIxNjE1MiIsIjE2MTUzIiwiMTYxNTQiLCIxNjE1NSIsIjE2MTU2IiwiMTYxNTgiLCIxNjE2MSIsIjE2MTYyIiwiMTYxNjQiLCIxNjE2NSIsIjE2MTY2IiwiMTYxNjciLCIxNjE3MCIsIjE2MTczIiwiMTYxNzUiLCIxNjE3NiIsIjE2MTc3IiwiMTYxNzgiLCIxNjE3OSIsIjE2MTgwIiwiMTYxODEiLCIxNjE4MiIsIjE2MTgzIiwiMTYxODUiLCIxNjE4NyIsIjE2MTg4IiwiMTYxODkiLCIxNjE5MCIsIjE2MTkxIiwiMTYxOTIiLCIxNjE5MyIsIjE2MTk1IiwiMTYxOTYiLCIxNjE5NyIsIjE2MTk4IiwiMTYxOTkiLCIxNjIwMCIsIjE2MjAxIiwiMTYyMDIiLCIxNjIwMyIsIjE2MjA0IiwiMTYyMDUiLCIxNjIwNyIsIjE2MjA4IiwiMTYyMDkiLCIxNjIxMSIsIjE2MjEyIiwiMTYyMTMiLCIxNjIxNCIsIjE2MjE1IiwiMTYyMTYiLCIxNjIxOCIsIjE2MjE5IiwiMTYyMjEiLCIxOTQ5MiIsIjIzODAwIiwiMjM4MDEiLCIzMzkyMyIsIjQwNjY0IiwiNDIzNzciLCI1MDI3MyIsIjUwMjc0IiwiNTAyNzUiLCI1MDI3NiIsIjUwMjc3IiwiNTAyNzkiLCI1MDI4MSIsIjUwMjgzIiwiNTAyODQiLCI1MDI4NiIsIjUwMjg5IiwiNTAyOTAiLCI1NzcxMyIsIjU3NzE0IiwiNTgzNjkiLCI1ODM3MSIsIjU4MzcyIiwiNTk2NTUiLCI1OTY1NiIsIjU5NjU3IiwiNTk2NTgiLCI1OTY1OSIsIjYxMDY1IiwiNjEzNzMiLCI2MTM3NCIsIjYxMzc1IiwiNjEzNzYiLCI2MTM3NyIsIjYxMzc4IiwiNjEzODAiLCI2MTM4MSIsIjYxOTA4IiwiNjE5MDkiLCI2MTkxMCIsIjYxOTExIiwiNjE5MjAiLCI2MTkyOCIsIjYxOTI5IiwiNjIyMTYiLCI2MjIxNyIsIjYyMjE4IiwiNjI0NTMiLCI2MjU4NiIsIjYzMTkzIiwiNjMxOTQiLCI2MzE5NSIsIjYzMTk2IiwiNjM0MTkiLCI2MzU4MSIsIjYzOTIxIiwiNjcxMjYiLCI2NzEyNyIsIjY3MTI4IiwiNjcxMjkiLCI2NzEzMCIsIjY3MTMxIiwiNjcxMzIiLCI2NzEzMyIsIjY3MTM0IiwiNjcxMzUiLCI2NzEzNiIsIjY3MTM4IiwiNjcxMzkiLCI2NzE0MCIsIjc0ODM4IiwiODEyMjIiLCI4MTgwNSIsIjk5NDgwIiwiOTk0ODIiLCI5OTQ4MyIsIjk5NDg0IiwiOTk0ODUiLCI5OTQ4NiIsIjk5NDg3IiwiOTk0ODgiLCI5OTQ4OSIsIjk5NTMwIiwiMTAwODA2IiwiMTAwODA3IiwiMTA1NjE1IiwiMTA1NzA2IiwiMTA2Mjc3IiwiMTA2Mjc4IiwiMTA2Mjc5IiwiMTA2MjgwIiwiMTA2MjgxIiwiMTA2MjgyIiwiMTA2MjgzIiwiMTA2Mjg0IiwiMTA2Mjg1IiwiMTA2Mjg2IiwiMTA2Mjg3IiwiMTA2Mjg4IiwiMTA2MjkwIiwiMTA2MjkxIiwiMTA2MjkyIiwiMTA2MjkzIiwiMTA2Mjk0IiwiMTA2Mjk1IiwiMTA2Mjk2IiwiMTA2Mjk3IiwiMTA2Mjk4IiwiMTA2MzAwIiwiMTA2MzAxIiwiMTA2MzAzIiwiMTA2OTg5IiwiMTA4MTMzIiwiMTA4MTM0IiwiMTA4MTM1IiwiMTA4MTM2IiwiMTA4MTM3IiwiMTA4MTM4IiwiMTA4MTM5IiwiMTA4MTQwIiwiMTA4MTQyIiwiMTA4MTQzIiwiMTA4MTQ0IiwiMTA4NTk5IiwiMTA5NjMzIiwiMTA5NjQxIiwidG9nZ2xlU2lnbkluIiwiYXV0aCIsImN1cnJlbnRVc2VyIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNpZ25PdXQiLCJwcm92aWRlciIsIkdvb2dsZUF1dGhQcm92aWRlciIsImFkZFNjb3BlIiwic2lnbkluV2l0aFJlZGlyZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRpc2FibGVkIiwic2V0Um9sZSIsInVpZCIsImZ1bmMiLCJyZWYiLCJvbmNlIiwic25hcCIsImZvckVhY2giLCJjc25hcCIsImtleSIsInZhbCIsInJvbGUiLCJpbml0QXBwIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsInRva2VuIiwiYWNjZXNzVG9rZW4iLCJsb2NhdGlvbiIsInJlbG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJjb2RlIiwibWVzc2FnZSIsImVtYWlsIiwiYWxlcnQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJhdXRoTyIsImRpc3BsYXlOYW1lIiwiZW1haWxWZXJpZmllZCIsInBob3RvVVJMIiwidGV4dENvbnRlbnQiLCJ1cGRhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsIm9ubG9hZCIsInVzZXJTZWxlY3QiLCJpbnB1dCIsIiQiLCJrZXl1cCIsImUiLCJodG1sIiwiaW5wdXRWYWwiLCJ0YXJnZXQiLCJ2YWx1ZSIsInNlbGVjdGVkSW5wdXQiLCJpIiwibG9hZGVkVXNlcnMiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInBhcmEiLCJhdHRyIiwiY2xpY2siLCJpbm5lclRleHQiLCJhcHBlbmQiLCJ1bmNoZWNrb3V0IiwiY2xpY2tlZEVsZW1lbnQiLCJjb3Vyc2VJRCIsInBhcmVudEVsZW1lbnQiLCJjaGVja2VyIiwiY3NzIiwiZGlzcGxheSIsInBvcHVsYXRlQ2hlY2siLCJjZCIsImNuIiwidGFyIiwicG9wdWxhdGUiLCJjb3Vyc2VOYW1lIiwidGltZXMiLCJjdXJzb3IiLCJhcHByb3ZlZCIsImdldEF0dHJpYnV0ZSIsInN0YXR1cyIsInN0eWxlIiwiY2hhcnRzIiwiY3R4IiwiQ2hhcnQiLCJ0eXBlIiwiZGF0YSIsIm9wdGlvbnMiLCJsb2FkVXNlcnMiLCJuYW1lIiwicHVzaCIsImNsYXNzSUQiLCJjbGFzc05hbWUiLCJwYXJlbnQiLCJpbnB1dEFzc2lnbiIsImVhY2giLCJzdHVkZW50QXNzaWdubWVudCIsInN0YXR1c0Z1bmN0aW9ucyIsIlN0dWRlbnQgQXBwcm92ZWQiLCJsYWJlbCIsImNoZWNrIiwiRGVzaWduZXIgQXBwcm92ZWQiLCJkYXRhc2V0cyIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwieCIsInkiLCJyZXNwb25zaXZlIiwic2NhbGVzIiwieEF4ZXMiLCJwb3NpdGlvbiIsInNjYWxlTGFiZWwiLCJsYWJlbFN0cmluZyIsInlBeGVzIiwicGF0aG5hbWUiLCJvbiIsImNvdXJzZURhdGEiLCJub3RoaW5nIiwidGltZV9zcGVudCIsIkNvbXBsZXRlZCIsImRhdGFfc2F2ZWQiLCJkYXRhTmFtZSIsImFkbWluQnV0dG9uIiwiYXV0aERhdGEiLCJwYXJzZSIsIm5hdiIsImhvbWVCdXR0b24iLCJyb290Iiwib3JpZ2luIiwiYXNzaWduIiwicGFnZSIsInRvTG93ZXJDYXNlIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFBLElBQUlBLFNBQ0FDLE9BQVEsMENBQ1JDLFdBQVksc0NBQ1pDLFlBQWEsNkNBQ2JDLGNBQWUsa0NBRW5CQyxVQUFTQyxjQUFjTixPQUV2QixJQUFJTyxVQUFXRixTQUFTRTtBQ1J4QixZQUFBLElBQUlDLFdBQ0FDLE1BQU8sV0FDUEMsTUFBTyxRQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxRQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxTQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFdBQ1BDLE1BQU8sV0FDUEMsTUFBTyxTQUNQQyxNQUFPLFFBQ1BDLE1BQU8sYUFDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFlBQ1BDLE1BQU8sV0FDUEMsTUFBTyxRQUNQQyxNQUFPLFlBQ1BDLE1BQU8sWUFDUEMsTUFBTyxRQUNQQyxNQUFPLGFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxRQUNQQyxNQUFPLGFBQ1BDLE1BQU8sYUFDUEMsTUFBTyxRQUNQQyxNQUFPLFlBQ1BDLE1BQU8sYUFDUEMsTUFBTyxRQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxRQUNQQyxNQUFPLE9BQ1BDLE1BQU8sWUFDUEMsTUFBTyxRQUNQQyxNQUFPLFlBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sU0FDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sV0FDUEMsTUFBTyxRQUNQQyxNQUFPLFFBQ1BDLE1BQU8sU0FDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxVQUNQQyxNQUFPLFlBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFVBQ1BDLE1BQU8sWUFDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sV0FDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sVUFDUEMsTUFBTyxXQUNQQyxNQUFPLFdBQ1BDLE1BQU8sV0FDUEMsTUFBTyxTQUNQQyxNQUFPLFdBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sU0FDUEMsTUFBTyxZQUNQQyxNQUFPLFVBQ1BDLE1BQU8sVUFDUEMsTUFBTyxVQUNQQyxNQUFPLFVBQ1BDLE1BQU8sWUFDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sVUFDUEMsTUFBTyxTQUNQQyxNQUFPLFVBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sV0FDUEMsTUFBTyxXQUNQQyxNQUFPLFlB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LE1BQ1o2RyxFQUFXakgsRUFBS0csR0FDcEJZLFNBQVFDLElBQUksWUFFWjhDLEVBQWNnQixFQUFNbUMsRUFBVSxnQkFJbEMzVCxTQUFTd00sSUFBSSxlQUFlQyxLQUFLLFFBQVMsU0FBQ0MsR0FDdkNBLEVBQUtDLFFBQVEsU0FBQ0MsR0FDVixHQUFJMEcsR0FBYTFHLEVBQU1FLEtBRUcsdUJBQXRCd0csRUFBV3BDLE9BQ1hpQixFQUFnQixxQkFBcUJtQixFQUFZMUcsRUFBTUMsS0FDdkIsU0FBekJ5RyxFQUFXRyxXQUE4QyxxQkFBdEJILEVBQVdwQyxRQUNyRGlCLEVBQWdCLG9CQUFvQm1CLEVBQVkxRyxFQUFNQyxTQUtsRXVFLElBRUF0QztBQ3ZhUjtBQ0FBLGNBQUMsV0FFRyxHQUNJL0IsR0FHQTZHLEVBSkFDLEVBQVdwRixLQUFLcUYsTUFBTW5JLGFBQUEsa0JBQW9DLEdBRTFEb0ksRUFBTS9FLEVBQUUsT0FDUmdGLEVBQWFoRixFQUFFLHdCQUduQmdGLEdBQVdsRSxNQUFNLFNBQVVaLEdBQ3ZCLEdBQUkrRSxHQUFPMUcsU0FBUzJHLE1BQ3BCM0csVUFBUzRHLE9BQVVGLEVBQW5CLGlCQUdKRixFQUFJL0QsT0FBT2dFLEdBRVhoVSxTQUFTd00sSUFBVCxTQUFzQnFILEVBQVN2SCxLQUFPRyxLQUFLLFFBQVMsU0FBVUMsR0FDMURLLEVBQU9MLEVBQUtJLE1BQU1DLEtBQ2xCNkcsRUFBYzVFLEVBQUUsMEJBRVpqQyxHQUFRLElBQ1JVLFFBQVFDLElBQUksbUNBRVprRyxFQUFZOUQsTUFBTSxTQUFVWixHQUN4QnpCLFFBQVFDLElBQUksS0FFWixJQUFJMEcsR0FBT2xGLEVBQUVHLE9BQU9VLFVBQVVzRSxjQUMxQkosRUFBTzFHLFNBQVMyRyxNQUVwQjNHLFVBQVM0RyxPQUFVRixFQUFuQixJQUEyQkcsRUFBM0IsV0FHSkwsRUFBSS9ELE9BQU80RCIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbmZpZyA9IHtcclxuICAgIGFwaUtleTogXCJBSXphU3lDUmZScDIwa0VrcHdPMUJzMzBzRHlCa0M0UWYtcnN1Tk1cIixcclxuICAgIGF1dGhEb21haW46IFwiY291cnNlLWZpbGUtYXVkaXRvci5maXJlYmFzZWFwcC5jb21cIixcclxuICAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vY291cnNlLWZpbGUtYXVkaXRvci5maXJlYmFzZWlvLmNvbVwiLFxyXG4gICAgc3RvcmFnZUJ1Y2tldDogXCJjb3Vyc2UtZmlsZS1hdWRpdG9yLmFwcHNwb3QuY29tXCIsXHJcbn07XHJcbmZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcclxuXHJcbnZhciBkYXRhYmFzZSA9IGZpcmViYXNlLmRhdGFiYXNlKCk7XHJcblxyXG5cclxuXHJcbi8qXHJcbkJlbG93IGlzIGEgc2V0IG9mIHF1ZXJ5IHNjcmlwdHMgdG8gbW9kaWZ5IHRoZSBkYXRhYmFzZVxyXG4qL1xyXG5cclxuLypcclxuZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uKHNuYXApe1xyXG4gICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCl7XHJcbiAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NzbmFwLmtleX1gKS51cGRhdGUoe1xyXG4gICAgICAgICAgICBDb21wbGV0ZWQ6IFwiRmFsc2VcIixcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSlcclxuKi9cclxuXHJcbiIsInZhciBjb3JyRGF0YSA9IHtcbiAgICAxNjE0OTogJ0hGRUQgMzQwJyxcbiAgICAxNjE1MDogJ0IgMjc1JyxcbiAgICAxNjE1MjogJ0IgMTAxJyxcbiAgICAxNjE1MzogJ0IgNDI0JyxcbiAgICAxNjE1NDogJ0IgMzgwJyxcbiAgICAxNjE1NTogJ0IgMTI5JyxcbiAgICAxNjE1NjogJ0IgMTAwJyxcbiAgICAxNjE1ODogJ0IgNDk5QScsXG4gICAgMTYxNjE6ICdCIDQ0OCcsXG4gICAgMTYxNjI6ICdGSEdFTiAyNzAnLFxuICAgIDE2MTY0OiAnRkFNTCAzNjAnLFxuICAgIDE2MTY1OiAnRkFNTCA0MzAnLFxuICAgIDE2MTY2OiAnSEZFRCAxMDEnLFxuICAgIDE2MTY3OiAnTUUgMjAxJyxcbiAgICAxNjE3MDogJ0IgMTgzJyxcbiAgICAxNjE3MzogJ0ZIR0VOIDI1MUQnLFxuICAgIDE2MTc1OiAnRkhHRU4gMTEyJyxcbiAgICAxNjE3NjogJ0IgMjExJyxcbiAgICAxNjE3NzogJ0ZBTUwgNDYwJyxcbiAgICAxNjE3ODogJ0ZIR0VOIDEyMCcsXG4gICAgMTYxNzk6ICdCIDI1MCcsXG4gICAgMTYxODA6ICdGQU1MIDQwMCcsXG4gICAgMTYxODE6ICdGSEdFTiAxNjAnLFxuICAgIDE2MTgyOiAnRkhHRU4gMjExJyxcbiAgICAxNjE4MzogJ0ZBTUwgNDQ1JyxcbiAgICAxNjE4NTogJ0IgMjgzJyxcbiAgICAxNjE4NzogJ0ZIR0VOIDEzMCcsXG4gICAgMTYxODg6ICdGSEdFTiAzOTknLFxuICAgIDE2MTg5OiAnQiA0MDEnLFxuICAgIDE2MTkwOiAnRkhHRU4gMjUxQScsXG4gICAgMTYxOTE6ICdGQU1MIDQ5OFInLFxuICAgIDE2MTkyOiAnQiAzNDEnLFxuICAgIDE2MTkzOiAnRkhHRU4gMjUxQicsXG4gICAgMTYxOTU6ICdGSEdFTiAyNTFDJyxcbiAgICAxNjE5NjogJ0IgMzcwJyxcbiAgICAxNjE5NzogJ0NISUxEIDMyMCcsXG4gICAgMTYxOTg6ICdGSEdFTiAyNTJCJyxcbiAgICAxNjE5OTogJ0IgMzAxJyxcbiAgICAxNjIwMDogJ0ZBTUwgMzAwJyxcbiAgICAxNjIwMTogJ0ZIR0VOIDIxMicsXG4gICAgMTYyMDI6ICdCIDMyMScsXG4gICAgMTYyMDM6ICdvb3BzJyxcbiAgICAxNjIwNDogJ0ZIR0VOIDE0MCcsXG4gICAgMTYyMDU6ICdCIDM2MScsXG4gICAgMTYyMDc6ICdGRE1BVCAxMTInLFxuICAgIDE2MjA4OiAnQ0hJTEQgMzAwJyxcbiAgICAxNjIwOTogJ0ZBTUwgMTAwJyxcbiAgICAxNjIxMTogJ0NISUxEIDIxMCcsXG4gICAgMTYyMTI6ICdCIDQyNEQnLFxuICAgIDE2MjEzOiAnRUNPTiAxNTAnLFxuICAgIDE2MjE0OiAnQUdCVVMgMTA1JyxcbiAgICAxNjIxNTogJ0ZIR0VOIDExMScsXG4gICAgMTYyMTY6ICdGQU1MIDE2MCcsXG4gICAgMTYyMTg6ICdCIDEwMCcsXG4gICAgMTYyMTk6ICdFQ09OIDE1MScsXG4gICAgMTYyMjE6ICdCIDQxMCcsXG4gICAgMTk0OTI6ICdCIDQyOCcsXG4gICAgMjM4MDA6ICdDUyAzMTMnLFxuICAgIDIzODAxOiAnRkRIVU0gMTEwJyxcbiAgICAzMzkyMzogJ0IgNDk5QicsXG4gICAgNDA2NjQ6ICdGQU1MIDIwMCcsXG4gICAgNDIzNzc6ICdGRE1BVCAxMDgnLFxuICAgIDUwMjczOiAnSFMgMzkwJyxcbiAgICA1MDI3NDogJ0ZEV0xEIDIwMScsXG4gICAgNTAyNzU6ICdFTkcgMjUyJyxcbiAgICA1MDI3NjogJ0ZESU5UIDIxMScsXG4gICAgNTAyNzc6ICdGRFdMRCAxMDEnLFxuICAgIDUwMjc5OiAnQU5USCAxMDEnLFxuICAgIDUwMjgxOiAnQ0lUIDM3MCcsXG4gICAgNTAyODM6ICdGRFNDSSAxMDEnLFxuICAgIDUwMjg0OiAnRUQgMjAwJyxcbiAgICA1MDI4NjogJ0ZEU0NJIDIwMScsXG4gICAgNTAyODk6ICdBVVRPIDEyNScsXG4gICAgNTAyOTA6ICdIUyAzMTAnLFxuICAgIDU3NzEzOiAnUE9MU0MgMTEwJyxcbiAgICA1NzcxNDogJ0NJVCAyMzAnLFxuICAgIDU4MzY5OiAnQklPIDI2NUwnLFxuICAgIDU4MzcxOiAnQ09NTSAyNzMnLFxuICAgIDU4MzcyOiAnQklPIDI2NEwnLFxuICAgIDU5NjU1OiAnSFMgMjgwJyxcbiAgICA1OTY1NjogJ0NPTU0gMTc1JyxcbiAgICA1OTY1NzogJ0NJVCAxNjAnLFxuICAgIDU5NjU4OiAnRkRFTkcgMzAxJyxcbiAgICA1OTY1OTogJ0NPTU0gMTI1JyxcbiAgICA2MTA2NTogJ0ZEU0NJIDIwMycsXG4gICAgNjEzNzM6ICdOVVRSIDE1MCcsXG4gICAgNjEzNzQ6ICdNQSAxMDYnLFxuICAgIDYxMzc1OiAnSFMgMjg1JyxcbiAgICA2MTM3NjogJ1BTWUNIIDExMicsXG4gICAgNjEzNzc6ICdDSVQgMTEwJyxcbiAgICA2MTM3ODogJ1dERCAxMDAnLFxuICAgIDYxMzgwOiAnQ0lUIDExMScsXG4gICAgNjEzODE6ICdDSVQgMzM2JyxcbiAgICA2MTkwODogJ1BTWUNIIDExMScsXG4gICAgNjE5MDk6ICdFRCAzMTInLFxuICAgIDYxOTEwOiAnRkRTQ0kgMjA1JyxcbiAgICA2MTkxMTogJ0NJVCAyNDAnLFxuICAgIDYxOTIwOiAnSFMgMzkxJyxcbiAgICA2MTkyODogJ1NPQyAxMTEnLFxuICAgIDYxOTI5OiAnTUFUSCAyMjFBJyxcbiAgICA2MjIxNjogJ0hSSFAgMTMxJyxcbiAgICA2MjIxNzogJ01BVEggMjIxQycsXG4gICAgNjIyMTg6ICdDT01NIDEzMCcsXG4gICAgNjI0NTM6ICdDT01NIDEwMicsXG4gICAgNjI1ODY6ICdNQVRIIDIyMUInLFxuICAgIDYzMTkzOiAnQiAyMjAnLFxuICAgIDYzMTk0OiAnQ0lUIDI2MCcsXG4gICAgNjMxOTU6ICdIUyAzMjAnLFxuICAgIDYzMTk2OiAnSFMgMzcwJyxcbiAgICA2MzQxOTogJ0NJVCAyMjUnLFxuICAgIDYzNTgxOiAnRkFNTCAyMjAnLFxuICAgIDYzOTIxOiAnUFNZQ0ggMjAxJyxcbiAgICA2NzEyNjogJ0hTIDQ2MCcsXG4gICAgNjcxMjc6ICdCSU8gMjIxJyxcbiAgICA2NzEyODogJ0hTIDQ2NScsXG4gICAgNjcxMjk6ICdDT01NIDMxMCcsXG4gICAgNjcxMzA6ICdIUyA0MDEnLFxuICAgIDY3MTMxOiAnSFMgNDI1JyxcbiAgICA2NzEzMjogJ0NJVCAyNDEnLFxuICAgIDY3MTMzOiAnUFNZQ0ggMzAyJyxcbiAgICA2NzEzNDogJ0NPTU0gMTExJyxcbiAgICA2NzEzNTogJ1BTWUNIIDMxMScsXG4gICAgNjcxMzY6ICdQT0xTQyAxNTAnLFxuICAgIDY3MTM4OiAnSFMgMzQ1JyxcbiAgICA2NzEzOTogJ0VEIDIwMicsXG4gICAgNjcxNDA6ICdSTSAzMDQnLFxuICAgIDc0ODM4OiAnQ09NTSAzMDcnLFxuICAgIDgxMjIyOiAnQ0hJTEQgMzEwJyxcbiAgICA4MTgwNTogJ0NJVCAyNjEnLFxuICAgIDk5NDgwOiAnSFMgMjQwJyxcbiAgICA5OTQ4MjogJ0FHQlVTIDEzOCcsXG4gICAgOTk0ODM6ICdCSU8gMzc1JyxcbiAgICA5OTQ4NDogJ0ZEUkVMIDEwMCcsXG4gICAgOTk0ODU6ICdQT0xTQyAxNzAnLFxuICAgIDk5NDg2OiAnUk0gMzA3JyxcbiAgICA5OTQ4NzogJ0VORyAzMjUnLFxuICAgIDk5NDg4OiAnQ09NTSAzNTInLFxuICAgIDk5NDg5OiAnUk0gNDcxJyxcbiAgICA5OTUzMDogJ0JJTyAyNjUnLFxuICAgIDEwMDgwNjogJ01BIDEwNycsXG4gICAgMTAwODA3OiAnQklPIDI2NCcsXG4gICAgMTA1NjE1OiAnVEEgNDAyJyxcbiAgICAxMDU3MDY6ICdDSVQgMjYyJyxcbiAgICAxMDYyNzc6ICdDSVQgMzgxJyxcbiAgICAxMDYyNzg6ICdNQSAxMDUnLFxuICAgIDEwNjI3OTogJ0NPTU0gMTUwJyxcbiAgICAxMDYyODA6ICdDSVQgMzI1JyxcbiAgICAxMDYyODE6ICdDSVQgMzUyJyxcbiAgICAxMDYyODI6ICdDT01NIDI1MCcsXG4gICAgMTA2MjgzOiAnUk0gMzcxJyxcbiAgICAxMDYyODQ6ICdDT01NIDI4OScsXG4gICAgMTA2Mjg1OiAnQ09NTSA0NTAnLFxuICAgIDEwNjI4NjogJ1JNIDM3MCcsXG4gICAgMTA2Mjg3OiAnU09DIDExMicsXG4gICAgMTA2Mjg4OiAnQUdCVVMgMTgwQScsXG4gICAgMTA2MjkwOiAnQklPIDQ3NScsXG4gICAgMTA2MjkxOiAnQklPIDM4MScsXG4gICAgMTA2MjkyOiAnSFMgMzc1JyxcbiAgICAxMDYyOTM6ICdSTSAzNzNSJyxcbiAgICAxMDYyOTQ6ICdSTSA0NzInLFxuICAgIDEwNjI5NTogJ01BIDIwNScsXG4gICAgMTA2Mjk2OiAnSFMgNDIwJyxcbiAgICAxMDYyOTc6ICdIUyAzNzgnLFxuICAgIDEwNjI5ODogJ0VORyAzNTUnLFxuICAgIDEwNjMwMDogJ01BIDExMScsXG4gICAgMTA2MzAxOiAnRU5HIDMzNScsXG4gICAgMTA2MzAzOiAnb29wcycsXG4gICAgMTA2OTg5OiAnRU5HIDI1MScsXG4gICAgMTA4MTMzOiAnQiAxMDEnLFxuICAgIDEwODEzNDogJ0ZBTUwgMTAwJyxcbiAgICAxMDgxMzU6ICdGQU1MIDIyMCcsXG4gICAgMTA4MTM2OiAnRkRFTkcgMzAxJyxcbiAgICAxMDgxMzc6ICdGRFJFTCAxMjEnLFxuICAgIDEwODEzODogJ0ZEUkVMIDEyMicsXG4gICAgMTA4MTM5OiAnRkRTQ0kgMjAzJyxcbiAgICAxMDgxNDA6ICdFTkcgMzMyJyxcbiAgICAxMDgxNDI6ICdDSVQgMTEwJyxcbiAgICAxMDgxNDM6ICdGREhVTSAxMTAnLFxuICAgIDEwODE0NDogJ0ZEU0NJIDIwMScsXG4gICAgMTA4NTk5OiAnVEEgMTE2JyxcbiAgICAxMDk2MzM6ICdGRFNDSSAxMDEnLFxuICAgIDEwOTY0MTogJ0VORyAzMTQnXG59O1xuIiwiKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBmdW5jdGlvbiB0b2dnbGVTaWduSW4oKSB7XHJcbiAgICAgICAgaWYgKCFmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7XHJcblxyXG4gICAgICAgICAgICBwcm92aWRlci5hZGRTY29wZSgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9wbHVzLmxvZ2luJyk7XHJcbiAgICAgICAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdwcm9maWxlJyk7XHJcbiAgICAgICAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdlbWFpbCcpO1xyXG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFJlZGlyZWN0KHByb3ZpZGVyKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ01hbmFnZW1lbnRBdXRoTycpO1xyXG4gICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFJvbGUodWlkLCBmdW5jKSB7XHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwidXNlcnNcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaChmdW5jdGlvbiAoY3NuYXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjc25hcC5rZXkgPT09IHVpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3NuYXAudmFsKCkucm9sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdEFwcCgpIHtcclxuICAgICAgICBmaXJlYmFzZS5hdXRoKCkuZ2V0UmVkaXJlY3RSZXN1bHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5jcmVkZW50aWFsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGdpdmVzIHlvdSBhIEdvb2dsZSBBY2Nlc3MgVG9rZW4uIFlvdSBjYW4gdXNlIGl0IHRvIGFjY2VzcyB0aGUgR29vZ2xlIEFQSS5cclxuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdC5jcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b2tlbiBudWxsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHVzZXIgPSByZXN1bHQudXNlcjtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGUsXHJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgZW1haWwgPSBlcnJvci5lbWFpbCxcclxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwgPSBlcnJvci5jcmVkZW50aWFsO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gJ2F1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCcpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdZb3UgaGF2ZSBhbHJlYWR5IHNpZ25lZCB1cCB3aXRoIGEgZGlmZmVyZW50IGF1dGggcHJvdmlkZXIgZm9yIHRoYXQgZW1haWwuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXV0aE8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogdXNlci5lbWFpbFZlcmlmaWVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiB1c2VyLnBob3RvVVJMLFxyXG4gICAgICAgICAgICAgICAgICAgIHVpZDogdXNlci51aWRcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykudGV4dENvbnRlbnQgPSAnU2lnbiBvdXQnO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHthdXRoTy51aWR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogYXV0aE8uZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGF1dGhPLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IGF1dGhPLmVtYWlsVmVyaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGF1dGhPLnBob3RvVVJMLFxyXG4gICAgICAgICAgICAgICAgICAgIHVpZDogYXV0aE8udWlkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0Um9sZShhdXRoTy51aWQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHthdXRoTy51aWR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogMCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVtcIk1hbmFnZW1lbnRBdXRoT1wiXSA9IEpTT04uc3RyaW5naWZ5KGF1dGhPKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykudGV4dENvbnRlbnQgPSAnU2lnbiBpbiB3aXRoIEdvb2dsZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrc3RhcnQtc2lnbi1pbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2lnbkluLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbml0QXBwKCk7XHJcbiAgICB9XHJcblxyXG59KCkpXHJcbiIsIi8qXHJcbmRhdGFiYXNlIGlzIGEgZ2xvYmFsIHZhcmlhYmxlXHJcbiovXHJcbihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIGxvYWRlZFVzZXJzID0gW10sXHJcbiAgICAgICAgdGltZVNwZW50ID0gW10sXHJcbiAgICAgICAgZGF0YVNhdmVkO1xyXG5cclxuICAgIC8qXHJcbiAgICBFdmVudHMgdG8gaGFuZGxlIG1vZGFsc1xyXG4gICAgKi9cclxuICAgICQoXCJhW2hyZWY9JyMnXVwiKS5jbGljaygoZSkgPT4ge1xyXG4gICAgICAgIHZhciBjbGFzc0lEID0gZS50YXJnZXQuY2xhc3NOYW1lO1xyXG5cclxuICAgICAgICBpZiAoY2xhc3NJRCA9PT0gXCJjaGVja2VkXCIpIHtcclxuICAgICAgICAgICAgJChgI25hbWVQb3B1cGApLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlcIjogXCJibG9ja1wiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKGAjJHtjbGFzc0lEfWApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcImJsb2NrXCJcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoYCNzaGFkZWApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcImJsb2NrXCJcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5jYW5jZWxcIikuY2xpY2soKGUpID0+IHtcclxuICAgICAgICB2YXIgcGFyZW50ID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgJChgI25hbWVQb3B1cGApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcIm5vbmVcIlxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQocGFyZW50KS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKCcjc2hhZGUnKS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjYXNzaWduXCIpLmNsaWNrKChlKSA9PiB7XHJcbiAgICAgICAgdmFyIGlucHV0QXNzaWduID0gJChcIltkYXRhLWNvdXJzZWlkXSA+IGlucHV0XCIpO1xyXG5cclxuICAgICAgICAkLmVhY2goaW5wdXRBc3NpZ24sIChpLCB2YWwpID0+IHtcclxuICAgICAgICAgICAgdmFyIHN0dWRlbnRBc3NpZ25tZW50ID0gdmFsLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgY291cnNlSUQgPSB2YWwucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvdXJzZWlkXCIpO1xyXG5cclxuICAgICAgICAgICAgZGF0YWJhc2UucmVmKGB1c2Vyc2ApLm9uY2UoXCJ2YWx1ZVwiLCAoc25hcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJzID0gc25hcC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzbmFwLmZvckVhY2goKGNzbmFwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBjc25hcC52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3R1ZGVudEFzc2lnbm1lbnQgPT09IHVzZXIuZGlzcGxheU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVpZCA9IGNzbmFwLmtleTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLnJlZihgTWFyaydzIFRvb2wvJHtjb3Vyc2VJRH1gKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGVja2VyXCI6IHVpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsLnBhcmVudEVsZW1lbnQpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0QXNzaWduW2ldLnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKlxyXG4gICAgVGhlIHVzZXJTZWxlY3QsIHVuY2hlY2tvdXQsIHBvcHVsYXRlQ2hlY2ssIGFuZCBjaGVja2VkXHJcbiAgICBhcmUgYWxsIHVzZWQgZm9yIHRoZSBjaGVja291dCBmZWF0dXJlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHVzZXJTZWxlY3QoKSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gJChcIjxpbnB1dD48L2lucHV0PlwiKTtcclxuXHJcbiAgICAgICAgaW5wdXQua2V5dXAoKGUpID0+IHtcclxuICAgICAgICAgICAgJChcIiN1c2VyTmFtZXNcIikuaHRtbChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpbnB1dFZhbCA9IGUudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnB1dCA9IGUudGFyZ2V0XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvYWRlZFVzZXJzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZFVzZXJzW2ldLmluY2x1ZGVzKGlucHV0VmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhID0gJChgPHA+JHtsb2FkZWRVc2Vyc1tpXX08L3A+YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmEuYXR0cihcImlkXCIsIFwiZW1wTmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoc2VsZWN0ZWRJbnB1dCkudmFsKGUudGFyZ2V0LmlubmVyVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjdXNlck5hbWVzXCIpLmFwcGVuZChwYXJhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuY2hlY2tvdXQoZSkge1xyXG4gICAgICAgIHZhciBjbGlja2VkRWxlbWVudCA9IGUudGFyZ2V0LFxyXG4gICAgICAgICAgICBjb3Vyc2VJRCA9ICQoY2xpY2tlZEVsZW1lbnQpLmF0dHIoXCJkYXRhLWNvdXJzZWlkXCIpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhjbGlja2VkRWxlbWVudCwgY291cnNlSUQsIGNsaWNrZWRFbGVtZW50LnBhcmVudEVsZW1lbnQpO1xyXG5cclxuICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7Y291cnNlSUR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgY2hlY2tlcjogXCJcIlxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQoY2xpY2tlZEVsZW1lbnQpLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcIm5vbmVcIixcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBSdW5zIHRoZSBkYXRhIGZvciB0aGUgY2hlY2tlZCBNb2RhbFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHBvcHVsYXRlQ2hlY2soY2QsIGNuLCB0YXIpIHtcclxuICAgICAgICB2YXIgcG9wdWxhdGUgPSAkKGAjJHt0YXJ9YCksXHJcbiAgICAgICAgICAgIGNvdXJzZU5hbWUgPSAkKGA8bGFiZWwgZGF0YS1jb3Vyc2VJRD1cIiR7Y259XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7Y2RbJ0xpbmsnXX1cIj4ke2NvcnJEYXRhW2NuXX08L2E+PC9sYWJlbD5gKSxcclxuICAgICAgICAgICAgaW5wdXQsXHJcbiAgICAgICAgICAgIHRpbWVzID0gJChcIjxwPiAmdGltZXM7PC9wPlwiKTtcclxuXHJcbiAgICAgICAgaWYgKGNkLmNoZWNrZXIgIT09IFwiXCIgJiYgdGFyID09PSBcImNoZWNrZWRPdXRcIikge1xyXG4gICAgICAgICAgICBkYXRhYmFzZS5yZWYoYHVzZXJzLyR7Y2QuY2hlY2tlcn1gKS5vbmNlKFwidmFsdWVcIiwgKHNuYXApID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHNuYXAudmFsKCkuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRpbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY3Vyc29yXCI6IFwicG9pbnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2xpY2sodW5jaGVja291dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY291cnNlTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoYDxwPiR7ZGlzcGxheU5hbWV9PC9wPmApXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0aW1lcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFyID09PSBcInVuYXNzaWduZWRcIikge1xyXG4gICAgICAgICAgICBpbnB1dCA9IHVzZXJTZWxlY3QoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvdXJzZU5hbWUuYXBwZW5kKGlucHV0KTtcclxuXHJcbiAgICAgICAgcG9wdWxhdGUuYXBwZW5kKGNvdXJzZU5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBSdW5zIHRoZSBkYXRhIGZvciB0aGUgZmluaXNoZWQgbW9kYWwuICBTZWUgd2hpY2ggY291cnNlc1xyXG4gICAgaGF2ZSBhIFwiU3R1ZGVudCBBcHByb3ZlZFwiIGFuZCBhIFwiRGVzaWduZXIgQXBwcm92YWxcIlxyXG4gICAgb24gdGhlaXIgc3RhdHVzIG5vZGUgaW4gdGhlIGRhdGFiYXNlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcHJvdmVkKGUpIHtcclxuICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQsXHJcbiAgICAgICAgICAgIGNvdXJzZUlEID0gcGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvdXJzZWlkXCIpO1xyXG5cclxuICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7Y291cnNlSUR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgc3RhdHVzOiBcIkRlc2lnbmVyIEFwcHJvdmVkXCJcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBlLnRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHN0YXR1c0Z1bmN0aW9ucyA9IHtcclxuICAgICAgICBcIlN0dWRlbnQgQXBwcm92ZWRcIjogKGNkLCBjbikgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSAkKGA8bGFiZWwgZGF0YS1jb3Vyc2VJRD1cIiR7Y259XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7Y2RbJ0xpbmsnXX1cIj4ke2NvcnJEYXRhW2NuXX08L2E+PC9sYWJlbD5gKSxcclxuICAgICAgICAgICAgICAgIGNoZWNrID0gJChgPHNwYW4+JiN4MjcxMzs8L3NwYW4+YCk7XHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICBQdXNoLmNyZWF0ZSgnTmV3IFN0dWRlbnQgQXBwcm92YWwhJywge1xyXG4gICAgICAgICAgICAgICAgXCJib2R5XCI6IGAke2NvcnJEYXRhW2NuXX0gaXMgcmVhZHkuYCxcclxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDcwMDBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgICQoY2hlY2spXHJcbiAgICAgICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBcImN1cnNvclwiOiBcInBvaW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jbGljayhhcHByb3ZlZCk7XHJcblxyXG4gICAgICAgICAgICAkKGxhYmVsKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChjaGVjayk7XHJcblxyXG4gICAgICAgICAgICAkKFwiI2NvbXBsZXRlZFwiKS5hcHBlbmQobGFiZWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJEZXNpZ25lciBBcHByb3ZlZFwiOiAoY2QsIGNuKSA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjYXBwcm92ZWRcIikuYXBwZW5kKGA8bGFiZWwgZGF0YS1jb3Vyc2VJRD1cIiR7Y259XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7Y2RbJ0xpbmsnXX1cIj4ke2NvcnJEYXRhW2NuXX08L2E+PC9sYWJlbD5gKTtcclxuICAgICAgICB9LFxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBTY3JpcHQgZm9yIGNvZGluZyB0aGUgcmVwb3J0IGdyYXBocy5cclxuICAgICovXHJcblxyXG4gICAgLy8gICAgZm9yIGRldmVsb3BtZW50IG9mIGNoYXJ0IGdyYXBoc1xyXG4gICAgLy8gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGF0c1wiKS5jbGljaygpO1xyXG5cclxuICAgIC8qRGVmYXVsdCBzZXR0aW5ncyBmb3IgdGhlIHR3byBncmFwaHMqL1xyXG4gICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnRGF0YSBTYXZlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoNzUsMTkyLDE5MiwwLjQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwicmdiYSgzMywgOTgsIDk4LCAwLjQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogLTEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogMTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVGltZSBTcGVudFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDIzLCA1NiwgMjM0LCAwLjQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwicmdiYSgwLCAxMSwgNzIsIDAuNClcIixcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiAtMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAxMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IDksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgc2NhbGVzOiB7XHJcbiAgICAgICAgICAgICAgICB4QXhlczogW3tcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogJ01vbnRocydcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICB5QXhlczogW3tcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlTGFiZWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxTdHJpbmc6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgLypSZXRyaWV2ZSB0aGUgZGF0YSBmb3IgYW1vdW50IG9mIGRhdGEgc2F2ZWQqL1xyXG4gICAgZnVuY3Rpb24gY2hhcnRzKCkge1xyXG4gICAgICAgIHZhciBjdHggPSAkKFwiLmNoYXJ0XCIpLFxyXG4gICAgICAgICAgICBteUxpbmVDaGFydCA9IG5ldyBDaGFydChjdHgsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRVc2VycygpIHtcclxuICAgICAgICAvKkxvYWQgYWxsIHRoZSB1c2VycyBmcm9tIHRoZSBkYXRhYmFzZSovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwidXNlcnNcIikub25jZShcInZhbHVlXCIsIChzbmFwKSA9PiB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaCgoY3NuYXApID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gY3NuYXAudmFsKCkuZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICBsb2FkZWRVc2Vycy5wdXNoKG5hbWUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRDaGFydERhdGEoKSB7XHJcblxyXG4gICAgICAgIHZhciBtb250aHMgPSBbXHJcbiAgICAgICAgICAgICAgICBcIkphblwiLFxyXG4gICAgICAgICAgICAgICAgXCJGZWJcIixcclxuICAgICAgICAgICAgICAgIFwiTWFyXCIsXHJcbiAgICAgICAgICAgICAgICBcIkFwclwiLFxyXG4gICAgICAgICAgICAgICAgXCJNYXlcIixcclxuICAgICAgICAgICAgICAgIFwiSnVuXCIsXHJcbiAgICAgICAgICAgICAgICBcIkp1bFwiLFxyXG4gICAgICAgICAgICAgICAgXCJBdWdcIixcclxuICAgICAgICAgICAgICAgIFwiU2VwdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJPY3RcIixcclxuICAgICAgICAgICAgICAgIFwiTm92XCIsXHJcbiAgICAgICAgICAgICAgICBcIkRlY1wiXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBudW1EYXkgPSBkYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgICAgbW9udGhEaWcgPSBkYXRlLmdldE1vbnRoKCksXHJcbiAgICAgICAgICAgIG1vbnRoID0gbW9udGhzW21vbnRoRGlnXTtcclxuXHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgVElNRSBHQVRIRVJFUiBEQVRBXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIjZcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJsYWJlbFwiOiBcIkp1bFwiXHJcbiAgICAgICAgICAgICAgICBcInRvdGFsXCI6IDQ1NixcclxuICAgICAgICAgICAgICAgIFwiZW50cmllc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJQVVNIX0lEXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aW1lXCI6IDI0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdHRlclwiOiBcIkFuZHJld1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBEQVRBIFNBVkVEXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcImRhdGFfc2F2ZWRcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJtb250aFwiOiBcIjZcIixcclxuICAgICAgICAgICAgICAgIFwiYW1vdW50XCI6IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG5cclxuICAgICAgICAvKkRBVEEgU0FWRUQqL1xyXG4gICAgICAgIGRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uY2UoXCJ2YWx1ZVwiLCAoc25hcCkgPT4ge1xyXG4gICAgICAgICAgICBzbmFwLmZvckVhY2goKGNzbmFwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291cnNlRGF0YSA9IGNzbmFwLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFTYXZlZCA9IGNvdXJzZURhdGFbXCJkYXRhX3NhdmVkXCJdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZGF0YVNhdmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gK2RhdGFTYXZlZFtpXS5tb250aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50ID0gK2RhdGFTYXZlZFtpXS5hbW91bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInhcIjogbW9udGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInlcIjogYW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFTYXZlZC5wdXNoKGNvb3IpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIC8qVElNRSBHQVRIRVJFUiovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIChzbmFwKSA9PiB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaCgoY3NuYXApID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjb3Vyc2VEYXRhID0gY3NuYXAudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZURhdGEgPSBjb3Vyc2VEYXRhW1widGltZV9zcGVudFwiXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHRpbWVEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVEYXRhID0gK3RpbWVEYXRhW2ldLnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1Nb250aCA9ICtpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ4XCI6IG51bU1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ5XCI6IHRpbWVEYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVTcGVudC5wdXNoKGNvb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIERldGVybWluZSB0aGF0IHRoZSBsb2NhdGlvbiBpcyB0aGUgYWRtaW4gcGFnZSBhbmQgbG9hZFxyXG4gICAgYWxsIG9mIHRoZSBkYXRhIHdpdGggdGhlIGFkbWluaXN0cmF0b3Igcm9sZS5cclxuICAgICovXHJcbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoXCJhZG1pblwiKSkge1xyXG5cclxuICAgICAgICBsb2FkVXNlcnMoKTtcclxuICAgICAgICAvLyAgICAgICAgbG9hZENoYXJ0RGF0YSgpO1xyXG5cclxuICAgICAgICAvKkxvYWQgdGhlIGNoZWNrZWQgb3V0IGRhdGEqL1xyXG4gICAgICAgIGRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uKFwiY2hpbGRfYWRkZWRcIiwgKGNzbmFwKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBjb3Vyc2VEYXRhID0gY3NuYXAudmFsKCksXHJcbiAgICAgICAgICAgICAgICBjb3Vyc2VOYW1lID0gY3NuYXAua2V5LFxyXG4gICAgICAgICAgICAgICAgbm90aGluZyA9IFwiVGhlcmUgaXMgbm90aGluZyBoZXJlIVwiO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjb3Vyc2VEYXRhLnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NvdXJzZU5hbWV9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiUGVuZGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVfc3BlbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVkOiBcIkZhbHNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YV9zYXZlZDogMCxcclxuICAgICAgICAgICAgICAgICAgICBjaGVja2VyOiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNvdXJzZURhdGFbXCJDb250ZW50IFBhZ2VzXCJdICE9PSBub3RoaW5nIHx8IGNvdXJzZURhdGFbXCJRdWl6emVzXCJdICE9PSBub3RoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291cnNlRGF0YS5zdGF0dXMgPT09IFwiUGVuZGluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291cnNlRGF0YS5jaGVja2VyID8gcG9wdWxhdGVDaGVjayhjb3Vyc2VEYXRhLCBjb3Vyc2VOYW1lLCBcImNoZWNrZWRPdXRcIikgOiBwb3B1bGF0ZUNoZWNrKGNvdXJzZURhdGEsIGNvdXJzZU5hbWUsIFwidW5hc3NpZ25lZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8qTG9hZCBjb3Vyc2UgZGF0YSBpbnRvIGNoZWNrZWQgb3V0IHdoZW4gY2hpbGQgY2hhbmdlZCovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub24oXCJjaGlsZF9jaGFuZ2VkXCIsIChzbmFwKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gc25hcC52YWwoKSxcclxuICAgICAgICAgICAgICAgIGRhdGFOYW1lID0gc25hcC5rZXk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT2NjdXJpbmdcIik7XHJcblxyXG4gICAgICAgICAgICBwb3B1bGF0ZUNoZWNrKGRhdGEsIGRhdGFOYW1lLCBcImNoZWNrZWRPdXRcIilcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvKkxvYWQgYW55IGZpbmlzaGVkIG9yIGFwcHJvdmVkIGNvdXJzZXMqL1xyXG4gICAgICAgIGRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uY2UoXCJ2YWx1ZVwiLCAoc25hcCkgPT4ge1xyXG4gICAgICAgICAgICBzbmFwLmZvckVhY2goKGNzbmFwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291cnNlRGF0YSA9IGNzbmFwLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb3Vyc2VEYXRhLnN0YXR1cyA9PT0gXCJEZXNpZ25lciBBcHByb3ZlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzRnVuY3Rpb25zW1wiRGVzaWduZXIgQXBwcm92ZWRcIl0oY291cnNlRGF0YSwgY3NuYXAua2V5KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291cnNlRGF0YS5Db21wbGV0ZWQgPT09IFwiVHJ1ZVwiIHx8IGNvdXJzZURhdGEuc3RhdHVzID09PSBcIlN0dWRlbnQgQXBwcm92ZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0Z1bmN0aW9uc1tcIlN0dWRlbnQgQXBwcm92ZWRcIl0oY291cnNlRGF0YSwgY3NuYXAua2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjaGFydHMoKTtcclxuXHJcbiAgICAgICAgdXNlclNlbGVjdCgpO1xyXG4gICAgfVxyXG5cclxufSgpKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7IiwiKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBhdXRoRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWydNYW5hZ2VtZW50QXV0aE8nXSkgfHwgXCJcIixcbiAgICAgICAgcm9sZSxcbiAgICAgICAgbmF2ID0gJChcIm5hdlwiKSxcbiAgICAgICAgaG9tZUJ1dHRvbiA9ICQoXCI8YnV0dG9uPkhvbWU8L2J1dHRvbj5cIiksXG4gICAgICAgIGFkbWluQnV0dG9uO1xuXG4gICAgaG9tZUJ1dHRvbi5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcm9vdCA9IGxvY2F0aW9uLm9yaWdpbjtcbiAgICAgICAgbG9jYXRpb24uYXNzaWduKGAke3Jvb3R9L2luZGV4Lmh0bWxgKTtcbiAgICB9KTtcblxuICAgIG5hdi5hcHBlbmQoaG9tZUJ1dHRvbik7XG5cbiAgICBkYXRhYmFzZS5yZWYoYHVzZXJzLyR7YXV0aERhdGEudWlkfWApLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAoc25hcCkge1xuICAgICAgICByb2xlID0gc25hcC52YWwoKS5yb2xlLFxuICAgICAgICBhZG1pbkJ1dHRvbiA9ICQoXCI8YnV0dG9uPkFkbWluPC9idXR0b24+XCIpO1xuXG4gICAgICAgIGlmIChyb2xlID49IDgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBsb2dnZWQgaW4gaXMgQWRtaW5pc3RyYXRvclwiKTtcblxuICAgICAgICAgICAgYWRtaW5CdXR0b24uY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxpXCIpXG5cbiAgICAgICAgICAgICAgICB2YXIgcGFnZSA9IGUudGFyZ2V0LmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICByb290ID0gbG9jYXRpb24ub3JpZ2luO1xuXG4gICAgICAgICAgICAgICAgbG9jYXRpb24uYXNzaWduKGAke3Jvb3R9LyR7cGFnZX0uaHRtbGApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5hdi5hcHBlbmQoYWRtaW5CdXR0b24pO1xuICAgICAgICB9XG4gICAgfSk7XG59KCkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
