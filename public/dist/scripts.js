"use strict";var config={apiKey:"AIzaSyCRfRp20kEkpwO1Bs30sDyBkC4Qf-rsuNM",authDomain:"course-file-auditor.firebaseapp.com",databaseURL:"https://course-file-auditor.firebaseio.com",storageBucket:"course-file-auditor.appspot.com"};firebase.initializeApp(config);var database=firebase.database();
"use strict";var corrData={16149:"HFED 340",16150:"B 275",16152:"B 101",16153:"B 424",16154:"B 380",16155:"B 129",16156:"B 100",16158:"B 499A",16161:"B 448",16162:"FHGEN 270",16164:"FAML 360",16165:"FAML 430",16166:"HFED 101",16167:"ME 201",16170:"B 183",16173:"FHGEN 251D",16175:"FHGEN 112",16176:"B 211",16177:"FAML 460",16178:"FHGEN 120",16179:"B 250",16180:"FAML 400",16181:"FHGEN 160",16182:"FHGEN 211",16183:"FAML 445",16185:"B 283",16187:"FHGEN 130",16188:"FHGEN 399",16189:"B 401",16190:"FHGEN 251A",16191:"FAML 498R",16192:"B 341",16193:"FHGEN 251B",16195:"FHGEN 251C",16196:"B 370",16197:"CHILD 320",16198:"FHGEN 252B",16199:"B 301",16200:"FAML 300",16201:"FHGEN 212",16202:"B 321",16203:"oops",16204:"FHGEN 140",16205:"B 361",16207:"FDMAT 112",16208:"CHILD 300",16209:"FAML 100",16211:"CHILD 210",16212:"B 424D",16213:"ECON 150",16214:"AGBUS 105",16215:"FHGEN 111",16216:"FAML 160",16218:"B 100",16219:"ECON 151",16221:"B 410",19492:"B 428",23800:"CS 313",23801:"FDHUM 110",33923:"B 499B",40664:"FAML 200",42377:"FDMAT 108",50273:"HS 390",50274:"FDWLD 201",50275:"ENG 252",50276:"FDINT 211",50277:"FDWLD 101",50279:"ANTH 101",50281:"CIT 370",50283:"FDSCI 101",50284:"ED 200",50286:"FDSCI 201",50289:"AUTO 125",50290:"HS 310",57713:"POLSC 110",57714:"CIT 230",58369:"BIO 265L",58371:"COMM 273",58372:"BIO 264L",59655:"HS 280",59656:"COMM 175",59657:"CIT 160",59658:"FDENG 301",59659:"COMM 125",61065:"FDSCI 203",61373:"NUTR 150",61374:"MA 106",61375:"HS 285",61376:"PSYCH 112",61377:"CIT 110",61378:"WDD 100",61380:"CIT 111",61381:"CIT 336",61908:"PSYCH 111",61909:"ED 312",61910:"FDSCI 205",61911:"CIT 240",61920:"HS 391",61928:"SOC 111",61929:"MATH 221A",62216:"HRHP 131",62217:"MATH 221C",62218:"COMM 130",62453:"COMM 102",62586:"MATH 221B",63193:"B 220",63194:"CIT 260",63195:"HS 320",63196:"HS 370",63419:"CIT 225",63581:"FAML 220",63921:"PSYCH 201",67126:"HS 460",67127:"BIO 221",67128:"HS 465",67129:"COMM 310",67130:"HS 401",67131:"HS 425",67132:"CIT 241",67133:"PSYCH 302",67134:"COMM 111",67135:"PSYCH 311",67136:"POLSC 150",67138:"HS 345",67139:"ED 202",67140:"RM 304",74838:"COMM 307",81222:"CHILD 310",81805:"CIT 261",99480:"HS 240",99482:"AGBUS 138",99483:"BIO 375",99484:"FDREL 100",99485:"POLSC 170",99486:"RM 307",99487:"ENG 325",99488:"COMM 352",99489:"RM 471",99530:"BIO 265",100806:"MA 107",100807:"BIO 264",105615:"TA 402",105706:"CIT 262",106277:"CIT 381",106278:"MA 105",106279:"COMM 150",106280:"CIT 325",106281:"CIT 352",106282:"COMM 250",106283:"RM 371",106284:"COMM 289",106285:"COMM 450",106286:"RM 370",106287:"SOC 112",106288:"AGBUS 180A",106290:"BIO 475",106291:"BIO 381",106292:"HS 375",106293:"RM 373R",106294:"RM 472",106295:"MA 205",106296:"HS 420",106297:"HS 378",106298:"ENG 355",106300:"MA 111",106301:"ENG 335",106303:"oops",106989:"ENG 251",108133:"B 101",108134:"FAML 100",108135:"FAML 220",108136:"FDENG 301",108137:"FDREL 121",108138:"FDREL 122",108139:"FDSCI 203",108140:"ENG 332",108142:"CIT 110",108143:"FDHUM 110",108144:"FDSCI 201",108599:"TA 116",109633:"FDSCI 101",109641:"ENG 314"};
"use strict";!function(){function e(){if(firebase.auth().currentUser)localStorage.removeItem("ManagementAuthO"),firebase.auth().signOut();else{var e=new firebase.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/plus.login"),e.addScope("profile"),e.addScope("email"),firebase.auth().signInWithRedirect(e)}document.getElementById("quickstart-sign-in").disabled=!0}function t(e,t){database.ref("users").once("value",function(i){i.forEach(function(i){i.key===e&&(i.val().role||t())})})}function i(){firebase.auth().getRedirectResult().then(function(e){if(e.credential){var t=e.credential.accessToken;location.reload(),console.log(t)}e.user})["catch"](function(e){var t=e.code;e.message,e.email,e.credential;"auth/account-exists-with-different-credential"===t?alert("You have already signed up with a different auth provider for that email."):console.error(e)}),firebase.auth().onAuthStateChanged(function(e){if(e){var i={displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL,uid:e.uid};document.getElementById("quickstart-sign-in").textContent="Sign out",database.ref("users/"+i.uid).update({displayName:i.displayName,email:i.email,emailVerified:i.emailVerified,photoURL:i.photoURL,uid:i.uid}),t(i.uid,function(){database.ref("users/"+i.uid).update({role:0})}),localStorage.ManagementAuthO=JSON.stringify(i)}else document.getElementById("quickstart-sign-in").textContent="Sign in with Google";document.getElementById("quickstart-sign-in").disabled=!1}),document.getElementById("quickstart-sign-in").addEventListener("click",e,!1)}window.onload=function(){i()}}();
"use strict";!function(){function a(){var a=$("<input></input>");return a.keyup(function(a){$("#userNames").html("");for(var e=a.target.value,n=a.target,t=0;t<o.length;t++)if(o[t].includes(e)){var r=$("<p>"+o[t]+"</p>");r.attr("id","empName").click(function(a){$(n).val(a.target.innerText)}),$("#userNames").append(r)}}),a}function e(a){var e=a.target,n=$(e).attr("data-courseid");database.ref("Mark's Tool/"+n).update({checker:""}),$(a.target).css({display:"none"})}function n(n,t,r){var c,s=$("#"+r),o=$('<label data-courseID="'+t+'"><a target="_blank" href="'+n.Link+'">'+corrData[t]+"</a></label>");""!==n.checker&&"checkedOut"===r&&database.ref("users/"+n.checker).once("value",function(a){var n=a.val().displayName;o.append("<p>"+n+"</p>").append(" &times;").css({cursor:"pointer"}).click(e)}),"unassigned"===r&&(c=a()),o.append(c),s.append(o)}function t(){database.ref("Mark's Tool").on("value",function(a){a.forEach(function(a){var e=a.val(),t=a.key,r="There is nothing here!";e["Content Pages"]===r&&e.Quizzes===r||"Pending"===e.status&&(e.checker?n(e,t,"checkedOut"):n(e,t,"unassigned"))})})}function r(a){var e=a.target.parentElement,n=e.getAttribute("data-courseid");database.ref("Mark's Tool/"+n).update({status:"Designer Approved"}),a.target.style.display="none"}function c(){database.ref("Mark's Tool").once("value",function(a){a.forEach(function(a){var e=a.val(),n=e.Completed,t=e.status;"Designer Approved"===t?i[t](e,a.key):"True"===n&&i["Student Approved"](e,a.key)})})}function s(){database.ref("users").once("value",function(a){a.forEach(function(a){var e=a.val().displayName;o.push(e)})})}var o=[];$("a").click(function(a){var e=a.target.className;$("#"+e).css({display:"block"}),$("#shade").css({display:"block"})}),$(".checked").click(function(a){$("#namePopup").css({display:"block"})}),$(".cancel").click(function(a){var e=a.target.parentElement;$(e).css({display:"none"}),$("#shade").css({display:"none"}),$("#namePopup").css({display:"none"})}),$("#assign").click(function(a){var e,n=$("[data-courseid] > input");$.each(n,function(a,n){var t=n.value,r=n.parentElement.getAttribute("data-courseid");database.ref("users").once("value",function(a){e=a.val();for(var n in e)e[n].displayName===t&&database.ref("Mark's Tool/"+r).update({checker:e[n].uid})})})});var i={"Student Approved":function(a,e){var n=$('<label data-courseID="'+e+'"><a target="_blank" href="'+a.Link+'">'+corrData[e]+"</a></label>"),t=$("<span>&#x2713;</span>");$(t).css({cursor:"pointer"}).click(r),$(n).append(t),$("#completed").append(n)},"Designer Approved":function(a,e){$("#approved").append('<label data-courseID="'+e+'"><a target="_blank" href="'+a.Link+'">'+corrData[e]+"</a></label>")}};location.pathname.includes("admin")&&(s(),t(),c(),a())}();
"use strict";
"use strict";!function(){var n,o,t=JSON.parse(localStorage.ManagementAuthO)||"",i=$("nav"),a=$("<button>Home</button>");a.click(function(n){var o=location.origin;location.assign(o+"/index.html")}),i.append(a),database.ref("users/"+t.uid).once("value",function(t){n=t.val().role,o=$("<button>Admin</button>"),n>=8&&(console.log("User logged in is Administrator"),o.click(function(n){console.log("li");var o=n.target.innerText.toLowerCase(),t=location.origin;location.assign(t+"/"+o+".html")}),i.append(o))})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyIsImNvdXJzZV9uYW1lLmpzIiwibG9naW4uanMiLCJhZG1pbi5qcyIsImRhdGFfbmF2LmpzIiwibmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiZGF0YWJhc2UiLCJjb3JyRGF0YSIsIjE2MTQ5IiwiMTYxNTAiLCIxNjE1MiIsIjE2MTUzIiwiMTYxNTQiLCIxNjE1NSIsIjE2MTU2IiwiMTYxNTgiLCIxNjE2MSIsIjE2MTYyIiwiMTYxNjQiLCIxNjE2NSIsIjE2MTY2IiwiMTYxNjciLCIxNjE3MCIsIjE2MTczIiwiMTYxNzUiLCIxNjE3NiIsIjE2MTc3IiwiMTYxNzgiLCIxNjE3OSIsIjE2MTgwIiwiMTYxODEiLCIxNjE4MiIsIjE2MTgzIiwiMTYxODUiLCIxNjE4NyIsIjE2MTg4IiwiMTYxODkiLCIxNjE5MCIsIjE2MTkxIiwiMTYxOTIiLCIxNjE5MyIsIjE2MTk1IiwiMTYxOTYiLCIxNjE5NyIsIjE2MTk4IiwiMTYxOTkiLCIxNjIwMCIsIjE2MjAxIiwiMTYyMDIiLCIxNjIwMyIsIjE2MjA0IiwiMTYyMDUiLCIxNjIwNyIsIjE2MjA4IiwiMTYyMDkiLCIxNjIxMSIsIjE2MjEyIiwiMTYyMTMiLCIxNjIxNCIsIjE2MjE1IiwiMTYyMTYiLCIxNjIxOCIsIjE2MjE5IiwiMTYyMjEiLCIxOTQ5MiIsIjIzODAwIiwiMjM4MDEiLCIzMzkyMyIsIjQwNjY0IiwiNDIzNzciLCI1MDI3MyIsIjUwMjc0IiwiNTAyNzUiLCI1MDI3NiIsIjUwMjc3IiwiNTAyNzkiLCI1MDI4MSIsIjUwMjgzIiwiNTAyODQiLCI1MDI4NiIsIjUwMjg5IiwiNTAyOTAiLCI1NzcxMyIsIjU3NzE0IiwiNTgzNjkiLCI1ODM3MSIsIjU4MzcyIiwiNTk2NTUiLCI1OTY1NiIsIjU5NjU3IiwiNTk2NTgiLCI1OTY1OSIsIjYxMDY1IiwiNjEzNzMiLCI2MTM3NCIsIjYxMzc1IiwiNjEzNzYiLCI2MTM3NyIsIjYxMzc4IiwiNjEzODAiLCI2MTM4MSIsIjYxOTA4IiwiNjE5MDkiLCI2MTkxMCIsIjYxOTExIiwiNjE5MjAiLCI2MTkyOCIsIjYxOTI5IiwiNjIyMTYiLCI2MjIxNyIsIjYyMjE4IiwiNjI0NTMiLCI2MjU4NiIsIjYzMTkzIiwiNjMxOTQiLCI2MzE5NSIsIjYzMTk2IiwiNjM0MTkiLCI2MzU4MSIsIjYzOTIxIiwiNjcxMjYiLCI2NzEyNyIsIjY3MTI4IiwiNjcxMjkiLCI2NzEzMCIsIjY3MTMxIiwiNjcxMzIiLCI2NzEzMyIsIjY3MTM0IiwiNjcxMzUiLCI2NzEzNiIsIjY3MTM4IiwiNjcxMzkiLCI2NzE0MCIsIjc0ODM4IiwiODEyMjIiLCI4MTgwNSIsIjk5NDgwIiwiOTk0ODIiLCI5OTQ4MyIsIjk5NDg0IiwiOTk0ODUiLCI5OTQ4NiIsIjk5NDg3IiwiOTk0ODgiLCI5OTQ4OSIsIjk5NTMwIiwiMTAwODA2IiwiMTAwODA3IiwiMTA1NjE1IiwiMTA1NzA2IiwiMTA2Mjc3IiwiMTA2Mjc4IiwiMTA2Mjc5IiwiMTA2MjgwIiwiMTA2MjgxIiwiMTA2MjgyIiwiMTA2MjgzIiwiMTA2Mjg0IiwiMTA2Mjg1IiwiMTA2Mjg2IiwiMTA2Mjg3IiwiMTA2Mjg4IiwiMTA2MjkwIiwiMTA2MjkxIiwiMTA2MjkyIiwiMTA2MjkzIiwiMTA2Mjk0IiwiMTA2Mjk1IiwiMTA2Mjk2IiwiMTA2Mjk3IiwiMTA2Mjk4IiwiMTA2MzAwIiwiMTA2MzAxIiwiMTA2MzAzIiwiMTA2OTg5IiwiMTA4MTMzIiwiMTA4MTM0IiwiMTA4MTM1IiwiMTA4MTM2IiwiMTA4MTM3IiwiMTA4MTM4IiwiMTA4MTM5IiwiMTA4MTQwIiwiMTA4MTQyIiwiMTA4MTQzIiwiMTA4MTQ0IiwiMTA4NTk5IiwiMTA5NjMzIiwiMTA5NjQxIiwidG9nZ2xlU2lnbkluIiwiYXV0aCIsImN1cnJlbnRVc2VyIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNpZ25PdXQiLCJwcm92aWRlciIsIkdvb2dsZUF1dGhQcm92aWRlciIsImFkZFNjb3BlIiwic2lnbkluV2l0aFJlZGlyZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRpc2FibGVkIiwic2V0Um9sZSIsInVpZCIsImZ1bmMiLCJyZWYiLCJvbmNlIiwic25hcCIsImZvckVhY2giLCJjc25hcCIsImtleSIsInZhbCIsInJvbGUiLCJpbml0QXBwIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsInRva2VuIiwiYWNjZXNzVG9rZW4iLCJsb2NhdGlvbiIsInJlbG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJjb2RlIiwibWVzc2FnZSIsImVtYWlsIiwiYWxlcnQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJhdXRoTyIsImRpc3BsYXlOYW1lIiwiZW1haWxWZXJpZmllZCIsInBob3RvVVJMIiwidGV4dENvbnRlbnQiLCJ1cGRhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsIm9ubG9hZCIsInVzZXJTZWxlY3QiLCJpbnB1dCIsIiQiLCJrZXl1cCIsImUiLCJodG1sIiwiaW5wdXRWYWwiLCJ0YXJnZXQiLCJ2YWx1ZSIsInNlbGVjdGVkSW5wdXQiLCJpIiwibG9hZGVkVXNlcnMiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInBhcmEiLCJhdHRyIiwiY2xpY2siLCJpbm5lclRleHQiLCJhcHBlbmQiLCJ1bmNoZWNrb3V0IiwiY2xpY2tlZEVsZW1lbnQiLCJjb3Vyc2VJRCIsImNoZWNrZXIiLCJjc3MiLCJkaXNwbGF5IiwicG9wdWxhdGVDaGVjayIsImNkIiwiY24iLCJ0YXIiLCJwb3B1bGF0ZSIsImNvdXJzZU5hbWUiLCJjdXJzb3IiLCJjaGVja2VkIiwib24iLCJjb3Vyc2VEYXRhIiwibm90aGluZyIsInN0YXR1cyIsImFwcHJvdmVkIiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInN0eWxlIiwiZmluaXNoZWQiLCJjb21wbGV0ZWQiLCJDb21wbGV0ZWQiLCJzdGF0dXNGdW5jdGlvbnMiLCJsb2FkVXNlcnMiLCJuYW1lIiwicHVzaCIsImNsYXNzSUQiLCJjbGFzc05hbWUiLCJwYXJlbnQiLCJ1c2Vyc0xpc3QiLCJpbnB1dEFzc2lnbiIsImVhY2giLCJ1c2VyTmFtZSIsImlkIiwiU3R1ZGVudCBBcHByb3ZlZCIsImxhYmVsIiwiY2hlY2siLCJEZXNpZ25lciBBcHByb3ZlZCIsInBhdGhuYW1lIiwiYWRtaW5CdXR0b24iLCJhdXRoRGF0YSIsInBhcnNlIiwibmF2IiwiaG9tZUJ1dHRvbiIsInJvb3QiLCJvcmlnaW4iLCJhc3NpZ24iLCJwYWdlIiwidG9Mb3dlckNhc2UiXSwibWFwcGluZ3MiOiJBQUFBLFlBQUEsSUFBSUEsU0FDQUMsT0FBUSwwQ0FDUkMsV0FBWSxzQ0FDWkMsWUFBYSw2Q0FDYkMsY0FBZSxrQ0FFbkJDLFVBQVNDLGNBQWNOLE9BRXZCLElBQUlPLFVBQVdGLFNBQVNFO0FDUnhCLFlBQUEsSUFBSUMsV0FDQUMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxRQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxRQUNQQyxNQUFPLFNBQ1BDLE1BQU8sUUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sV0FDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sUUFDUEMsTUFBTyxhQUNQQyxNQUFPLFlBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sYUFDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sYUFDUEMsTUFBTyxhQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxhQUNQQyxNQUFPLFFBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sT0FDUEMsTUFBTyxZQUNQQyxNQUFPLFFBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxTQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sUUFDUEMsTUFBTyxXQUNQQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sU0FDUEMsTUFBTyxXQUNQQyxNQUFPLFlBQ1BDLE1BQU8sU0FDUEMsTUFBTyxZQUNQQyxNQUFPLFVBQ1BDLE1BQU8sWUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxVQUNQQyxNQUFPLFdBQ1BDLE1BQU8sV0FDUEMsTUFBTyxXQUNQQyxNQUFPLFNBQ1BDLE1BQU8sV0FDUEMsTUFBTyxVQUNQQyxNQUFPLFlBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFlBQ1BDLE1BQU8sVUFDUEMsTUFBTyxVQUNQQyxNQUFPLFVBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sWUFDUEMsTUFBTyxVQUNQQyxNQUFPLFNBQ1BDLE1BQU8sVUFDUEMsTUFBTyxZQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQQyxNQUFPLFdBQ1BDLE1BQU8sWUFDUEMsTUFBTyxRQUNQQyxNQUFPLFVBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFVBQ1BDLE1BQU8sV0FDUEMsTUFBTyxZQUNQQyxNQUFPLFNBQ1BDLE1BQU8sVUFDUEMsTUFBTyxTQUNQQyxNQUFPLFdBQ1BDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxNQUFPLFVBQ1BDLE1BQU8sWUFDUEMsTUFBTyxXQUNQ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LEdBRVhuQyxFQUFFdUQsR0FDR3ZDLE9BQU93QyxHQUVaeEQsRUFBRSxjQUFjZ0IsT0FBT3VDLElBRTNCRSxvQkFBcUIsU0FBVWpDLEVBQUlDLEdBQy9CekIsRUFBRSxhQUFhZ0IsT0FBZix5QkFBK0NTLEVBQS9DLDhCQUErRUQsRUFBQSxLQUEvRSxLQUE4RnZRLFNBQVN3USxHQUF2RyxpQkE4S0psRCxVQUFTbUYsU0FBUy9DLFNBQVMsV0FFM0JnQyxJQUdBYixJQUNBUyxJQUVBekM7QUMvWFI7QUNBQSxjQUFDLFdBRUcsR0FDSS9CLEdBR0E0RixFQUpBQyxFQUFXbkUsS0FBS29FLE1BQU1sSCxhQUFBLGtCQUFvQyxHQUUxRG1ILEVBQU05RCxFQUFFLE9BQ1IrRCxFQUFhL0QsRUFBRSx3QkFHbkIrRCxHQUFXakQsTUFBTSxTQUFVWixHQUN2QixHQUFJOEQsR0FBT3pGLFNBQVMwRixNQUNwQjFGLFVBQVMyRixPQUFVRixFQUFuQixpQkFHSkYsRUFBSTlDLE9BQU8rQyxHQUVYL1MsU0FBU3dNLElBQVQsU0FBc0JvRyxFQUFTdEcsS0FBT0csS0FBSyxRQUFTLFNBQVVDLEdBQzFESyxFQUFPTCxFQUFLSSxNQUFNQyxLQUNsQjRGLEVBQWMzRCxFQUFFLDBCQUVaakMsR0FBUSxJQUNSVSxRQUFRQyxJQUFJLG1DQUVaaUYsRUFBWTdDLE1BQU0sU0FBVVosR0FDeEJ6QixRQUFRQyxJQUFJLEtBRVosSUFBSXlGLEdBQU9qRSxFQUFFRyxPQUFPVSxVQUFVcUQsY0FDMUJKLEVBQU96RixTQUFTMEYsTUFFcEIxRixVQUFTMkYsT0FBVUYsRUFBbkIsSUFBMkJHLEVBQTNCLFdBR0pMLEVBQUk5QyxPQUFPMkMiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBjb25maWcgPSB7XHJcbiAgICBhcGlLZXk6IFwiQUl6YVN5Q1JmUnAyMGtFa3B3TzFCczMwc0R5QmtDNFFmLXJzdU5NXCIsXHJcbiAgICBhdXRoRG9tYWluOiBcImNvdXJzZS1maWxlLWF1ZGl0b3IuZmlyZWJhc2VhcHAuY29tXCIsXHJcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL2NvdXJzZS1maWxlLWF1ZGl0b3IuZmlyZWJhc2Vpby5jb21cIixcclxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwiY291cnNlLWZpbGUtYXVkaXRvci5hcHBzcG90LmNvbVwiLFxyXG59O1xyXG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XHJcblxyXG52YXIgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpO1xyXG5cclxuXHJcblxyXG4vKlxyXG5CZWxvdyBpcyBhIHNldCBvZiBxdWVyeSBzY3JpcHRzIHRvIG1vZGlmeSB0aGUgZGF0YWJhc2VcclxuKi9cclxuXHJcbi8qXHJcbmRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uY2UoXCJ2YWx1ZVwiLCBmdW5jdGlvbihzbmFwKXtcclxuICAgIHNuYXAuZm9yRWFjaChmdW5jdGlvbiAoY3NuYXApe1xyXG4gICAgICAgIGRhdGFiYXNlLnJlZihgTWFyaydzIFRvb2wvJHtjc25hcC5rZXl9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgQ29tcGxldGVkOiBcIkZhbHNlXCIsXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59KVxyXG4qL1xyXG5cbiIsInZhciBjb3JyRGF0YSA9IHtcclxuICAgIDE2MTQ5OiAnSEZFRCAzNDAnLFxyXG4gICAgMTYxNTA6ICdCIDI3NScsXHJcbiAgICAxNjE1MjogJ0IgMTAxJyxcclxuICAgIDE2MTUzOiAnQiA0MjQnLFxyXG4gICAgMTYxNTQ6ICdCIDM4MCcsXHJcbiAgICAxNjE1NTogJ0IgMTI5JyxcclxuICAgIDE2MTU2OiAnQiAxMDAnLFxyXG4gICAgMTYxNTg6ICdCIDQ5OUEnLFxyXG4gICAgMTYxNjE6ICdCIDQ0OCcsXHJcbiAgICAxNjE2MjogJ0ZIR0VOIDI3MCcsXHJcbiAgICAxNjE2NDogJ0ZBTUwgMzYwJyxcclxuICAgIDE2MTY1OiAnRkFNTCA0MzAnLFxyXG4gICAgMTYxNjY6ICdIRkVEIDEwMScsXHJcbiAgICAxNjE2NzogJ01FIDIwMScsXHJcbiAgICAxNjE3MDogJ0IgMTgzJyxcclxuICAgIDE2MTczOiAnRkhHRU4gMjUxRCcsXHJcbiAgICAxNjE3NTogJ0ZIR0VOIDExMicsXHJcbiAgICAxNjE3NjogJ0IgMjExJyxcclxuICAgIDE2MTc3OiAnRkFNTCA0NjAnLFxyXG4gICAgMTYxNzg6ICdGSEdFTiAxMjAnLFxyXG4gICAgMTYxNzk6ICdCIDI1MCcsXHJcbiAgICAxNjE4MDogJ0ZBTUwgNDAwJyxcclxuICAgIDE2MTgxOiAnRkhHRU4gMTYwJyxcclxuICAgIDE2MTgyOiAnRkhHRU4gMjExJyxcclxuICAgIDE2MTgzOiAnRkFNTCA0NDUnLFxyXG4gICAgMTYxODU6ICdCIDI4MycsXHJcbiAgICAxNjE4NzogJ0ZIR0VOIDEzMCcsXHJcbiAgICAxNjE4ODogJ0ZIR0VOIDM5OScsXHJcbiAgICAxNjE4OTogJ0IgNDAxJyxcclxuICAgIDE2MTkwOiAnRkhHRU4gMjUxQScsXHJcbiAgICAxNjE5MTogJ0ZBTUwgNDk4UicsXHJcbiAgICAxNjE5MjogJ0IgMzQxJyxcclxuICAgIDE2MTkzOiAnRkhHRU4gMjUxQicsXHJcbiAgICAxNjE5NTogJ0ZIR0VOIDI1MUMnLFxyXG4gICAgMTYxOTY6ICdCIDM3MCcsXHJcbiAgICAxNjE5NzogJ0NISUxEIDMyMCcsXHJcbiAgICAxNjE5ODogJ0ZIR0VOIDI1MkInLFxyXG4gICAgMTYxOTk6ICdCIDMwMScsXHJcbiAgICAxNjIwMDogJ0ZBTUwgMzAwJyxcclxuICAgIDE2MjAxOiAnRkhHRU4gMjEyJyxcclxuICAgIDE2MjAyOiAnQiAzMjEnLFxyXG4gICAgMTYyMDM6ICdvb3BzJyxcclxuICAgIDE2MjA0OiAnRkhHRU4gMTQwJyxcclxuICAgIDE2MjA1OiAnQiAzNjEnLFxyXG4gICAgMTYyMDc6ICdGRE1BVCAxMTInLFxyXG4gICAgMTYyMDg6ICdDSElMRCAzMDAnLFxyXG4gICAgMTYyMDk6ICdGQU1MIDEwMCcsXHJcbiAgICAxNjIxMTogJ0NISUxEIDIxMCcsXHJcbiAgICAxNjIxMjogJ0IgNDI0RCcsXHJcbiAgICAxNjIxMzogJ0VDT04gMTUwJyxcclxuICAgIDE2MjE0OiAnQUdCVVMgMTA1JyxcclxuICAgIDE2MjE1OiAnRkhHRU4gMTExJyxcclxuICAgIDE2MjE2OiAnRkFNTCAxNjAnLFxyXG4gICAgMTYyMTg6ICdCIDEwMCcsXHJcbiAgICAxNjIxOTogJ0VDT04gMTUxJyxcclxuICAgIDE2MjIxOiAnQiA0MTAnLFxyXG4gICAgMTk0OTI6ICdCIDQyOCcsXHJcbiAgICAyMzgwMDogJ0NTIDMxMycsXHJcbiAgICAyMzgwMTogJ0ZESFVNIDExMCcsXHJcbiAgICAzMzkyMzogJ0IgNDk5QicsXHJcbiAgICA0MDY2NDogJ0ZBTUwgMjAwJyxcclxuICAgIDQyMzc3OiAnRkRNQVQgMTA4JyxcclxuICAgIDUwMjczOiAnSFMgMzkwJyxcclxuICAgIDUwMjc0OiAnRkRXTEQgMjAxJyxcclxuICAgIDUwMjc1OiAnRU5HIDI1MicsXHJcbiAgICA1MDI3NjogJ0ZESU5UIDIxMScsXHJcbiAgICA1MDI3NzogJ0ZEV0xEIDEwMScsXHJcbiAgICA1MDI3OTogJ0FOVEggMTAxJyxcclxuICAgIDUwMjgxOiAnQ0lUIDM3MCcsXHJcbiAgICA1MDI4MzogJ0ZEU0NJIDEwMScsXHJcbiAgICA1MDI4NDogJ0VEIDIwMCcsXHJcbiAgICA1MDI4NjogJ0ZEU0NJIDIwMScsXHJcbiAgICA1MDI4OTogJ0FVVE8gMTI1JyxcclxuICAgIDUwMjkwOiAnSFMgMzEwJyxcclxuICAgIDU3NzEzOiAnUE9MU0MgMTEwJyxcclxuICAgIDU3NzE0OiAnQ0lUIDIzMCcsXHJcbiAgICA1ODM2OTogJ0JJTyAyNjVMJyxcclxuICAgIDU4MzcxOiAnQ09NTSAyNzMnLFxyXG4gICAgNTgzNzI6ICdCSU8gMjY0TCcsXHJcbiAgICA1OTY1NTogJ0hTIDI4MCcsXHJcbiAgICA1OTY1NjogJ0NPTU0gMTc1JyxcclxuICAgIDU5NjU3OiAnQ0lUIDE2MCcsXHJcbiAgICA1OTY1ODogJ0ZERU5HIDMwMScsXHJcbiAgICA1OTY1OTogJ0NPTU0gMTI1JyxcclxuICAgIDYxMDY1OiAnRkRTQ0kgMjAzJyxcclxuICAgIDYxMzczOiAnTlVUUiAxNTAnLFxyXG4gICAgNjEzNzQ6ICdNQSAxMDYnLFxyXG4gICAgNjEzNzU6ICdIUyAyODUnLFxyXG4gICAgNjEzNzY6ICdQU1lDSCAxMTInLFxyXG4gICAgNjEzNzc6ICdDSVQgMTEwJyxcclxuICAgIDYxMzc4OiAnV0REIDEwMCcsXHJcbiAgICA2MTM4MDogJ0NJVCAxMTEnLFxyXG4gICAgNjEzODE6ICdDSVQgMzM2JyxcclxuICAgIDYxOTA4OiAnUFNZQ0ggMTExJyxcclxuICAgIDYxOTA5OiAnRUQgMzEyJyxcclxuICAgIDYxOTEwOiAnRkRTQ0kgMjA1JyxcclxuICAgIDYxOTExOiAnQ0lUIDI0MCcsXHJcbiAgICA2MTkyMDogJ0hTIDM5MScsXHJcbiAgICA2MTkyODogJ1NPQyAxMTEnLFxyXG4gICAgNjE5Mjk6ICdNQVRIIDIyMUEnLFxyXG4gICAgNjIyMTY6ICdIUkhQIDEzMScsXHJcbiAgICA2MjIxNzogJ01BVEggMjIxQycsXHJcbiAgICA2MjIxODogJ0NPTU0gMTMwJyxcclxuICAgIDYyNDUzOiAnQ09NTSAxMDInLFxyXG4gICAgNjI1ODY6ICdNQVRIIDIyMUInLFxyXG4gICAgNjMxOTM6ICdCIDIyMCcsXHJcbiAgICA2MzE5NDogJ0NJVCAyNjAnLFxyXG4gICAgNjMxOTU6ICdIUyAzMjAnLFxyXG4gICAgNjMxOTY6ICdIUyAzNzAnLFxyXG4gICAgNjM0MTk6ICdDSVQgMjI1JyxcclxuICAgIDYzNTgxOiAnRkFNTCAyMjAnLFxyXG4gICAgNjM5MjE6ICdQU1lDSCAyMDEnLFxyXG4gICAgNjcxMjY6ICdIUyA0NjAnLFxyXG4gICAgNjcxMjc6ICdCSU8gMjIxJyxcclxuICAgIDY3MTI4OiAnSFMgNDY1JyxcclxuICAgIDY3MTI5OiAnQ09NTSAzMTAnLFxyXG4gICAgNjcxMzA6ICdIUyA0MDEnLFxyXG4gICAgNjcxMzE6ICdIUyA0MjUnLFxyXG4gICAgNjcxMzI6ICdDSVQgMjQxJyxcclxuICAgIDY3MTMzOiAnUFNZQ0ggMzAyJyxcclxuICAgIDY3MTM0OiAnQ09NTSAxMTEnLFxyXG4gICAgNjcxMzU6ICdQU1lDSCAzMTEnLFxyXG4gICAgNjcxMzY6ICdQT0xTQyAxNTAnLFxyXG4gICAgNjcxMzg6ICdIUyAzNDUnLFxyXG4gICAgNjcxMzk6ICdFRCAyMDInLFxyXG4gICAgNjcxNDA6ICdSTSAzMDQnLFxyXG4gICAgNzQ4Mzg6ICdDT01NIDMwNycsXHJcbiAgICA4MTIyMjogJ0NISUxEIDMxMCcsXHJcbiAgICA4MTgwNTogJ0NJVCAyNjEnLFxyXG4gICAgOTk0ODA6ICdIUyAyNDAnLFxyXG4gICAgOTk0ODI6ICdBR0JVUyAxMzgnLFxyXG4gICAgOTk0ODM6ICdCSU8gMzc1JyxcclxuICAgIDk5NDg0OiAnRkRSRUwgMTAwJyxcclxuICAgIDk5NDg1OiAnUE9MU0MgMTcwJyxcclxuICAgIDk5NDg2OiAnUk0gMzA3JyxcclxuICAgIDk5NDg3OiAnRU5HIDMyNScsXHJcbiAgICA5OTQ4ODogJ0NPTU0gMzUyJyxcclxuICAgIDk5NDg5OiAnUk0gNDcxJyxcclxuICAgIDk5NTMwOiAnQklPIDI2NScsXHJcbiAgICAxMDA4MDY6ICdNQSAxMDcnLFxyXG4gICAgMTAwODA3OiAnQklPIDI2NCcsXHJcbiAgICAxMDU2MTU6ICdUQSA0MDInLFxyXG4gICAgMTA1NzA2OiAnQ0lUIDI2MicsXHJcbiAgICAxMDYyNzc6ICdDSVQgMzgxJyxcclxuICAgIDEwNjI3ODogJ01BIDEwNScsXHJcbiAgICAxMDYyNzk6ICdDT01NIDE1MCcsXHJcbiAgICAxMDYyODA6ICdDSVQgMzI1JyxcclxuICAgIDEwNjI4MTogJ0NJVCAzNTInLFxyXG4gICAgMTA2MjgyOiAnQ09NTSAyNTAnLFxyXG4gICAgMTA2MjgzOiAnUk0gMzcxJyxcclxuICAgIDEwNjI4NDogJ0NPTU0gMjg5JyxcclxuICAgIDEwNjI4NTogJ0NPTU0gNDUwJyxcclxuICAgIDEwNjI4NjogJ1JNIDM3MCcsXHJcbiAgICAxMDYyODc6ICdTT0MgMTEyJyxcclxuICAgIDEwNjI4ODogJ0FHQlVTIDE4MEEnLFxyXG4gICAgMTA2MjkwOiAnQklPIDQ3NScsXHJcbiAgICAxMDYyOTE6ICdCSU8gMzgxJyxcclxuICAgIDEwNjI5MjogJ0hTIDM3NScsXHJcbiAgICAxMDYyOTM6ICdSTSAzNzNSJyxcclxuICAgIDEwNjI5NDogJ1JNIDQ3MicsXHJcbiAgICAxMDYyOTU6ICdNQSAyMDUnLFxyXG4gICAgMTA2Mjk2OiAnSFMgNDIwJyxcclxuICAgIDEwNjI5NzogJ0hTIDM3OCcsXHJcbiAgICAxMDYyOTg6ICdFTkcgMzU1JyxcclxuICAgIDEwNjMwMDogJ01BIDExMScsXHJcbiAgICAxMDYzMDE6ICdFTkcgMzM1JyxcclxuICAgIDEwNjMwMzogJ29vcHMnLFxyXG4gICAgMTA2OTg5OiAnRU5HIDI1MScsXHJcbiAgICAxMDgxMzM6ICdCIDEwMScsXHJcbiAgICAxMDgxMzQ6ICdGQU1MIDEwMCcsXHJcbiAgICAxMDgxMzU6ICdGQU1MIDIyMCcsXHJcbiAgICAxMDgxMzY6ICdGREVORyAzMDEnLFxyXG4gICAgMTA4MTM3OiAnRkRSRUwgMTIxJyxcclxuICAgIDEwODEzODogJ0ZEUkVMIDEyMicsXHJcbiAgICAxMDgxMzk6ICdGRFNDSSAyMDMnLFxyXG4gICAgMTA4MTQwOiAnRU5HIDMzMicsXHJcbiAgICAxMDgxNDI6ICdDSVQgMTEwJyxcclxuICAgIDEwODE0MzogJ0ZESFVNIDExMCcsXHJcbiAgICAxMDgxNDQ6ICdGRFNDSSAyMDEnLFxyXG4gICAgMTA4NTk5OiAnVEEgMTE2JyxcclxuICAgIDEwOTYzMzogJ0ZEU0NJIDEwMScsXHJcbiAgICAxMDk2NDE6ICdFTkcgMzE0J1xyXG59O1xyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZ25JbigpIHtcclxuICAgICAgICBpZiAoIWZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcikge1xyXG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3BsdXMubG9naW4nKTtcclxuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ3Byb2ZpbGUnKTtcclxuICAgICAgICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XHJcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUmVkaXJlY3QocHJvdmlkZXIpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnTWFuYWdlbWVudEF1dGhPJyk7XHJcbiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0Um9sZSh1aWQsIGZ1bmMpIHtcclxuICAgICAgICBkYXRhYmFzZS5yZWYoXCJ1c2Vyc1wiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNzbmFwLmtleSA9PT0gdWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjc25hcC52YWwoKS5yb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0QXBwKCkge1xyXG4gICAgICAgIGZpcmViYXNlLmF1dGgoKS5nZXRSZWRpcmVjdFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmNyZWRlbnRpYWwpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgR29vZ2xlIEFjY2VzcyBUb2tlbi4gWW91IGNhbiB1c2UgaXQgdG8gYWNjZXNzIHRoZSBHb29nbGUgQVBJLlxyXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRva2VuKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIG51bGwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdXNlciA9IHJlc3VsdC51c2VyO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICB2YXIgZXJyb3JDb2RlID0gZXJyb3IuY29kZSxcclxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBlbWFpbCA9IGVycm9yLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbCA9IGVycm9yLmNyZWRlbnRpYWw7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXJyb3JDb2RlID09PSAnYXV0aC9hY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsJykge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1lvdSBoYXZlIGFscmVhZHkgc2lnbmVkIHVwIHdpdGggYSBkaWZmZXJlbnQgYXV0aCBwcm92aWRlciBmb3IgdGhhdCBlbWFpbC4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICBpZiAodXNlcikge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhdXRoTyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiB1c2VyLmVtYWlsVmVyaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IHVzZXIucGhvdG9VUkwsXHJcbiAgICAgICAgICAgICAgICAgICAgdWlkOiB1c2VyLnVpZFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS50ZXh0Q29udGVudCA9ICdTaWduIG91dCc7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGB1c2Vycy8ke2F1dGhPLnVpZH1gKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBhdXRoTy5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aE8uZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogYXV0aE8uZW1haWxWZXJpZmllZCxcclxuICAgICAgICAgICAgICAgICAgICBwaG90b1VSTDogYXV0aE8ucGhvdG9VUkwsXHJcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBhdXRoTy51aWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRSb2xlKGF1dGhPLnVpZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKGB1c2Vycy8ke2F1dGhPLnVpZH1gKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlW1wiTWFuYWdlbWVudEF1dGhPXCJdID0gSlNPTi5zdHJpbmdpZnkoYXV0aE8pO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja3N0YXJ0LXNpZ24taW4nKS50ZXh0Q29udGVudCA9ICdTaWduIGluIHdpdGggR29vZ2xlJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tzdGFydC1zaWduLWluJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaWduSW4sIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGluaXRBcHAoKTtcclxuICAgIH1cclxuXHJcbn0oKSlcclxuIiwiLypcclxuZGF0YWJhc2UgaXMgYSBnbG9iYWwgdmFyaWFibGVcclxuKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgbG9hZGVkVXNlcnMgPSBbXSxcclxuICAgICAgICB0aW1lU3BlbnQgPSBbXSxcclxuICAgICAgICBkYXRhU2F2ZWQ7XHJcblxyXG4gICAgLypcclxuICAgIEV2ZW50cyB0byBoYW5kbGUgbW9kYWxzXHJcbiAgICAqL1xyXG4gICAgJChcImFcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgY2xhc3NJRCA9IGUudGFyZ2V0LmNsYXNzTmFtZTtcclxuICAgICAgICAkKGAjJHtjbGFzc0lEfWApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcImJsb2NrXCJcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoYCNzaGFkZWApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcImJsb2NrXCJcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5jaGVja2VkXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJChgI25hbWVQb3B1cGApLmNzcyh7XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVwiOiBcImJsb2NrXCJcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICAkKFwiLmNhbmNlbFwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICQocGFyZW50KS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKCcjc2hhZGUnKS5jc3Moe1xyXG4gICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCIsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKGAjbmFtZVBvcHVwYCkuY3NzKHtcclxuICAgICAgICAgICAgXCJkaXNwbGF5XCI6IFwibm9uZVwiXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjYXNzaWduXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgICAgIHZhciBpbnB1dEFzc2lnbiA9ICQoXCJbZGF0YS1jb3Vyc2VpZF0gPiBpbnB1dFwiKSxcclxuICAgICAgICAgICAgdXNlcnNMaXN0O1xyXG5cclxuICAgICAgICAkLmVhY2goaW5wdXRBc3NpZ24sIGZ1bmN0aW9uKGksIHZhbCl7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXNlck5hbWUgPSB2YWwudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBpZCA9IHZhbC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtY291cnNlaWRcIik7XHJcblxyXG4gICAgICAgICAgICBkYXRhYmFzZS5yZWYoXCJ1c2Vyc1wiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24oc25hcCl7XHJcbiAgICAgICAgICAgICAgICB1c2Vyc0xpc3QgPSBzbmFwLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdXNlcnNMaXN0KXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlcnNMaXN0W2ldLmRpc3BsYXlOYW1lID09PSB1c2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoYE1hcmsncyBUb29sLyR7aWR9YCkudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hlY2tlclwiOiB1c2Vyc0xpc3RbaV0udWlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8qXHJcbiAgICBUaGUgdXNlclNlbGVjdCwgdW5jaGVja291dCwgcG9wdWxhdGVDaGVjaywgYW5kIGNoZWNrZWRcclxuICAgIGFyZSBhbGwgdXNlZCBmb3IgdGhlIGNoZWNrb3V0IGZlYXR1cmUuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gdXNlclNlbGVjdCgpIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSAkKFwiPGlucHV0PjwvaW5wdXQ+XCIpO1xyXG5cclxuICAgICAgICBpbnB1dC5rZXl1cChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAkKFwiI3VzZXJOYW1lc1wiKS5odG1sKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGlucHV0VmFsID0gZS50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZElucHV0ID0gZS50YXJnZXRcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZGVkVXNlcnMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVkVXNlcnNbaV0uaW5jbHVkZXMoaW5wdXRWYWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmEgPSAkKGA8cD4ke2xvYWRlZFVzZXJzW2ldfTwvcD5gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYS5hdHRyKFwiaWRcIiwgXCJlbXBOYW1lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzZWxlY3RlZElucHV0KS52YWwoZS50YXJnZXQuaW5uZXJUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiN1c2VyTmFtZXNcIikuYXBwZW5kKHBhcmEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5jaGVja291dChlKSB7XHJcbiAgICAgICAgdmFyIGNsaWNrZWRFbGVtZW50ID0gZS50YXJnZXQsXHJcbiAgICAgICAgICAgIGNvdXJzZUlEID0gJChjbGlja2VkRWxlbWVudCkuYXR0cihcImRhdGEtY291cnNlaWRcIik7XHJcblxyXG4gICAgICAgIGRhdGFiYXNlLnJlZihgTWFyaydzIFRvb2wvJHtjb3Vyc2VJRH1gKS51cGRhdGUoe1xyXG4gICAgICAgICAgICBjaGVja2VyOiBcIlwiXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgJChlLnRhcmdldCkuY3NzKHtcclxuICAgICAgICAgICAgXCJkaXNwbGF5XCI6IFwibm9uZVwiLFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIFJ1bnMgdGhlIGRhdGEgZm9yIHRoZSBjaGVja2VkIE1vZGFsXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gcG9wdWxhdGVDaGVjayhjZCwgY24sIHRhcikge1xyXG4gICAgICAgIHZhciBwb3B1bGF0ZSA9ICQoYCMke3Rhcn1gKSxcclxuICAgICAgICAgICAgY291cnNlTmFtZSA9ICQoYDxsYWJlbCBkYXRhLWNvdXJzZUlEPVwiJHtjbn1cIj48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtjZFsnTGluayddfVwiPiR7Y29yckRhdGFbY25dfTwvYT48L2xhYmVsPmApLFxyXG4gICAgICAgICAgICBpbnB1dDtcclxuXHJcbiAgICAgICAgaWYgKGNkLmNoZWNrZXIgIT09IFwiXCIgJiYgdGFyID09PSBcImNoZWNrZWRPdXRcIikge1xyXG4gICAgICAgICAgICBkYXRhYmFzZS5yZWYoYHVzZXJzLyR7Y2QuY2hlY2tlcn1gKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHNuYXAudmFsKCkuZGlzcGxheU5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY291cnNlTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoYDxwPiR7ZGlzcGxheU5hbWV9PC9wPmApXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIiAmdGltZXM7XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY3Vyc29yXCI6IFwicG9pbnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2xpY2sodW5jaGVja291dCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFyID09PSBcInVuYXNzaWduZWRcIikge1xyXG4gICAgICAgICAgICBpbnB1dCA9IHVzZXJTZWxlY3QoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvdXJzZU5hbWUuYXBwZW5kKGlucHV0KTtcclxuXHJcbiAgICAgICAgcG9wdWxhdGUuYXBwZW5kKGNvdXJzZU5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrZWQoKSB7XHJcblxyXG4gICAgICAgIGRhdGFiYXNlLnJlZihcIk1hcmsncyBUb29sXCIpLm9uKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvdXJzZURhdGEgPSBjc25hcC52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VOYW1lID0gY3NuYXAua2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdGhpbmcgPSBcIlRoZXJlIGlzIG5vdGhpbmcgaGVyZSFcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY291cnNlRGF0YVtcIkNvbnRlbnQgUGFnZXNcIl0gIT09IG5vdGhpbmcgfHwgY291cnNlRGF0YVtcIlF1aXp6ZXNcIl0gIT09IG5vdGhpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY291cnNlRGF0YS5zdGF0dXMgPT09IFwiUGVuZGluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFjb3Vyc2VEYXRhLmNoZWNrZXIgPyBwb3B1bGF0ZUNoZWNrKGNvdXJzZURhdGEsIGNvdXJzZU5hbWUsIFwidW5hc3NpZ25lZFwiKSA6IHBvcHVsYXRlQ2hlY2soY291cnNlRGF0YSwgY291cnNlTmFtZSwgXCJjaGVja2VkT3V0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgUnVucyB0aGUgZGF0YSBmb3IgdGhlIGZpbmlzaGVkIG1vZGFsLiAgU2VlIHdoaWNoIGNvdXJzZXNcclxuICAgIGhhdmUgYSBcIlN0dWRlbnQgQXBwcm92ZWRcIiBhbmQgYSBcIkRlc2lnbmVyIEFwcHJvdmFsXCJcclxuICAgIG9uIHRoZWlyIHN0YXR1cyBub2RlIGluIHRoZSBkYXRhYmFzZS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhcHByb3ZlZChlKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LFxyXG4gICAgICAgICAgICBjb3Vyc2VJRCA9IHBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb3Vyc2VpZFwiKTtcclxuXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKGBNYXJrJ3MgVG9vbC8ke2NvdXJzZUlEfWApLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHN0YXR1czogXCJEZXNpZ25lciBBcHByb3ZlZFwiXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZS50YXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzdGF0dXNGdW5jdGlvbnMgPSB7XHJcbiAgICAgICAgXCJTdHVkZW50IEFwcHJvdmVkXCI6IGZ1bmN0aW9uIChjZCwgY24pIHtcclxuICAgICAgICAgICAgdmFyIGxhYmVsID0gJChgPGxhYmVsIGRhdGEtY291cnNlSUQ9XCIke2NufVwiPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke2NkWydMaW5rJ119XCI+JHtjb3JyRGF0YVtjbl19PC9hPjwvbGFiZWw+YCksXHJcbiAgICAgICAgICAgICAgICBjaGVjayA9ICQoYDxzcGFuPiYjeDI3MTM7PC9zcGFuPmApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgUHVzaC5jcmVhdGUoJ05ldyBTdHVkZW50IEFwcHJvdmFsIScsIHtcclxuICAgICAgICAgICAgICAgIFwiYm9keVwiOiBgJHtjb3JyRGF0YVtjbl19IGlzIHJlYWR5LmAsXHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiA3MDAwXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICAkKGNoZWNrKVxyXG4gICAgICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjdXJzb3JcIjogXCJwb2ludGVyXCJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soYXBwcm92ZWQpO1xyXG5cclxuICAgICAgICAgICAgJChsYWJlbClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoY2hlY2spO1xyXG5cclxuICAgICAgICAgICAgJChcIiNjb21wbGV0ZWRcIikuYXBwZW5kKGxhYmVsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiRGVzaWduZXIgQXBwcm92ZWRcIjogZnVuY3Rpb24gKGNkLCBjbikge1xyXG4gICAgICAgICAgICAkKFwiI2FwcHJvdmVkXCIpLmFwcGVuZChgPGxhYmVsIGRhdGEtY291cnNlSUQ9XCIke2NufVwiPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke2NkWydMaW5rJ119XCI+JHtjb3JyRGF0YVtjbl19PC9hPjwvbGFiZWw+YCk7XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5pc2hlZCgpIHtcclxuICAgICAgICBkYXRhYmFzZS5yZWYoXCJNYXJrJ3MgVG9vbFwiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvdXJzZURhdGEgPSBjc25hcC52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSBjb3Vyc2VEYXRhLkNvbXBsZXRlZCxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBjb3Vyc2VEYXRhLnN0YXR1cztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gXCJEZXNpZ25lciBBcHByb3ZlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzRnVuY3Rpb25zW3N0YXR1c10oY291cnNlRGF0YSwgY3NuYXAua2V5KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcGxldGVkID09PSBcIlRydWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0Z1bmN0aW9uc1tcIlN0dWRlbnQgQXBwcm92ZWRcIl0oY291cnNlRGF0YSwgY3NuYXAua2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBTY3JpcHQgZm9yIGNvZGluZyB0aGUgcmVwb3J0IGdyYXBocy5cclxuICAgICovXHJcblxyXG4gICAgLy8gICAgZm9yIGRldmVsb3BtZW50IG9mIGNoYXJ0IGdyYXBoc1xyXG4gICAgLy8gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGF0c1wiKS5jbGljaygpO1xyXG5cclxuICAgIC8qRGVmYXVsdCBzZXR0aW5ncyBmb3IgdGhlIHR3byBncmFwaHMqL1xyXG4gICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnRGF0YSBTYXZlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoNzUsMTkyLDE5MiwwLjQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwicmdiYSgzMywgOTgsIDk4LCAwLjQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YVNhdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJUaW1lIFNwZW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMjMsIDU2LCAyMzQsIDAuNClcIixcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogXCJyZ2JhKDAsIDExLCA3MiwgMC40KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRpbWVTcGVudFxyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBzY2FsZXM6IHtcclxuICAgICAgICAgICAgICAgIHhBeGVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nOiAnTW9udGhzJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgIHlBeGVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogJydcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAvKlJldHJpZXZlIHRoZSBkYXRhIGZvciBhbW91bnQgb2YgZGF0YSBzYXZlZCovXHJcbiAgICBmdW5jdGlvbiBjaGFydHMoKSB7XHJcbiAgICAgICAgdmFyIGN0eCA9ICQoXCIuY2hhcnRcIiksXHJcbiAgICAgICAgICAgIG15TGluZUNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZFVzZXJzKCkge1xyXG4gICAgICAgIC8qTG9hZCBhbGwgdGhlIHVzZXJzIGZyb20gdGhlIGRhdGFiYXNlKi9cclxuICAgICAgICBkYXRhYmFzZS5yZWYoXCJ1c2Vyc1wiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBjc25hcC52YWwoKS5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgIGxvYWRlZFVzZXJzLnB1c2gobmFtZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZENoYXJ0RGF0YSgpIHtcclxuXHJcbiAgICAgICAgdmFyIG1vbnRocyA9IFtcclxuICAgICAgICAgICAgICAgIFwiSmFuXCIsXHJcbiAgICAgICAgICAgICAgICBcIkZlYlwiLFxyXG4gICAgICAgICAgICAgICAgXCJNYXJcIixcclxuICAgICAgICAgICAgICAgIFwiQXByXCIsXHJcbiAgICAgICAgICAgICAgICBcIk1heVwiLFxyXG4gICAgICAgICAgICAgICAgXCJKdW5cIixcclxuICAgICAgICAgICAgICAgIFwiSnVsXCIsXHJcbiAgICAgICAgICAgICAgICBcIkF1Z1wiLFxyXG4gICAgICAgICAgICAgICAgXCJTZXB0XCIsXHJcbiAgICAgICAgICAgICAgICBcIk9jdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJOb3ZcIixcclxuICAgICAgICAgICAgICAgIFwiRGVjXCJcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIG51bURheSA9IGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICBtb250aERpZyA9IGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgICAgbW9udGggPSBtb250aHNbbW9udGhEaWddO1xyXG5cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBUSU1FIEdBVEhFUkVSIERBVEFcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiNlwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImxhYmVsXCI6IFwiSnVsXCJcclxuICAgICAgICAgICAgICAgIFwidG90YWxcIjogNDU2LFxyXG4gICAgICAgICAgICAgICAgXCJlbnRyaWVzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIlBVU0hfSURcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpbWVcIjogMjQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VibWl0dGVyXCI6IFwiQW5kcmV3XCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIERBVEEgU0FWRURcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiZGF0YV9zYXZlZFwiOiB7XHJcbiAgICAgICAgICAgICAgICBcIm1vbnRoXCI6IFwiNlwiLFxyXG4gICAgICAgICAgICAgICAgXCJhbW91bnRcIjogXCJcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIC8qREFUQSBTQVZFRCovXHJcbiAgICAgICAgZGF0YWJhc2UucmVmKFwiTWFyaydzIFRvb2xcIikub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgICAgIHNuYXAuZm9yRWFjaChmdW5jdGlvbiAoY3NuYXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb3Vyc2VEYXRhID0gY3NuYXAudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNhdmVkID0gY291cnNlRGF0YVtcImRhdGFfc2F2ZWRcIl07XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhU2F2ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSArZGF0YVNhdmVkW2ldLm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSArZGF0YVNhdmVkW2ldLmFtb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29vciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieFwiOiBtb250aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieVwiOiBhbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNhdmVkLnB1c2goY29vcilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgLypUSU1FIEdBVEhFUkVSKi9cclxuICAgICAgICBkYXRhYmFzZS5yZWYoXCJNYXJrJ3MgVG9vbFwiKS5vbmNlKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXApIHtcclxuICAgICAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChjc25hcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvdXJzZURhdGEgPSBjc25hcC52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lRGF0YSA9IGNvdXJzZURhdGFbXCJ0aW1lX3NwZW50XCJdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGltZURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURhdGEgPSArdGltZURhdGFbaV0udG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bU1vbnRoID0gK2ksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInhcIjogbnVtTW9udGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInlcIjogdGltZURhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVNwZW50LnB1c2goY29vcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgRGV0ZXJtaW5lIHRoYXQgdGhlIGxvY2F0aW9uIGlzIHRoZSBhZG1pbiBwYWdlIGFuZCBsb2FkXHJcbiAgICBhbGwgb2YgdGhlIGRhdGEgd2l0aCB0aGUgYWRtaW5pc3RyYXRvciByb2xlLlxyXG4gICAgKi9cclxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcyhcImFkbWluXCIpKSB7XHJcblxyXG4gICAgICAgIGxvYWRVc2VycygpO1xyXG4gICAgICAgIC8vICAgICAgICBsb2FkQ2hhcnREYXRhKCk7XHJcblxyXG4gICAgICAgIGNoZWNrZWQoKTtcclxuICAgICAgICBmaW5pc2hlZCgpO1xyXG4gICAgICAgIC8vICAgICAgICBjaGFydHMoKTtcclxuICAgICAgICB1c2VyU2VsZWN0KCk7XHJcbiAgICB9XHJcblxyXG59KCkpO1xyXG4iLCJcInVzZSBzdHJpY3RcIjsiLCIoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBhdXRoRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWydNYW5hZ2VtZW50QXV0aE8nXSkgfHwgXCJcIixcclxuICAgICAgICByb2xlLFxyXG4gICAgICAgIG5hdiA9ICQoXCJuYXZcIiksXHJcbiAgICAgICAgaG9tZUJ1dHRvbiA9ICQoXCI8YnV0dG9uPkhvbWU8L2J1dHRvbj5cIiksXHJcbiAgICAgICAgYWRtaW5CdXR0b247XHJcblxyXG4gICAgaG9tZUJ1dHRvbi5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciByb290ID0gbG9jYXRpb24ub3JpZ2luO1xyXG4gICAgICAgIGxvY2F0aW9uLmFzc2lnbihgJHtyb290fS9pbmRleC5odG1sYCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBuYXYuYXBwZW5kKGhvbWVCdXR0b24pO1xyXG5cclxuICAgIGRhdGFiYXNlLnJlZihgdXNlcnMvJHthdXRoRGF0YS51aWR9YCkub25jZShcInZhbHVlXCIsIGZ1bmN0aW9uIChzbmFwKSB7XHJcbiAgICAgICAgcm9sZSA9IHNuYXAudmFsKCkucm9sZSxcclxuICAgICAgICBhZG1pbkJ1dHRvbiA9ICQoXCI8YnV0dG9uPkFkbWluPC9idXR0b24+XCIpO1xyXG5cclxuICAgICAgICBpZiAocm9sZSA+PSA4KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBsb2dnZWQgaW4gaXMgQWRtaW5pc3RyYXRvclwiKTtcclxuXHJcbiAgICAgICAgICAgIGFkbWluQnV0dG9uLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxpXCIpXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBlLnRhcmdldC5pbm5lclRleHQudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgICAgICAgICByb290ID0gbG9jYXRpb24ub3JpZ2luO1xyXG5cclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbihgJHtyb290fS8ke3BhZ2V9Lmh0bWxgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBuYXYuYXBwZW5kKGFkbWluQnV0dG9uKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSgpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
